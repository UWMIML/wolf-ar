parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"dKqR":[function(require,module,exports) {
"use strict";function t(){}Object.defineProperty(exports,"__esModule",{value:!0}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),Object.assign(t.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[t]&&-1!==r[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var r=this._listeners[t];if(void 0!==r){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var r=e.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,t)}}}});var e="94",r={LEFT:0,MIDDLE:1,RIGHT:2},n=0,i=1,o=2,a=3,s=0,c=1,h=0,l=1,u=2,p=0,d=1,f=2,m=1,g=2,v=0,y=1,x=2,b=0,_=1,w=2,M=3,E=4,T=5,S=100,A=101,R=102,L=103,C=104,P=200,O=201,I=202,N=203,D=204,U=205,B=206,F=207,z=208,G=209,H=210,V=0,k=1,j=2,W=3,X=4,q=5,Y=6,J=7,Z=0,Q=1,K=2,$=0,tt=1,et=2,rt=3,nt=4,it=300,ot=301,at=302,st=303,ct=304,ht=305,lt=306,ut=307,pt=1e3,dt=1001,ft=1002,mt=1003,gt=1004,vt=1005,yt=1006,xt=1007,bt=1008,_t=1009,wt=1010,Mt=1011,Et=1012,Tt=1013,St=1014,At=1015,Rt=1016,Lt=1017,Ct=1018,Pt=1019,Ot=1020,It=1021,Nt=1022,Dt=1023,Ut=1024,Bt=1025,Ft=Dt,zt=1026,Gt=1027,Ht=33776,Vt=33777,kt=33778,jt=33779,Wt=35840,Xt=35841,qt=35842,Yt=35843,Jt=36196,Zt=37808,Qt=37809,Kt=37810,$t=37811,te=37812,ee=37813,re=37814,ne=37815,ie=37816,oe=37817,ae=37818,se=37819,ce=37820,he=37821,le=2200,ue=2201,pe=2202,de=2300,fe=2301,me=2302,ge=2400,ve=2401,ye=2402,xe=0,be=1,_e=2,we=3e3,Me=3001,Ee=3007,Te=3002,Se=3003,Ae=3004,Re=3005,Le=3006,Ce=3200,Pe=3201,Oe=0,Ie=1,Ne={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&r]+t[r>>8&255]+"-"+t[r>>16&15|64]+t[r>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},lerp:function(t,e,r){return(1-r)*t+r*e},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ne.DEG2RAD},radToDeg:function(t){return t*Ne.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function De(t,e){this.x=t||0,this.y=e||0}function Ue(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Be(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1}function Fe(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0}function ze(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(De.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(De.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new De,e=new De;return function(r,n){return t.set(r,r),e.set(n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*n+t.x,this.y=i*n+o*r+t.y,this}}),Object.assign(Ue.prototype,{isMatrix4:!0,set:function(t,e,r,n,i,o,a,s,c,h,l,u,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=h,g[10]=l,g[14]=u,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ue).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this},copyPosition:function(t){var e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this},extractBasis:function(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this},extractRotation:function(){var t=new Fe;return function(e){var r=this.elements,n=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=0,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[7]=0,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,r=t.x,n=t.y,i=t.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),c=Math.sin(n),h=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var u=o*h,p=o*l,d=a*h,f=a*l;e[0]=s*h,e[4]=-s*l,e[8]=c,e[1]=p+d*c,e[5]=u-f*c,e[9]=-a*s,e[2]=f-u*c,e[6]=d+p*c,e[10]=o*s}else if("YXZ"===t.order){var m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*c,e[1]=o*l,e[5]=o*h,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m-y*a,e[4]=-o*l,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*h,e[9]=y-m*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){u=o*h,p=o*l,d=a*h,f=a*l;e[0]=s*h,e[4]=d*c-p,e[8]=u*c+f,e[1]=s*l,e[5]=f*c+u,e[9]=p*c-d,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var x=o*s,b=o*c,_=a*s,w=a*c;e[0]=s*h,e[4]=w-x*l,e[8]=_*l+b,e[1]=l,e[5]=o*h,e[9]=-a*h,e[2]=-c*h,e[6]=b*l+_,e[10]=x-w*l}else if("XZY"===t.order){x=o*s,b=o*c,_=a*s,w=a*c;e[0]=s*h,e[4]=-l,e[8]=c*h,e[1]=x*l+w,e[5]=o*h,e[9]=b*l-_,e[2]=_*l-b,e[6]=a*h,e[10]=w*l+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new Fe(0,0,0),e=new Fe(1,1,1);return function(r){return this.compose(t,r,e)}}(),lookAt:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o){var a=this.elements;return r.subVectors(n,i),0===r.lengthSq()&&(r.z=1),r.normalize(),t.crossVectors(o,r),0===t.lengthSq()&&(1===Math.abs(o.z)?r.x+=1e-4:r.z+=1e-4,r.normalize(),t.crossVectors(o,r)),t.normalize(),e.crossVectors(r,t),a[0]=t.x,a[4]=e.x,a[8]=r.x,a[1]=t.y,a[5]=e.y,a[9]=r.y,a[2]=t.z,a[6]=e.z,a[10]=r.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],h=r[1],l=r[5],u=r[9],p=r[13],d=r[2],f=r[6],m=r[10],g=r[14],v=r[3],y=r[7],x=r[11],b=r[15],_=n[0],w=n[4],M=n[8],E=n[12],T=n[1],S=n[5],A=n[9],R=n[13],L=n[2],C=n[6],P=n[10],O=n[14],I=n[3],N=n[7],D=n[11],U=n[15];return i[0]=o*_+a*T+s*L+c*I,i[4]=o*w+a*S+s*C+c*N,i[8]=o*M+a*A+s*P+c*D,i[12]=o*E+a*R+s*O+c*U,i[1]=h*_+l*T+u*L+p*I,i[5]=h*w+l*S+u*C+p*N,i[9]=h*M+l*A+u*P+p*D,i[13]=h*E+l*R+u*O+p*U,i[2]=d*_+f*T+m*L+g*I,i[6]=d*w+f*S+m*C+g*N,i[10]=d*M+f*A+m*P+g*D,i[14]=d*E+f*R+m*O+g*U,i[3]=v*_+y*T+x*L+b*I,i[7]=v*w+y*S+x*C+b*N,i[11]=v*M+y*A+x*P+b*D,i[15]=v*E+y*R+x*O+b*U,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Fe;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix4(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],h=t[2],l=t[6],u=t[10],p=t[14];return t[3]*(+i*s*l-n*c*l-i*a*u+r*c*u+n*a*p-r*s*p)+t[7]*(+e*s*p-e*c*u+i*o*u-n*o*p+n*c*h-i*s*h)+t[11]*(+e*c*l-e*a*p-i*o*l+r*o*p+i*a*h-r*c*h)+t[15]*(-n*a*h-e*s*l+e*a*u+n*o*l-r*o*u+r*s*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var r=this.elements,n=t.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],h=n[5],l=n[6],u=n[7],p=n[8],d=n[9],f=n[10],m=n[11],g=n[12],v=n[13],y=n[14],x=n[15],b=d*y*u-v*f*u+v*l*m-h*y*m-d*l*x+h*f*x,_=g*f*u-p*y*u-g*l*m+c*y*m+p*l*x-c*f*x,w=p*v*u-g*d*u+g*h*m-c*v*m-p*h*x+c*d*x,M=g*d*l-p*v*l-g*h*f+c*v*f+p*h*y-c*d*y,E=i*b+o*_+a*w+s*M;if(0===E){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/E;return r[0]=b*S,r[1]=(v*f*s-d*y*s-v*a*m+o*y*m+d*a*x-o*f*x)*S,r[2]=(h*y*s-v*l*s+v*a*u-o*y*u-h*a*x+o*l*x)*S,r[3]=(d*l*s-h*f*s-d*a*u+o*f*u+h*a*m-o*l*m)*S,r[4]=_*S,r[5]=(p*y*s-g*f*s+g*a*m-i*y*m-p*a*x+i*f*x)*S,r[6]=(g*l*s-c*y*s-g*a*u+i*y*u+c*a*x-i*l*x)*S,r[7]=(c*f*s-p*l*s+p*a*u-i*f*u-c*a*m+i*l*m)*S,r[8]=w*S,r[9]=(g*d*s-p*v*s-g*o*m+i*v*m+p*o*x-i*d*x)*S,r[10]=(c*v*s-g*h*s+g*o*u-i*v*u-c*o*x+i*h*x)*S,r[11]=(p*h*s-c*d*s-p*o*u+i*d*u+c*o*m-i*h*m)*S,r[12]=M*S,r[13]=(p*v*a-g*d*a+g*o*f-i*v*f-p*o*y+i*d*y)*S,r[14]=(g*h*a-c*v*a-g*o*l+i*v*l+c*o*y-i*h*y)*S,r[15]=(c*d*a-p*h*a+p*o*l-i*d*l-c*o*f+i*h*f)*S,this},scale:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},makeTranslation:function(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=1-r,o=t.x,a=t.y,s=t.z,c=i*o,h=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,h*a+r,h*s-n*o,0,c*s-n*a,h*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(t,e,r){return this.set(1,e,r,0,t,1,r,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,r){var n=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,c=i+i,h=o+o,l=a+a,u=i*c,p=i*h,d=i*l,f=o*h,m=o*l,g=a*l,v=s*c,y=s*h,x=s*l,b=r.x,_=r.y,w=r.z;return n[0]=(1-(f+g))*b,n[1]=(p+x)*b,n[2]=(d-y)*b,n[3]=0,n[4]=(p-x)*_,n[5]=(1-(u+g))*_,n[6]=(m+v)*_,n[7]=0,n[8]=(d+y)*w,n[9]=(m-v)*w,n[10]=(1-(u+f))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},decompose:function(){var t=new Fe,e=new Ue;return function(r,n,i){var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],e.copy(this);var h=1/a,l=1/s,u=1/c;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=u,e.elements[9]*=u,e.elements[10]*=u,n.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makePerspective:function(t,e,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),c=2*i/(r-n),h=(e+t)/(e-t),l=(r+n)/(r-n),u=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,r,n,i,o){var a=this.elements,s=1/(e-t),c=1/(r-n),h=1/(o-i),l=(e+t)*s,u=(r+n)*c,p=(o+i)*h;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}),Object.assign(Be,{slerp:function(t,e,r,n){return r.copy(t).slerp(e,n)},slerpFlat:function(t,e,r,n,i,o,a){var s=r[n+0],c=r[n+1],h=r[n+2],l=r[n+3],u=i[o+0],p=i[o+1],d=i[o+2],f=i[o+3];if(l!==f||s!==u||c!==p||h!==d){var m=1-a,g=s*u+c*p+h*d+l*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,g*v);m=Math.sin(m*b)/x,a=Math.sin(a*b)/x}var _=a*v;if(s=s*m+u*_,c=c*m+p*_,h=h*m+d*_,l=l*m+f*_,m===1-a){var w=1/Math.sqrt(s*s+c*c+h*h+l*l);s*=w,c*=w,h*=w,l*=w}}t[e]=s,t[e+1]=c,t[e+2]=h,t[e+3]=l}}),Object.defineProperties(Be.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Be.prototype,{set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=t._x,n=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,c=a(r/2),h=a(n/2),l=a(i/2),u=s(r/2),p=s(n/2),d=s(i/2);return"XYZ"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"YXZ"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"ZXY"===o?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"ZYX"===o?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"YZX"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l-u*p*d):"XZY"===o&&(this._x=u*h*l-c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l+u*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],c=r[9],h=r[2],l=r[6],u=r[10],p=n+s+u;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-c)*e,this._y=(o-h)*e,this._z=(a-i)*e):n>s&&n>u?(e=2*Math.sqrt(1+n-s-u),this._w=(l-c)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+h)/e):s>u?(e=2*Math.sqrt(1+s-n-u),this._w=(o-h)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(c+l)/e):(e=2*Math.sqrt(1+u-n-s),this._w=(a-i)/e,this._x=(o+h)/e,this._y=(c+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new Fe;return function(r,n){return void 0===e&&(e=new Fe),(t=r.dot(n)+1)<1e-6?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,n),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,h=e._w;return this._x=r*h+o*a+n*c-i*s,this._y=n*h+o*s+i*a-r*c,this._z=i*h+o*c+r*s-n*a,this._w=o*h-r*a-n*s-i*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-e;return this._w=c*o+e*this._w,this._x=c*r+e*this._x,this._y=c*n+e*this._y,this._z=c*i+e*this._z,this.normalize()}var h=Math.sqrt(s),l=Math.atan2(h,a),u=Math.sin((1-e)*l)/h,p=Math.sin(e*l)/h;return this._w=o*u+this._w*p,this._x=r*u+this._x*p,this._y=n*u+this._y*p,this._z=i*u+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Fe.prototype,{isVector3:!0,set:function(t,e,r){return this.x=t,this.y=e,this.z=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Be;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new Be;return function(e,r){return this.applyQuaternion(t.setFromAxisAngle(e,r))}}(),applyMatrix3:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(t){var e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*n-a*r,h=s*r+a*e-i*n,l=s*n+i*r-o*e,u=-i*e-o*r-a*n;return this.x=c*s+u*-i+h*-a-l*-o,this.y=h*s+u*-o+l*-i-c*-a,this.z=l*s+u*-a+c*-o-h*-i,this},project:function(){var t=new Ue;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new Ue;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Fe,e=new Fe;return function(r,n){return t.set(r,r,r),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Fe;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new Fe;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ne.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(ze.prototype,{isMatrix3:!0,set:function(t,e,r,n,i,o,a,s,c){var h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=s,h[6]=r,h[7]=o,h[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Fe;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix3(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[3],s=r[6],c=r[1],h=r[4],l=r[7],u=r[2],p=r[5],d=r[8],f=n[0],m=n[3],g=n[6],v=n[1],y=n[4],x=n[7],b=n[2],_=n[5],w=n[8];return i[0]=o*f+a*v+s*b,i[3]=o*m+a*y+s*_,i[6]=o*g+a*x+s*w,i[1]=c*f+h*v+l*b,i[4]=c*m+h*y+l*_,i[7]=c*g+h*x+l*w,i[2]=u*f+p*v+d*b,i[5]=u*m+p*y+d*_,i[8]=u*g+p*x+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],h=t[8];return e*o*h-e*a*c-r*i*h+r*a*s+n*i*c-n*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var r=t.elements,n=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],h=r[5],l=r[6],u=r[7],p=r[8],d=p*c-h*u,f=h*l-p*s,m=u*s-c*l,g=i*d+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return n[0]=d*y,n[1]=(a*u-p*o)*y,n[2]=(h*o-a*c)*y,n[3]=f*y,n[4]=(p*i-a*l)*y,n[5]=(a*s-h*i)*y,n[6]=m*y,n[7]=(o*l-u*i)*y,n[8]=(c*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,r,n,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(r*s,r*c,-r*(s*o+c*a)+o+t,-n*c,n*s,-n*(-c*o+s*a)+a+e,0,0,1)},scale:function(t,e){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this},rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],o=n[3],a=n[6],s=n[1],c=n[4],h=n[7];return n[0]=e*i+r*s,n[3]=e*o+r*c,n[6]=e*a+r*h,n[1]=-r*i+e*s,n[4]=-r*o+e*c,n[7]=-r*a+e*h,this},translate:function(t,e){var r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<9;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<9;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}});var Ge=0;function He(t,e,r,n,i,o,a,s,c,h){Object.defineProperty(this,"id",{value:Ge++}),this.uuid=Ne.generateUUID(),this.name="",this.image=void 0!==t?t:He.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:He.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:dt,this.wrapT=void 0!==n?n:dt,this.magFilter=void 0!==i?i:yt,this.minFilter=void 0!==o?o:bt,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:Dt,this.type=void 0!==s?s:_t,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ze,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:we,this.version=0,this.onUpdate=null}function Ve(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1}function ke(t,e,r){this.width=t,this.height=e,this.scissor=new Ve(0,0,t,e),this.scissorTest=!1,this.viewport=new Ve(0,0,t,e),void 0===(r=r||{}).minFilter&&(r.minFilter=yt),this.texture=new He(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.generateMipmaps=void 0===r.generateMipmaps||r.generateMipmaps,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function je(t,e,r){ke.call(this,t,e,r),this.activeCubeFace=0,this.activeMipMapLevel=0}function We(t,e,r,n,i,o,a,s,c,h,l,u){He.call(this,null,o,a,s,c,h,n,i,l,u),this.image={data:t,width:e,height:r},this.magFilter=void 0!==c?c:mt,this.minFilter=void 0!==h?h:mt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Xe(t,e){this.min=void 0!==t?t:new Fe(1/0,1/0,1/0),this.max=void 0!==e?e:new Fe(-1/0,-1/0,-1/0)}function qe(t,e){this.center=void 0!==t?t:new Fe,this.radius=void 0!==e?e:0}function Ye(t,e){this.normal=void 0!==t?t:new Fe(1,0,0),this.constant=void 0!==e?e:0}function Je(t,e,r,n,i,o){this.planes=[void 0!==t?t:new Ye,void 0!==e?e:new Ye,void 0!==r?r:new Ye,void 0!==n?n:new Ye,void 0!==i?i:new Ye,void 0!==o?o:new Ye]}He.DEFAULT_IMAGE=void 0,He.DEFAULT_MAPPING=it,He.prototype=Object.assign(Object.create(t.prototype),{constructor:He,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];function r(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height;var r=e.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height)}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Ne.generateUUID()),!e&&void 0===t.images[i.uuid]){var o;if(Array.isArray(i)){o=[];for(var a=0,s=i.length;a<s;a++)o.push(r(i[a]))}else o=r(i);t.images[i.uuid]={uuid:i.uuid,url:o}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===it){if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case pt:t.x=t.x-Math.floor(t.x);break;case dt:t.x=t.x<0?0:1;break;case ft:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case pt:t.y=t.y-Math.floor(t.y);break;case dt:t.y=t.y<0?0:1;break;case ft:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.defineProperty(He.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Ve.prototype,{isVector4:!0,set:function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*e+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*e+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*e+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,r,n,i,o=t.elements,a=o[0],s=o[4],c=o[8],h=o[1],l=o[5],u=o[9],p=o[2],d=o[6],f=o[10];if(Math.abs(s-h)<.01&&Math.abs(c-p)<.01&&Math.abs(u-d)<.01){if(Math.abs(s+h)<.1&&Math.abs(c+p)<.1&&Math.abs(u+d)<.1&&Math.abs(a+l+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(l+1)/2,v=(f+1)/2,y=(s+h)/4,x=(c+p)/4,b=(u+d)/4;return m>g&&m>v?m<.01?(r=0,n=.707106781,i=.707106781):(n=y/(r=Math.sqrt(m)),i=x/r):g>v?g<.01?(r=.707106781,n=0,i=.707106781):(r=y/(n=Math.sqrt(g)),i=b/n):v<.01?(r=.707106781,n=.707106781,i=0):(r=x/(i=Math.sqrt(v)),n=b/i),this.set(r,n,i,e),this}var _=Math.sqrt((d-u)*(d-u)+(c-p)*(c-p)+(h-s)*(h-s));return Math.abs(_)<.001&&(_=1),this.x=(d-u)/_,this.y=(c-p)/_,this.z=(h-s)/_,this.w=Math.acos((a+l+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new Ve,e=new Ve),t.set(r,r,r,r),e.set(n,n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),ke.prototype=Object.assign(Object.create(t.prototype),{constructor:ke,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),je.prototype=Object.create(ke.prototype),je.prototype.constructor=je,je.prototype.isWebGLRenderTargetCube=!0,We.prototype=Object.create(He.prototype),We.prototype.constructor=We,We.prototype.isDataTexture=!0,Object.assign(Xe.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var h=t[s],l=t[s+1],u=t[s+2];h<e&&(e=h),l<r&&(r=l),u<n&&(n=u),h>i&&(i=h),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.count;s<c;s++){var h=t.getX(s),l=t.getY(s),u=t.getZ(s);h<e&&(e=h),l<r&&(r=l),u<n&&(n=u),h>i&&(i=h),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,r,n),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Fe;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Fe),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Fe),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,r,n=new Fe;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(e=0,r=a.length;e<r;e++)n.copy(a[e]),n.applyMatrix4(i.matrixWorld),t.expandByPoint(n)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(e=0,r=s.count;e<r;e++)n.fromBufferAttribute(s,e).applyMatrix4(i.matrixWorld),t.expandByPoint(n)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Fe),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Fe;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=t.constant&&r>=t.constant},intersectsTriangle:function(){var t=new Fe,e=new Fe,r=new Fe,n=new Fe,i=new Fe,o=new Fe,a=new Fe,s=new Fe,c=new Fe,h=new Fe;function l(n){var i,o;for(i=0,o=n.length-3;i<=o;i+=3){a.fromArray(n,i);var s=c.x*Math.abs(a.x)+c.y*Math.abs(a.y)+c.z*Math.abs(a.z),h=t.dot(a),l=e.dot(a),u=r.dot(a);if(Math.max(-Math.max(h,l,u),Math.min(h,l,u))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),c.subVectors(this.max,s),t.subVectors(a.a,s),e.subVectors(a.b,s),r.subVectors(a.c,s),n.subVectors(e,t),i.subVectors(r,e),o.subVectors(t,r);var u=[0,-n.z,n.y,0,-i.z,i.y,0,-o.z,o.y,n.z,0,-n.x,i.z,0,-i.x,o.z,0,-o.x,-n.y,n.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!l(u)&&(!!l(u=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(n,i),l(u=[h.x,h.y,h.z])))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Fe),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Fe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Fe;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new qe),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){if(this.isEmpty())return this;var e=t.elements,r=e[0]*this.min.x,n=e[1]*this.min.x,i=e[2]*this.min.x,o=e[0]*this.max.x,a=e[1]*this.max.x,s=e[2]*this.max.x,c=e[4]*this.min.y,h=e[5]*this.min.y,l=e[6]*this.min.y,u=e[4]*this.max.y,p=e[5]*this.max.y,d=e[6]*this.max.y,f=e[8]*this.min.z,m=e[9]*this.min.z,g=e[10]*this.min.z,v=e[8]*this.max.z,y=e[9]*this.max.z,x=e[10]*this.max.z;return this.min.x=Math.min(r,o)+Math.min(c,u)+Math.min(f,v)+e[12],this.min.y=Math.min(n,a)+Math.min(h,p)+Math.min(m,y)+e[13],this.min.z=Math.min(i,s)+Math.min(l,d)+Math.min(g,x)+e[14],this.max.x=Math.max(r,o)+Math.max(c,u)+Math.max(f,v)+e[12],this.max.y=Math.max(n,a)+Math.max(h,p)+Math.max(m,y)+e[13],this.max.z=Math.max(i,s)+Math.max(l,d)+Math.max(g,x)+e[14],this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(qe.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Xe;return function(e,r){var n=this.center;void 0!==r?n.copy(r):t.setFromPoints(e).getCenter(n);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var r=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Fe),e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Xe),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Ye.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,r,n){return this.normal.set(t,e,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Fe,e=new Fe;return function(r,n,i){var o=t.subVectors(i,n).cross(e.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Fe),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new Fe;return function(e,r){void 0===r&&(console.warn("THREE.Plane: .intersectLine() target is now required"),r=new Fe);var n=e.delta(t),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?r.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:r.copy(n).multiplyScalar(o).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Fe),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Fe,e=new ze;return function(r,n){var i=n||e.getNormalMatrix(r),o=this.coplanarPoint(t).applyMatrix4(r),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Je.prototype,{set:function(t,e,r,n,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,r=0;r<6;r++)e[r].copy(t.planes[r]);return this},setFromMatrix:function(t){var e=this.planes,r=t.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],h=r[6],l=r[7],u=r[8],p=r[9],d=r[10],f=r[11],m=r[12],g=r[13],v=r[14],y=r[15];return e[0].setComponents(a-n,l-s,f-u,y-m).normalize(),e[1].setComponents(a+n,l+s,f+u,y+m).normalize(),e[2].setComponents(a+i,l+c,f+p,y+g).normalize(),e[3].setComponents(a-i,l-c,f-p,y-g).normalize(),e[4].setComponents(a-o,l-h,f-d,y-v).normalize(),e[5].setComponents(a+o,l+h,f+d,y+v).normalize(),this},intersectsObject:function(){var t=new qe;return function(e){var r=e.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new qe;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,r=t.center,n=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(r)<n)return!1}return!0},intersectsBox:function(){var t=new Fe,e=new Fe;return function(r){for(var n=this.planes,i=0;i<6;i++){var o=n[i];t.x=o.normal.x>0?r.min.x:r.max.x,e.x=o.normal.x>0?r.max.x:r.min.x,t.y=o.normal.y>0?r.min.y:r.max.y,e.y=o.normal.y>0?r.max.y:r.min.y,t.z=o.normal.z>0?r.min.z:r.max.z,e.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}});var Ze="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Qe="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Ke="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",$e="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",tr="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",er="\nvec3 transformed = vec3( position );\n",rr="\nvec3 objectNormal = vec3( normal );\n",nr="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",ir="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",or="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",ar="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",sr="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",cr="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",hr="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",lr="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",ur="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",pr="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",dr="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",fr="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",mr="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",gr="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",vr="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",yr="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",xr="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",br="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",_r="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",wr="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",Mr="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Er="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",Tr="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",Sr="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",Ar="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",Rr="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Lr="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",Cr="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",Pr="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Or="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Ir="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Nr="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",Dr="#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Ur="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Br="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Fr="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",zr="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Gr="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",Hr="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",Vr="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",kr="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",jr="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Wr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Xr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",qr="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Yr="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Jr="#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Zr="#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",Qr="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",Kr="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",$r="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",tn="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",en="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",rn="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",nn="#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",on="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",an="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",sn="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",cn="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",hn="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",ln="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",un="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",pn="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",dn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",fn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",mn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",gn="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",vn="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",yn="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",xn="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",bn="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",_n="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",wn="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Mn="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",En="#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Tn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",Sn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",An="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Rn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Ln="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",Cn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",Pn="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",On="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",In="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",Nn="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",Dn="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Un="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",Bn="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",Fn="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",zn="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Gn="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Hn="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",Vn="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",kn="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",jn="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Wn="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Xn="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",qn="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Yn="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Jn="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Zn="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",Qn="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",Kn="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",$n="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",ti="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",ei="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",ri={alphamap_fragment:Ze,alphamap_pars_fragment:Qe,alphatest_fragment:Ke,aomap_fragment:$e,aomap_pars_fragment:tr,begin_vertex:er,beginnormal_vertex:rr,bsdfs:nr,bumpmap_pars_fragment:ir,clipping_planes_fragment:or,clipping_planes_pars_fragment:ar,clipping_planes_pars_vertex:sr,clipping_planes_vertex:cr,color_fragment:hr,color_pars_fragment:lr,color_pars_vertex:ur,color_vertex:pr,common:dr,cube_uv_reflection_fragment:fr,defaultnormal_vertex:mr,displacementmap_pars_vertex:gr,displacementmap_vertex:vr,emissivemap_fragment:yr,emissivemap_pars_fragment:xr,encodings_fragment:br,encodings_pars_fragment:_r,envmap_fragment:wr,envmap_pars_fragment:Mr,envmap_pars_vertex:Er,envmap_vertex:Tr,fog_vertex:Sr,fog_pars_vertex:Ar,fog_fragment:Rr,fog_pars_fragment:Lr,gradientmap_pars_fragment:Cr,lightmap_fragment:Pr,lightmap_pars_fragment:Or,lights_lambert_vertex:Ir,lights_pars_begin:Nr,lights_pars_maps:Dr,lights_phong_fragment:Ur,lights_phong_pars_fragment:Br,lights_physical_fragment:Fr,lights_physical_pars_fragment:zr,lights_fragment_begin:Gr,lights_fragment_maps:Hr,lights_fragment_end:Vr,logdepthbuf_fragment:kr,logdepthbuf_pars_fragment:jr,logdepthbuf_pars_vertex:Wr,logdepthbuf_vertex:Xr,map_fragment:qr,map_pars_fragment:Yr,map_particle_fragment:Jr,map_particle_pars_fragment:Zr,metalnessmap_fragment:Qr,metalnessmap_pars_fragment:Kr,morphnormal_vertex:$r,morphtarget_pars_vertex:tn,morphtarget_vertex:en,normal_fragment_begin:rn,normal_fragment_maps:nn,normalmap_pars_fragment:on,packing:an,premultiplied_alpha_fragment:sn,project_vertex:cn,dithering_fragment:hn,dithering_pars_fragment:ln,roughnessmap_fragment:un,roughnessmap_pars_fragment:pn,shadowmap_pars_fragment:dn,shadowmap_pars_vertex:fn,shadowmap_vertex:mn,shadowmask_pars_fragment:gn,skinbase_vertex:vn,skinning_pars_vertex:yn,skinning_vertex:xn,skinnormal_vertex:bn,specularmap_fragment:_n,specularmap_pars_fragment:wn,tonemapping_fragment:Mn,tonemapping_pars_fragment:En,uv_pars_fragment:Tn,uv_pars_vertex:Sn,uv_vertex:An,uv2_pars_fragment:Rn,uv2_pars_vertex:Ln,uv2_vertex:Cn,worldpos_vertex:Pn,cube_frag:On,cube_vert:In,depth_frag:Nn,depth_vert:Dn,distanceRGBA_frag:Un,distanceRGBA_vert:Bn,equirect_frag:Fn,equirect_vert:zn,linedashed_frag:Gn,linedashed_vert:Hn,meshbasic_frag:Vn,meshbasic_vert:kn,meshlambert_frag:jn,meshlambert_vert:Wn,meshphong_frag:Xn,meshphong_vert:qn,meshphysical_frag:Yn,meshphysical_vert:Jn,normal_frag:Zn,normal_vert:Qn,points_frag:Kn,points_vert:$n,shadow_frag:ti,shadow_vert:ei},ni={merge:function(t){for(var e={},r=0;r<t.length;r++){var n=this.clone(t[r]);for(var i in n)e[i]=n[i]}return e},clone:function(t){var e={};for(var r in t)for(var n in e[r]={},t[r]){var i=t[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[r][n]=i.clone():Array.isArray(i)?e[r][n]=i.slice():e[r][n]=i}return e}},ii={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function oi(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}Object.assign(oi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,r){return this.r=t,this.g=e,this.b=r,this},setHSL:function(){function t(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}return function(e,r,n){if(e=Ne.euclideanModulo(e,1),r=Ne.clamp(r,0,1),n=Ne.clamp(n,0,1),0===r)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+r):n+r-n*r,o=2*n-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(a,s,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(t)){var h,l=(h=r[1]).length;if(3===l)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(h=ii[t])?this.setHex(h):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,r,n=this.r,i=this.g,o=this.b,a=Math.max(n,i,o),s=Math.min(n,i,o),c=(s+a)/2;if(s===a)e=0,r=0;else{var h=a-s;switch(r=c<=.5?h/(a+s):h/(2-a-s),a){case n:e=(i-o)/h+(i<o?6:0);break;case i:e=(o-n)/h+2;break;case o:e=(n-i)/h+4}e/=6}return t.h=e,t.s=r,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var t={};return function(e,r,n){return this.getHSL(t),t.h+=e,t.s+=r,t.l+=n,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var ai={common:{diffuse:{value:new oi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ze},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new oi(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new oi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ze}}},si={basic:{uniforms:ni.merge([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.fog]),vertexShader:ri.meshbasic_vert,fragmentShader:ri.meshbasic_frag},lambert:{uniforms:ni.merge([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.fog,ai.lights,{emissive:{value:new oi(0)}}]),vertexShader:ri.meshlambert_vert,fragmentShader:ri.meshlambert_frag},phong:{uniforms:ni.merge([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.gradientmap,ai.fog,ai.lights,{emissive:{value:new oi(0)},specular:{value:new oi(1118481)},shininess:{value:30}}]),vertexShader:ri.meshphong_vert,fragmentShader:ri.meshphong_frag},standard:{uniforms:ni.merge([ai.common,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.roughnessmap,ai.metalnessmap,ai.fog,ai.lights,{emissive:{value:new oi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},points:{uniforms:ni.merge([ai.points,ai.fog]),vertexShader:ri.points_vert,fragmentShader:ri.points_frag},dashed:{uniforms:ni.merge([ai.common,ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ri.linedashed_vert,fragmentShader:ri.linedashed_frag},depth:{uniforms:ni.merge([ai.common,ai.displacementmap]),vertexShader:ri.depth_vert,fragmentShader:ri.depth_frag},normal:{uniforms:ni.merge([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,{opacity:{value:1}}]),vertexShader:ri.normal_vert,fragmentShader:ri.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ri.cube_vert,fragmentShader:ri.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ri.equirect_vert,fragmentShader:ri.equirect_frag},distanceRGBA:{uniforms:ni.merge([ai.common,ai.displacementmap,{referencePosition:{value:new Fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ri.distanceRGBA_vert,fragmentShader:ri.distanceRGBA_frag},shadow:{uniforms:ni.merge([ai.lights,ai.fog,{color:{value:new oi(0)},opacity:{value:1}}]),vertexShader:ri.shadow_vert,fragmentShader:ri.shadow_frag}};function ci(){var t=null,e=!1,r=null;function n(i,o){!1!==e&&(r(i,o),t.requestAnimationFrame(n))}return{start:function(){!0!==e&&null!==r&&(t.requestAnimationFrame(n),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){r=t},setContext:function(e){t=e}}}function hi(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(r){r.isInterleavedBufferAttribute&&(r=r.data);var n=e.get(r);n&&(t.deleteBuffer(n.buffer),e.delete(r))},update:function(r,n){r.isInterleavedBufferAttribute&&(r=r.data);var i=e.get(r);void 0===i?e.set(r,function(e,r){var n=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(r,o),t.bufferData(r,n,i),e.onUploadCallback();var a=t.FLOAT;return n instanceof Float32Array?a=t.FLOAT:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?a=t.UNSIGNED_SHORT:n instanceof Int16Array?a=t.SHORT:n instanceof Uint32Array?a=t.UNSIGNED_INT:n instanceof Int32Array?a=t.INT:n instanceof Int8Array?a=t.BYTE:n instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}(r,n)):i.version<r.version&&(function(e,r,n){var i=r.array,o=r.updateRange;t.bindBuffer(n,e),!1===r.dynamic?t.bufferData(n,i,t.STATIC_DRAW):-1===o.count?t.bufferSubData(n,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,r,n),i.version=r.version)}}}function li(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._order=n||li.DefaultOrder}function ui(){this.mask=1}si.physical={uniforms:ni.merge([si.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},li.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],li.DefaultOrder="XYZ",Object.defineProperties(li.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(li.prototype,{isEuler:!0,set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,r){var n=Ne.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],h=i[5],l=i[9],u=i[2],p=i[6],d=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,h),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-u,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,h))):"YZX"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-u,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Ue;return function(e,r,n){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,r,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Be;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Fe(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(ui.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var pi=0;function di(){Object.defineProperty(this,"id",{value:pi++}),this.uuid=Ne.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=di.DefaultUp.clone();var t=new Fe,e=new li,r=new Be,n=new Fe(1,1,1);e.onChange(function(){r.setFromEuler(e,!1)}),r.onChange(function(){e.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new Ue},normalMatrix:{value:new ze}}),this.matrix=new Ue,this.matrixWorld=new Ue,this.matrixAutoUpdate=di.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ui,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function fi(){di.call(this),this.type="Camera",this.matrixWorldInverse=new Ue,this.projectionMatrix=new Ue}function mi(t,e,r,n,i,o){fi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function gi(t,e,r,n,i,o){this.a=t,this.b=e,this.c=r,this.normal=n&&n.isVector3?n:new Fe,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new oi,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}di.DefaultUp=new Fe(0,1,0),di.DefaultMatrixAutoUpdate=!0,di.prototype=Object.assign(Object.create(t.prototype),{constructor:di,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Be;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new Be;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new Fe(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Fe(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Fe(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Fe;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new Fe(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Fe(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Fe(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Ue;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Ue,e=new Fe;return function(r,n,i){r.isVector3?e.copy(r):e.set(r,n,i),this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var r=this.children.indexOf(t);return-1!==r&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Fe),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Fe,e=new Fe;return function(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),r=new Be),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldScale:function(){var t=new Fe,e=new Be;return function(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),r=new Fe),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new Be;return function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Fe),this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||"string"==typeof t,r={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(e,r){return void 0===e[r.uuid]&&(e[r.uuid]=r.toJSON(t)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),void 0!==this.geometry){n.geometry=i(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var h=a[s];i(t.shapes,h)}else i(t.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,c=this.material.length;s<c;s++)l.push(i(t.materials,this.material[s]));n.material=l}else n.material=i(t.materials,this.material);if(this.children.length>0){n.children=[];for(s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(t).object)}if(e){var u=m(t.geometries),p=m(t.materials),d=m(t.textures),f=m(t.images);a=m(t.shapes);u.length>0&&(r.geometries=u),p.length>0&&(r.materials=p),d.length>0&&(r.textures=d),f.length>0&&(r.images=f),a.length>0&&(r.shapes=a)}return r.object=n,r;function m(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.add(n.clone())}return this}}),fi.prototype=Object.assign(Object.create(di.prototype),{constructor:fi,isCamera:!0,copy:function(t,e){return di.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new Be;return function(e){return void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Fe),this.getWorldQuaternion(t),e.set(0,0,-1).applyQuaternion(t)}}(),updateMatrixWorld:function(t){di.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),mi.prototype=Object.assign(Object.create(fi.prototype),{constructor:mi,isOrthographicCamera:!0,copy:function(t,e){return fi.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-t,o=r+t,a=n+e,s=n-e;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/c))+l*(this.view.width/c),s=(a-=u*(this.view.offsetY/h))-u*(this.view.height/h)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(gi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,r=t.vertexNormals.length;e<r;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,r=t.vertexColors.length;e<r;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var vi=0;function yi(){Object.defineProperty(this,"id",{value:vi+=2}),this.uuid=Ne.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function xi(t,e,r){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===r,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function bi(t,e,r){xi.call(this,new Int8Array(t),e,r)}function _i(t,e,r){xi.call(this,new Uint8Array(t),e,r)}function wi(t,e,r){xi.call(this,new Uint8ClampedArray(t),e,r)}function Mi(t,e,r){xi.call(this,new Int16Array(t),e,r)}function Ei(t,e,r){xi.call(this,new Uint16Array(t),e,r)}function Ti(t,e,r){xi.call(this,new Int32Array(t),e,r)}function Si(t,e,r){xi.call(this,new Uint32Array(t),e,r)}function Ai(t,e,r){xi.call(this,new Float32Array(t),e,r)}function Ri(t,e,r){xi.call(this,new Float64Array(t),e,r)}function Li(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ci(t){if(0===t.length)return-1/0;for(var e=t[0],r=1,n=t.length;r<n;++r)t[r]>e&&(e=t[r]);return e}yi.prototype=Object.assign(Object.create(t.prototype),{constructor:yi,isGeometry:!0,applyMatrix:function(t){for(var e=(new ze).getNormalMatrix(t),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(t)}for(r=0,n=this.faces.length;r<n;r++){var i=this.faces[r];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Ue;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ue;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ue;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ue;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Ue;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new di;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,r=null!==t.index?t.index.array:void 0,n=t.attributes,i=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,a=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var h=[],l=[],u=[],p=0,d=0;p<i.length;p+=3,d+=2)e.vertices.push(new Fe(i[p],i[p+1],i[p+2])),void 0!==o&&h.push(new Fe(o[p],o[p+1],o[p+2])),void 0!==a&&e.colors.push(new oi(a[p],a[p+1],a[p+2])),void 0!==s&&l.push(new De(s[d],s[d+1])),void 0!==c&&u.push(new De(c[d],c[d+1]));function f(t,r,n,i){var p=new gi(t,r,n,void 0!==o?[h[t].clone(),h[r].clone(),h[n].clone()]:[],void 0!==a?[e.colors[t].clone(),e.colors[r].clone(),e.colors[n].clone()]:[],i);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([l[t].clone(),l[r].clone(),l[n].clone()]),void 0!==c&&e.faceVertexUvs[1].push([u[t].clone(),u[r].clone(),u[n].clone()])}var m=t.groups;if(m.length>0)for(p=0;p<m.length;p++)for(var g=m[p],v=g.start,y=(d=v,v+g.count);d<y;d+=3)void 0!==r?f(r[d],r[d+1],r[d+2],g.materialIndex):f(d,d+1,d+2,g.materialIndex);else if(void 0!==r)for(p=0;p<r.length;p+=3)f(r[p],r[p+1],r[p+2]);else for(p=0;p<i.length/3;p+=3)f(p,p+1,p+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new Fe;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,r=0===e?1:1/e,n=new Ue;return n.set(r,0,0,-r*t.x,0,r,0,-r*t.y,0,0,r,-r*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new Fe,e=new Fe,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,r,n,i,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)a[e]=new Fe;if(t){var s,c,h,l=new Fe,u=new Fe;for(n=0,i=this.faces.length;n<i;n++)o=this.faces[n],s=this.vertices[o.a],c=this.vertices[o.b],h=this.vertices[o.c],l.subVectors(h,c),u.subVectors(s,c),l.cross(u),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)a[(o=this.faces[n]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,r=this.vertices.length;e<r;e++)a[e].normalize();for(n=0,i=this.faces.length;n<i;n++){var p=(o=this.faces[n]).vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,r;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var n=(r=this.faces[t]).vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for((i=this.faces[r]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new yi;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)c=new Fe,h={a:new Fe,b:new Fe,c:new Fe},a.push(c),s.push(h)}var c,h,l=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,n=this.faces.length;r<n;r++)i=this.faces[r],c=l.faceNormals[r],h=l.vertexNormals[r],c.copy(i.normal),h.a.copy(i.vertexNormals[0]),h.b.copy(i.vertexNormals[1]),h.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)(i=this.faces[r]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Xe),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new qe),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,r){if(t&&t.isGeometry){var n,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,h=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===r&&(r=0),void 0!==e&&(n=(new ze).getNormalMatrix(e));for(var d=0,f=a.length;d<f;d++){var m=a[d].clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(d=0,f=p.length;d<f;d++)u.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,v,y,x=c[d],b=x.vertexNormals,_=x.vertexColors;(g=new gi(x.a+i,x.b+i,x.c+i)).normal.copy(x.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var w=0,M=b.length;w<M;w++)v=b[w].clone(),void 0!==n&&v.applyMatrix3(n).normalize(),g.vertexNormals.push(v);g.color.copy(x.color);for(w=0,M=_.length;w<M;w++)y=_[w],g.vertexColors.push(y.clone());g.materialIndex=x.materialIndex+r,s.push(g)}for(d=0,f=l.length;d<f;d++){var E=l[d],T=[];if(void 0!==E){for(w=0,M=E.length;w<M;w++)T.push(E[w].clone());h.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,r,n,i,o,a,s,c={},h=[],l=[],u=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)t=this.vertices[r],void 0===c[e=Math.round(t.x*u)+"_"+Math.round(t.y*u)+"_"+Math.round(t.z*u)]?(c[e]=r,h.push(this.vertices[r]),l[r]=h.length-1):l[r]=l[c[e]];var p=[];for(r=0,n=this.faces.length;r<n;r++){(i=this.faces[r]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){p.push(r);break}}for(r=p.length-1;r>=0;r--){var f=p[r];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-h.length;return this.vertices=h,m},setFromPoints:function(t){this.vertices=[];for(var e=0,r=t.length;e<r;e++){var n=t[e];this.vertices.push(new Fe(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,r=0;r<e;r++)t[r]._id=r;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(n=[]),a&&a.length===e&&(i=[]);for(r=0;r<e;r++){var s=t[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}for(var n=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];n.push(o.x,o.y,o.z)}var a=[],s=[],c={},h=[],l={},u=[],p={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,g=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,g),x=M(x,6,v),x=M(x,7,y),a.push(x),a.push(d.a,d.b,d.c),a.push(d.materialIndex),f){var b=this.faceVertexUvs[0][i];a.push(S(b[0]),S(b[1]),S(b[2]))}if(m&&a.push(E(d.normal)),g){var _=d.vertexNormals;a.push(E(_[0]),E(_[1]),E(_[2]))}if(v&&a.push(T(d.color)),y){var w=d.vertexColors;a.push(T(w[0]),T(w[1]),T(w[2]))}}function M(t,e,r){return r?t|1<<e:t&~(1<<e)}function E(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]?c[e]:(c[e]=s.length/3,s.push(t.x,t.y,t.z),c[e])}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]?l[e]:(l[e]=h.length,h.push(t.getHex()),l[e])}function S(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]?p[e]:(p[e]=u.length/2,u.push(t.x,t.y),p[e])}return t.data={},t.data.vertices=n,t.data.normals=s,h.length>0&&(t.data.colors=h),u.length>0&&(t.data.uvs=[u]),t.data.faces=a,t},clone:function(){return(new yi).copy(this)},copy:function(t){var e,r,n,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,r=s.length;e<r;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,r=c.length;e<r;e++)this.colors.push(c[e].clone());var h=t.faces;for(e=0,r=h.length;e<r;e++)this.faces.push(h[e].clone());for(e=0,r=t.faceVertexUvs.length;e<r;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),n=0,i=l.length;n<i;n++){var u=l[n],p=[];for(o=0,a=u.length;o<a;o++){var d=u[o];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,r=f.length;e<r;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],n=0,i=f[e].vertices.length;n<i;n++)m.vertices.push(f[e].vertices[n].clone());if(void 0!==f[e].normals)for(m.normals=[],n=0,i=f[e].normals.length;n<i;n++)m.normals.push(f[e].normals[n].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,r=g.length;e<r;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],n=0,i=g[e].vertexNormals.length;n<i;n++){var y=g[e].vertexNormals[n],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],n=0,i=g[e].faceNormals.length;n<i;n++)v.faceNormals.push(g[e].faceNormals[n].clone());this.morphNormals.push(v)}var b=t.skinWeights;for(e=0,r=b.length;e<r;e++)this.skinWeights.push(b[e].clone());var _=t.skinIndices;for(e=0,r=_.length;e<r;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,r=w.length;e<r;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(xi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(xi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.itemSize,r*=e.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new oi),e[r++]=o.r,e[r++]=o.g,e[r++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new De),e[r++]=o.x,e[r++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new Fe),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new Ve),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z,e[r++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),bi.prototype=Object.create(xi.prototype),bi.prototype.constructor=bi,_i.prototype=Object.create(xi.prototype),_i.prototype.constructor=_i,wi.prototype=Object.create(xi.prototype),wi.prototype.constructor=wi,Mi.prototype=Object.create(xi.prototype),Mi.prototype.constructor=Mi,Ei.prototype=Object.create(xi.prototype),Ei.prototype.constructor=Ei,Ti.prototype=Object.create(xi.prototype),Ti.prototype.constructor=Ti,Si.prototype=Object.create(xi.prototype),Si.prototype.constructor=Si,Ai.prototype=Object.create(xi.prototype),Ai.prototype.constructor=Ai,Ri.prototype=Object.create(xi.prototype),Ri.prototype.constructor=Ri,Object.assign(Li.prototype,{computeGroups:function(t){for(var e,r=[],n=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,r.push(e)),e={start:3*o,materialIndex:n})}void 0!==e&&(e.count=3*o-e.start,r.push(e)),this.groups=r},fromGeometry:function(t){var e,r=t.faces,n=t.vertices,i=t.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var h=0;h<c;h++)e[h]=[];this.morphTargets.position=e}var l,u=t.morphNormals,p=u.length;if(p>0){l=[];for(h=0;h<p;h++)l[h]=[];this.morphTargets.normal=l}var d=t.skinIndices,f=t.skinWeights,m=d.length===n.length,g=f.length===n.length;n.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(h=0;h<r.length;h++){var v=r[h];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=v.normal;this.normals.push(x,x,x)}var b,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===o)void 0!==(b=i[0][h])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),this.uvs.push(new De,new De,new De));if(!0===a)void 0!==(b=i[1][h])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),this.uvs2.push(new De,new De,new De));for(var M=0;M<c;M++){var E=s[M].vertices;e[M].push(E[v.a],E[v.b],E[v.c])}for(M=0;M<p;M++){var T=u[M].vertexNormals[h];l[M].push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Pi=1;function Oi(){Object.defineProperty(this,"id",{value:Pi+=2}),this.uuid=Ne.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Ii(t,e,r,n,i,o){yi.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Ni(t,e,r,n,i,o)),this.mergeVertices()}function Ni(t,e,r,n,i,o){Oi.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};var a=this;t=t||1,e=e||1,r=r||1,n=Math.floor(n)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],c=[],h=[],l=[],u=0,p=0;function d(t,e,r,n,i,o,d,f,m,g,v){var y,x,b=o/m,_=d/g,w=o/2,M=d/2,E=f/2,T=m+1,S=g+1,A=0,R=0,L=new Fe;for(x=0;x<S;x++){var C=x*_-M;for(y=0;y<T;y++){var P=y*b-w;L[t]=P*n,L[e]=C*i,L[r]=E,c.push(L.x,L.y,L.z),L[t]=0,L[e]=0,L[r]=f>0?1:-1,h.push(L.x,L.y,L.z),l.push(y/m),l.push(1-x/g),A+=1}}for(x=0;x<g;x++)for(y=0;y<m;y++){var O=u+y+T*x,I=u+y+T*(x+1),N=u+(y+1)+T*(x+1),D=u+(y+1)+T*x;s.push(O,I,D),s.push(I,N,D),R+=6}a.addGroup(p,R,v),p+=R,u+=A}d("z","y","x",-1,-1,r,e,t,o,i,0),d("z","y","x",1,-1,r,e,-t,o,i,1),d("x","z","y",1,1,t,r,e,n,o,2),d("x","z","y",1,-1,t,r,-e,n,o,3),d("x","y","z",1,-1,t,e,r,n,i,4),d("x","y","z",-1,-1,t,e,-r,n,i,5),this.setIndex(s),this.addAttribute("position",new Ai(c,3)),this.addAttribute("normal",new Ai(h,3)),this.addAttribute("uv",new Ai(l,2))}function Di(t,e,r,n){yi.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new Ui(t,e,r,n)),this.mergeVertices()}function Ui(t,e,r,n){Oi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n};var i,o,a=(t=t||1)/2,s=(e=e||1)/2,c=Math.floor(r)||1,h=Math.floor(n)||1,l=c+1,u=h+1,p=t/c,d=e/h,f=[],m=[],g=[],v=[];for(o=0;o<u;o++){var y=o*d-s;for(i=0;i<l;i++){var x=i*p-a;m.push(x,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-o/h)}}for(o=0;o<h;o++)for(i=0;i<c;i++){var b=i+l*o,_=i+l*(o+1),w=i+1+l*(o+1),M=i+1+l*o;f.push(b,_,M),f.push(_,w,M)}this.setIndex(f),this.addAttribute("position",new Ai(m,3)),this.addAttribute("normal",new Ai(g,3)),this.addAttribute("uv",new Ai(v,2))}Oi.prototype=Object.assign(Object.create(t.prototype),{constructor:Oi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Ci(t)>65535?Si:Ei)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new xi(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,r){this.groups.push({start:t,count:e,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var r=this.attributes.normal;void 0!==r&&((new ze).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Ue;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ue;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ue;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ue;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Ue;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new di;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new Fe;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var r=new Ai(3*e.vertices.length,3),n=new Ai(3*e.colors.length,3);if(this.addAttribute("position",r.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Ai(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];e.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Ai(e,3)),this},updateFromObject:function(t){var e,r=t.geometry;if(t.isMesh){var n=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(n=void 0,r.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}return!0===r.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(r.vertices),e.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(r.normals),e.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(r.colors),e.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(r.uvs),e.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(r.lineDistances),e.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(t.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Li).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new xi(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var r=new Float32Array(3*t.normals.length);this.addAttribute("normal",new xi(r,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new xi(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new xi(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new xi(o,2).copyVector2sArray(t.uvs2))}for(var a in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[a],h=0,l=c.length;h<l;h++){var u=c[h],p=new Ai(3*u.length,3);s.push(p.copyVector3sArray(u))}this.morphAttributes[a]=s}if(t.skinIndices.length>0){var d=new Ai(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Ai(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Xe);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Xe,e=new Fe;return function(){null===this.boundingSphere&&(this.boundingSphere=new qe);var r=this.attributes.position;if(r){var n=this.boundingSphere.center;t.setFromBufferAttribute(r),t.getCenter(n);for(var i=0,o=0,a=r.count;o<a;o++)e.x=r.getX(o),e.y=r.getY(o),e.z=r.getZ(o),i=Math.max(i,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,r=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new xi(new Float32Array(n.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,c,h,l=e.normal.array,u=new Fe,p=new Fe,d=new Fe,f=new Fe,m=new Fe;if(t){var g=t.array;0===r.length&&this.addGroup(0,g.length);for(var v=0,y=r.length;v<y;++v){var x=r[v],b=x.start;for(o=b,a=b+x.count;o<a;o+=3)s=3*g[o+0],c=3*g[o+1],h=3*g[o+2],u.fromArray(n,s),p.fromArray(n,c),d.fromArray(n,h),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z,l[h]+=f.x,l[h+1]+=f.y,l[h+2]+=f.z}}else for(o=0,a=n.length;o<a;o+=9)u.fromArray(n,o),p.fromArray(n,o+3),d.fromArray(n,o+6),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[o]=f.x,l[o+1]=f.y,l[o+2]=f.z,l[o+3]=f.x,l[o+4]=f.y,l[o+5]=f.z,l[o+6]=f.x,l[o+7]=f.y,l[o+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==t.attributes[n])for(var i=r[n].array,o=t.attributes[n],a=o.array,s=0,c=o.itemSize*e;s<a.length;s++,c++)i[c]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){var t=new Fe;return function(){for(var e=this.attributes.normal,r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.normalize(),e.setXYZ(r,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Oi,e=this.index.array,r=this.attributes;for(var n in r){for(var i=r[n],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),c=0,h=0,l=0,u=e.length;l<u;l++){c=e[l]*a;for(var p=0;p<a;p++)s[h++]=o[c++]}t.addAttribute(n,new xi(s,a))}var d=this.groups;for(l=0,u=d.length;l<u;l++){var f=d[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var o=this.attributes;for(var r in o){var a=o[r];i=Array.prototype.slice.call(a.array);t.data.attributes[r]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new Oi).copy(this)},copy:function(t){var e,r,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var c=[],h=s[e];for(r=0,n=h.length;r<n;r++)c.push(h[r].clone());this.morphAttributes[e]=c}var l=t.groups;for(r=0,n=l.length;r<n;r++){var u=l[r];this.addGroup(u.start,u.count,u.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ii.prototype=Object.create(yi.prototype),Ii.prototype.constructor=Ii,Ni.prototype=Object.create(Oi.prototype),Ni.prototype.constructor=Ni,Di.prototype=Object.create(yi.prototype),Di.prototype.constructor=Di,Ui.prototype=Object.create(Oi.prototype),Ui.prototype.constructor=Ui;var Bi=0;function Fi(){Object.defineProperty(this,"id",{value:Bi++}),this.uuid=Ne.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=_,this.side=p,this.flatShading=!1,this.vertexColors=v,this.opacity=1,this.transparent=!1,this.blendSrc=D,this.blendDst=U,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=W,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function zi(t){Fi.call(this),this.type="MeshBasicMaterial",this.color=new oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Gi(t){Fi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Hi(t,e){this.origin=void 0!==t?t:new Fe,this.direction=void 0!==e?e:new Fe}function Vi(t,e){this.start=void 0!==t?t:new Fe,this.end=void 0!==e?e:new Fe}function ki(t,e,r){this.a=void 0!==t?t:new Fe,this.b=void 0!==e?e:new Fe,this.c=void 0!==r?r:new Fe}function ji(t,e){di.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Oi,this.material=void 0!==e?e:new zi({color:16777215*Math.random()}),this.drawMode=xe,this.updateMorphTargets()}function Wi(t,e,r,n){var i,o,a,s=new oi(0),c=0;function h(t,r){e.buffers.color.setClear(t.r,t.g,t.b,r,n)}return{getClearColor:function(){return s},setClearColor:function(t,e){s.set(t),h(s,c=void 0!==e?e:1)},getClearAlpha:function(){return c},setClearAlpha:function(t){h(s,c=t)},render:function(e,n,l,u){var p=n.background;null===p?h(s,c):p&&p.isColor&&(h(p,1),u=!0),(t.autoClear||u)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&p.isCubeTexture?(void 0===a&&((a=new ji(new Ni(1,1,1),new Gi({uniforms:si.cube.uniforms,vertexShader:si.cube.vertexShader,fragmentShader:si.cube.fragmentShader,side:d,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,r){this.matrixWorld.copyPosition(r.matrixWorld)},r.update(a)),a.material.uniforms.tCube.value=p,e.push(a,a.geometry,a.material,0,null)):p&&p.isTexture&&(void 0===i&&(i=new mi(-1,1,1,-1,0,1),o=new ji(new Ui(2,2),new zi({depthTest:!1,depthWrite:!1,fog:!1})),r.update(o)),o.material.map=p,t.renderBufferDirect(i,null,o.geometry,o.material,o,null))}}}function Xi(t,e,r){var n;this.setMode=function(t){n=t},this.render=function(e,i){t.drawArrays(n,e,i),r.update(i,n)},this.renderInstances=function(t,i,o){var a=e.get("ANGLE_instanced_arrays");null!==a?(a.drawArraysInstancedANGLE(n,i,o,t.maxInstancedCount),r.update(o,n,t.maxInstancedCount)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function qi(t,e,r){var n;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o=void 0!==r.precision?r.precision:"highp",a=i(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);var s=!0===r.logarithmicDepthBuffer,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_TEXTURE_SIZE),u=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),f=t.getParameter(t.MAX_VARYING_VECTORS),m=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=h>0,v=!!e.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==n)return n;var r=e.get("EXT_texture_filter_anisotropic");return n=null!==r?t.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:s,maxTextures:c,maxVertexTextures:h,maxTextureSize:l,maxCubemapSize:u,maxAttributes:p,maxVertexUniforms:d,maxVaryings:f,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v}}function Yi(){var t=this,e=null,r=0,n=!1,i=!1,o=new Ye,a=new ze,s={value:null,needsUpdate:!1};function c(){s.value!==e&&(s.value=e,s.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function h(e,r,n,i){var c=null!==e?e.length:0,h=null;if(0!==c){if(h=s.value,!0!==i||null===h){var l=n+4*c,u=r.matrixWorldInverse;a.getNormalMatrix(u),(null===h||h.length<l)&&(h=new Float32Array(l));for(var p=0,d=n;p!==c;++p,d+=4)o.copy(e[p]).applyMatrix4(u,a),o.normal.toArray(h,d),h[d+3]=o.constant}s.value=h,s.needsUpdate=!0}return t.numPlanes=c,h}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){var a=0!==t.length||i||0!==r||n;return n=i,e=h(t,o,0),r=t.length,a},this.beginShadows=function(){i=!0,h(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,o,a,l,u,p){if(!n||null===t||0===t.length||i&&!a)i?h(null):c();else{var d=i?0:r,f=4*d,m=u.clippingState||null;s.value=m,m=h(t,l,f,p);for(var g=0;g!==f;++g)m[g]=e[g];u.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function Ji(t){var e={};return{get:function(r){if(void 0!==e[r])return e[r];var n;switch(r){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),e[r]=n,n}}}function Zi(t,e,r){var n={},i={};function o(t){var a=t.target,s=n[a.id];for(var c in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[c]);a.removeEventListener("dispose",o),delete n[a.id];var h=i[a.id];h&&(e.remove(h),delete i[a.id]),(h=i[s.id])&&(e.remove(h),delete i[s.id]),r.memory.geometries--}return{get:function(t,e){var i=n[e.id];return i||(e.addEventListener("dispose",o),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Oi).setFromObject(t)),i=e._bufferGeometry),n[e.id]=i,r.memory.geometries++,i)},update:function(r){var n=r.index,i=r.attributes;for(var o in null!==n&&e.update(n,t.ELEMENT_ARRAY_BUFFER),i)e.update(i[o],t.ARRAY_BUFFER);var a=r.morphAttributes;for(var o in a)for(var s=a[o],c=0,h=s.length;c<h;c++)e.update(s[c],t.ARRAY_BUFFER)},getWireframeAttribute:function(r){var n=i[r.id];if(n)return n;var o,a=[],s=r.index,c=r.attributes;if(null!==s)for(var h=0,l=(o=s.array).length;h<l;h+=3){var u=o[h+0],p=o[h+1],d=o[h+2];a.push(u,p,p,d,d,u)}else for(h=0,l=(o=c.position.array).length/3-1;h<l;h+=3)u=h+0,p=h+1,d=h+2,a.push(u,p,p,d,d,u);return n=new(Ci(a)>65535?Si:Ei)(a,1),e.update(n,t.ELEMENT_ARRAY_BUFFER),i[r.id]=n,n}}}function Qi(t,e,r){var n,i,o;this.setMode=function(t){n=t},this.setIndex=function(t){i=t.type,o=t.bytesPerElement},this.render=function(e,a){t.drawElements(n,a,i,e*o),r.update(a,n)},this.renderInstances=function(t,a,s){var c=e.get("ANGLE_instanced_arrays");null!==c?(c.drawElementsInstancedANGLE(n,s,i,a*o,t.maxInstancedCount),r.update(s,n,t.maxInstancedCount)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function Ki(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(r,n,i){switch(i=i||1,e.calls++,n){case t.TRIANGLES:e.triangles+=i*(r/3);break;case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:e.triangles+=i*(r-2);break;case t.LINES:e.lines+=i*(r/2);break;case t.LINE_STRIP:e.lines+=i*(r-1);break;case t.LINE_LOOP:e.lines+=i*r;break;case t.POINTS:e.points+=i*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function $i(t,e){return Math.abs(e[1])-Math.abs(t[1])}function to(t){var e={},r=new Float32Array(8);return{update:function(n,i,o,a){var s=n.morphTargetInfluences,c=s.length,h=e[i.id];if(void 0===h){h=[];for(var l=0;l<c;l++)h[l]=[l,0];e[i.id]=h}var u=o.morphTargets&&i.morphAttributes.position,p=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<c;l++)0!==(d=h[l])[1]&&(u&&i.removeAttribute("morphTarget"+l),p&&i.removeAttribute("morphNormal"+l));for(l=0;l<c;l++)(d=h[l])[0]=l,d[1]=s[l];for(h.sort($i),l=0;l<8;l++){var d;if(d=h[l]){var f=d[0],m=d[1];if(m){u&&i.addAttribute("morphTarget"+l,u[f]),p&&i.addAttribute("morphNormal"+l,p[f]),r[l]=m;continue}}r[l]=0}a.getUniforms().setValue(t,"morphTargetInfluences",r)}}}function eo(t,e){var r={};return{update:function(n){var i=e.render.frame,o=n.geometry,a=t.get(n,o);return r[a.id]!==i&&(o.isGeometry&&a.updateFromObject(n),t.update(a),r[a.id]=i),a},dispose:function(){r={}}}}function ro(t,e,r,n,i,o,a,s,c,h){t=void 0!==t?t:[],e=void 0!==e?e:ot,He.call(this,t,e,r,n,i,o,a,s,c,h),this.flipY=!1}Fi.prototype=Object.assign(Object.create(t.prototype),{constructor:Fi,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var r=t[e];if(void 0!==r)if("shading"!==e){var n=this[e];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[e]="overdraw"===e?Number(r):r:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===m;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==p&&(r.side=this.side),this.vertexColors!==v&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0!==this.rotation&&(r.rotation=this.rotation),1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),e){var i=n(t.textures),o=n(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,r=null;if(null!==e){var n=e.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=e[i].clone()}return this.clippingPlanes=r,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),zi.prototype=Object.create(Fi.prototype),zi.prototype.constructor=zi,zi.prototype.isMeshBasicMaterial=!0,zi.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Gi.prototype=Object.create(Fi.prototype),Gi.prototype.constructor=Gi,Gi.prototype.isShaderMaterial=!0,Gi.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ni.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Gi.prototype.toJSON=function(t){var e=Fi.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(Hi.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Fe),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Fe;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Fe),e.subVectors(t,this.origin);var r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Fe;return function(e){var r=t.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o,a){t.copy(n).add(i).multiplyScalar(.5),e.copy(i).sub(n).normalize(),r.copy(this.origin).sub(t);var s,c,h,l,u=.5*n.distanceTo(i),p=-this.direction.dot(e),d=r.dot(this.direction),f=-r.dot(e),m=r.lengthSq(),g=Math.abs(1-p*p);if(g>0)if(c=p*d-f,l=u*g,(s=p*f-d)>=0)if(c>=-l)if(c<=l){var v=1/g;h=(s*=v)*(s+p*(c*=v)+2*d)+c*(p*s+c+2*f)+m}else c=u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c=-u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c<=-l?h=-(s=Math.max(0,-(-p*u+d)))*s+(c=s>0?-u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m:c<=l?(s=0,h=(c=Math.min(Math.max(-u,-f),u))*(c+2*f)+m):h=-(s=Math.max(0,-(p*u+d)))*s+(c=s>0?u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m;else c=p>0?-u:u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(c).add(t),h}}(),intersectSphere:function(){var t=new Fe;return function(e,r){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),i=t.dot(t)-n*n,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,c=n+a;return s<0&&c<0?null:s<0?this.at(c,r):this.at(s,r)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null},intersectPlane:function(t,e){var r=this.distanceToPlane(t);return null===r?null:this.at(r,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var r,n,i,o,a,s,c=1/this.direction.x,h=1/this.direction.y,l=1/this.direction.z,u=this.origin;return c>=0?(r=(t.min.x-u.x)*c,n=(t.max.x-u.x)*c):(r=(t.max.x-u.x)*c,n=(t.min.x-u.x)*c),h>=0?(i=(t.min.y-u.y)*h,o=(t.max.y-u.y)*h):(i=(t.max.y-u.y)*h,o=(t.min.y-u.y)*h),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),l>=0?(a=(t.min.z-u.z)*l,s=(t.max.z-u.z)*l):(a=(t.max.z-u.z)*l,s=(t.min.z-u.z)*l),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},intersectsBox:function(){var t=new Fe;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new Fe,e=new Fe,r=new Fe,n=new Fe;return function(i,o,a,s,c){e.subVectors(o,i),r.subVectors(a,i),n.crossVectors(e,r);var h,l=this.direction.dot(n);if(l>0){if(s)return null;h=1}else{if(!(l<0))return null;h=-1,l=-l}t.subVectors(this.origin,i);var u=h*this.direction.dot(r.crossVectors(t,r));if(u<0)return null;var p=h*this.direction.dot(e.cross(t));if(p<0)return null;if(u+p>l)return null;var d=-h*t.dot(n);return d<0?null:this.at(d/l,c)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(Vi.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Fe),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Fe),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Fe),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Fe,e=new Fe;return function(r,n){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t)/i;return n&&(o=Ne.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,r){var n=this.closestPointToPointParameter(t,e);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new Fe),this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(ki,{getNormal:function(){var t=new Fe;return function(e,r,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Fe),i.subVectors(n,r),t.subVectors(e,r),i.cross(t);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}}(),getBarycoord:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),r.subVectors(n,i);var c=t.dot(t),h=t.dot(e),l=t.dot(r),u=e.dot(e),p=e.dot(r),d=c*u-h*h;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Fe),0===d)return s.set(-2,-1,-1);var f=1/d,m=(u*l-h*p)*f,g=(c*p-h*l)*f;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var t=new Fe;return function(e,r,n,i){return ki.getBarycoord(e,r,n,i,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}()}),Object.assign(ki.prototype,{set:function(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this},setFromPointsAndIndices:function(t,e,r,n){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new Fe,e=new Fe;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Fe),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return ki.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Fe),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return ki.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ki.containsPoint(t,this.a,this.b,this.c)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new Ye,e=[new Vi,new Vi,new Vi],r=new Fe,n=new Fe;return function(i,o){void 0===o&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),o=new Fe);var a=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,r),!0===this.containsPoint(r))o.copy(r);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var s=0;s<e.length;s++){e[s].closestPointToPoint(r,!0,n);var c=r.distanceToSquared(n);c<a&&(a=c,o.copy(n))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),ji.prototype=Object.assign(Object.create(di.prototype),{constructor:ji,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return di.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)r=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var s=n.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)r=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}},raycast:function(){var t=new Ue,e=new Hi,r=new qe,n=new Fe,i=new Fe,o=new Fe,a=new Fe,s=new Fe,c=new Fe,h=new De,l=new De,u=new De,p=new Fe,m=new Fe,g=new Fe;function v(t,e,r,n,i,o,a){return ki.getBarycoord(t,e,r,n,p),i.multiplyScalar(p.x),o.multiplyScalar(p.y),a.multiplyScalar(p.z),i.add(o).add(a),i.clone()}function y(t,e,r,n,i,o,a,s){if(null===(e.side===d?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,e.side!==f,s)))return null;g.copy(s),g.applyMatrix4(t.matrixWorld);var c=r.ray.origin.distanceTo(g);return c<r.near||c>r.far?null:{distance:c,point:g.clone(),object:t}}function x(t,e,r,a,s,c,p,d,f){n.fromBufferAttribute(s,p),i.fromBufferAttribute(s,d),o.fromBufferAttribute(s,f);var g=y(t,e,r,a,n,i,o,m);if(g){c&&(h.fromBufferAttribute(c,p),l.fromBufferAttribute(c,d),u.fromBufferAttribute(c,f),g.uv=v(m,n,i,o,h,l,u));var x=new gi(p,d,f);ki.getNormal(n,i,o,x.normal),g.face=x}return g}return function(p,d){var f,g=this.geometry,b=this.material,_=this.matrixWorld;if(void 0!==b&&(null===g.boundingSphere&&g.computeBoundingSphere(),r.copy(g.boundingSphere),r.applyMatrix4(_),!1!==p.ray.intersectsSphere(r)&&(t.getInverse(_),e.copy(p.ray).applyMatrix4(t),null===g.boundingBox||!1!==e.intersectsBox(g.boundingBox))))if(g.isBufferGeometry){var w,M,E,T,S,A,R,L,C,P=g.index,O=g.attributes.position,I=g.attributes.uv,N=g.groups,D=g.drawRange;if(null!==P)if(Array.isArray(b))for(T=0,A=N.length;T<A;T++)for(C=b[(L=N[T]).materialIndex],S=Math.max(L.start,D.start),R=Math.min(L.start+L.count,D.start+D.count);S<R;S+=3)w=P.getX(T),M=P.getX(T+1),E=P.getX(T+2),(f=x(this,C,p,e,O,I,w,M,E))&&(f.faceIndex=Math.floor(T/3),d.push(f));else for(T=Math.max(0,D.start),A=Math.min(P.count,D.start+D.count);T<A;T+=3)w=P.getX(T),M=P.getX(T+1),E=P.getX(T+2),(f=x(this,b,p,e,O,I,w,M,E))&&(f.faceIndex=Math.floor(T/3),d.push(f));else if(void 0!==O)if(Array.isArray(b))for(T=0,A=N.length;T<A;T++)for(C=b[(L=N[T]).materialIndex],S=Math.max(L.start,D.start),R=Math.min(L.start+L.count,D.start+D.count);S<R;S+=3)(f=x(this,C,p,e,O,I,w=S,M=S+1,E=S+2))&&(f.faceIndex=Math.floor(T/3),d.push(f));else for(T=Math.max(0,D.start),A=Math.min(O.count,D.start+D.count);T<A;T+=3)(f=x(this,b,p,e,O,I,w=T,M=T+1,E=T+2))&&(f.faceIndex=Math.floor(T/3),d.push(f))}else if(g.isGeometry){var U,B,F,z,G=Array.isArray(b),H=g.vertices,V=g.faces,k=g.faceVertexUvs[0];k.length>0&&(z=k);for(var j=0,W=V.length;j<W;j++){var X=V[j],q=G?b[X.materialIndex]:b;if(void 0!==q){if(U=H[X.a],B=H[X.b],F=H[X.c],!0===q.morphTargets){var Y=g.morphTargets,J=this.morphTargetInfluences;n.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var Z=0,Q=Y.length;Z<Q;Z++){var K=J[Z];if(0!==K){var $=Y[Z].vertices;n.addScaledVector(a.subVectors($[X.a],U),K),i.addScaledVector(s.subVectors($[X.b],B),K),o.addScaledVector(c.subVectors($[X.c],F),K)}}n.add(U),i.add(B),o.add(F),U=n,B=i,F=o}if(f=y(this,q,p,e,U,B,F,m)){if(z&&z[j]){var tt=z[j];h.copy(tt[0]),l.copy(tt[1]),u.copy(tt[2]),f.uv=v(m,U,B,F,h,l,u)}f.face=X,f.faceIndex=j,d.push(f)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ro.prototype=Object.create(He.prototype),ro.prototype.constructor=ro,ro.prototype.isCubeTexture=!0,Object.defineProperty(ro.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var no=new He,io=new ro;function oo(){this.seq=[],this.map={}}var ao=[],so=[],co=new Float32Array(16),ho=new Float32Array(9),lo=new Float32Array(4);function uo(t,e,r){var n=t[0];if(n<=0||n>0)return t;var i=e*r,o=ao[i];if(void 0===o&&(o=new Float32Array(i),ao[i]=o),0!==e){n.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=r,t[a].toArray(o,s)}return o}function po(t,e){if(t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function fo(t,e){for(var r=0,n=e.length;r<n;r++)t[r]=e[r]}function mo(t,e){var r=so[e];void 0===r&&(r=new Int32Array(e),so[e]=r);for(var n=0;n!==e;++n)r[n]=t.allocTextureUnit();return r}function go(t,e){var r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function vo(t,e){var r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function yo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(po(r,e))return;t.uniform2fv(this.addr,e),fo(r,e)}}function xo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(void 0!==e.r)r[0]===e.r&&r[1]===e.g&&r[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(po(r,e))return;t.uniform3fv(this.addr,e),fo(r,e)}}function bo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z&&r[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(po(r,e))return;t.uniform4fv(this.addr,e),fo(r,e)}}function _o(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(po(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),fo(r,e)}else{if(po(r,n))return;lo.set(n),t.uniformMatrix2fv(this.addr,!1,lo),fo(r,n)}}function wo(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(po(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),fo(r,e)}else{if(po(r,n))return;ho.set(n),t.uniformMatrix3fv(this.addr,!1,ho),fo(r,n)}}function Mo(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(po(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),fo(r,e)}else{if(po(r,n))return;co.set(n),t.uniformMatrix4fv(this.addr,!1,co),fo(r,n)}}function Eo(t,e,r){var n=this.cache,i=r.allocTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(e||no,i)}function To(t,e,r){var n=this.cache,i=r.allocTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(e||io,i)}function So(t,e){var r=this.cache;po(r,e)||(t.uniform2iv(this.addr,e),fo(r,e))}function Ao(t,e){var r=this.cache;po(r,e)||(t.uniform3iv(this.addr,e),fo(r,e))}function Ro(t,e){var r=this.cache;po(r,e)||(t.uniform4iv(this.addr,e),fo(r,e))}function Lo(t){switch(t){case 5126:return go;case 35664:return yo;case 35665:return xo;case 35666:return bo;case 35674:return _o;case 35675:return wo;case 35676:return Mo;case 35678:case 36198:return Eo;case 35680:return To;case 5124:case 35670:return vo;case 35667:case 35671:return So;case 35668:case 35672:return Ao;case 35669:case 35673:return Ro}}function Co(t,e){var r=this.cache;po(r,e)||(t.uniform1fv(this.addr,e),fo(r,e))}function Po(t,e){var r=this.cache;po(r,e)||(t.uniform1iv(this.addr,e),fo(r,e))}function Oo(t,e){var r=this.cache,n=uo(e,this.size,2);po(r,n)||(t.uniform2fv(this.addr,n),this.updateCache(n))}function Io(t,e){var r=this.cache,n=uo(e,this.size,3);po(r,n)||(t.uniform3fv(this.addr,n),this.updateCache(n))}function No(t,e){var r=this.cache,n=uo(e,this.size,4);po(r,n)||(t.uniform4fv(this.addr,n),this.updateCache(n))}function Do(t,e){var r=this.cache,n=uo(e,this.size,4);po(r,n)||(t.uniformMatrix2fv(this.addr,!1,n),this.updateCache(n))}function Uo(t,e){var r=this.cache,n=uo(e,this.size,9);po(r,n)||(t.uniformMatrix3fv(this.addr,!1,n),this.updateCache(n))}function Bo(t,e){var r=this.cache,n=uo(e,this.size,16);po(r,n)||(t.uniformMatrix4fv(this.addr,!1,n),this.updateCache(n))}function Fo(t,e,r){var n=this.cache,i=e.length,o=mo(r,i);!1===po(n,o)&&(t.uniform1iv(this.addr,o),fo(n,o));for(var a=0;a!==i;++a)r.setTexture2D(e[a]||no,o[a])}function zo(t,e,r){var n=this.cache,i=e.length,o=mo(r,i);!1===po(n,o)&&(t.uniform1iv(this.addr,o),fo(n,o));for(var a=0;a!==i;++a)r.setTextureCube(e[a]||io,o[a])}function Go(t){switch(t){case 5126:return Co;case 35664:return Oo;case 35665:return Io;case 35666:return No;case 35674:return Do;case 35675:return Uo;case 35676:return Bo;case 35678:return Fo;case 35680:return zo;case 5124:case 35670:return Po;case 35667:case 35671:return So;case 35668:case 35672:return Ao;case 35669:case 35673:return Ro}}function Ho(t,e,r){this.id=t,this.addr=r,this.cache=[],this.setValue=Lo(e.type)}function Vo(t,e,r){this.id=t,this.addr=r,this.cache=[],this.size=e.size,this.setValue=Go(e.type)}function ko(t){this.id=t,oo.call(this)}Vo.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),fo(e,t)},ko.prototype.setValue=function(t,e){for(var r=this.seq,n=0,i=r.length;n!==i;++n){var o=r[n];o.setValue(t,e[o.id])}};var jo=/([\w\d_]+)(\])?(\[|\.)?/g;function Wo(t,e){t.seq.push(e),t.map[e.id]=e}function Xo(t,e,r){var n=t.name,i=n.length;for(jo.lastIndex=0;;){var o=jo.exec(n),a=jo.lastIndex,s=o[1],c="]"===o[2],h=o[3];if(c&&(s|=0),void 0===h||"["===h&&a+2===i){Wo(r,void 0===h?new Ho(s,t,e):new Vo(s,t,e));break}var l=r.map[s];void 0===l&&Wo(r,l=new ko(s)),r=l}}function qo(t,e,r){oo.call(this),this.renderer=r;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;++i){var o=t.getActiveUniform(e,i);Xo(o,t.getUniformLocation(e,o.name),this)}}function Yo(t){for(var e=t.split("\n"),r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")}function Jo(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),Yo(r)),n}qo.prototype.setValue=function(t,e,r){var n=this.map[e];void 0!==n&&n.setValue(t,r,this.renderer)},qo.prototype.setOptional=function(t,e,r){var n=e[r];void 0!==n&&this.setValue(t,r,n)},qo.upload=function(t,e,r,n){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,n)}},qo.seqWithValue=function(t,e){for(var r=[],n=0,i=t.length;n!==i;++n){var o=t[n];o.id in e&&r.push(o)}return r};var Zo=0;function Qo(t){switch(t){case we:return["Linear","( value )"];case Me:return["sRGB","( value )"];case Te:return["RGBE","( value )"];case Ae:return["RGBM","( value, 7.0 )"];case Re:return["RGBM","( value, 16.0 )"];case Le:return["RGBD","( value, 256.0 )"];case Ee:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Ko(t,e){var r=Qo(e);return"vec4 "+t+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function $o(t,e){var r=Qo(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function ta(t,e){var r;switch(e){case tt:r="Linear";break;case et:r="Reinhard";break;case rt:r="Uncharted2";break;case nt:r="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function ea(t,e,r){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ia).join("\n")}function ra(t){var e=[];for(var r in t){var n=t[r];!1!==n&&e.push("#define "+r+" "+n)}return e.join("\n")}function na(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i).name;r[o]=t.getAttribLocation(e,o)}return r}function ia(t){return""!==t}function oa(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function aa(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function sa(t){return t.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(t,e){var r=ri[e];if(void 0===r)throw new Error("Can not resolve #include <"+e+">");return sa(r)})}function ca(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,r,n){for(var i="",o=parseInt(e);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function ha(t,e,r,n,i,o){var a=t.context,s=n.defines,c=i.vertexShader,h=i.fragmentShader,p="SHADOWMAP_TYPE_BASIC";o.shadowMapType===l?p="SHADOWMAP_TYPE_PCF":o.shadowMapType===u&&(p="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",f="ENVMAP_MODE_REFLECTION",m="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(n.envMap.mapping){case ot:case at:d="ENVMAP_TYPE_CUBE";break;case lt:case ut:d="ENVMAP_TYPE_CUBE_UV";break;case st:case ct:d="ENVMAP_TYPE_EQUIREC";break;case ht:d="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case at:case ct:f="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Z:m="ENVMAP_BLENDING_MULTIPLY";break;case Q:m="ENVMAP_BLENDING_MIX";break;case K:m="ENVMAP_BLENDING_ADD"}}var g,v,y=t.gammaFactor>0?t.gammaFactor:1,x=ea(n.extensions,o,e),b=ra(s),_=a.createProgram();n.isRawShaderMaterial?((g=[b].filter(ia).join("\n")).length>0&&(g+="\n"),(v=[x,b].filter(ia).join("\n")).length>0&&(v+="\n")):(g=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+p:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ia).join("\n"),v=[x,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.envMap?"#define "+f:"",o.envMap?"#define "+m:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+p:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&e.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==$?"#define TONE_MAPPING":"",o.toneMapping!==$?ri.tonemapping_pars_fragment:"",o.toneMapping!==$?ta("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?ri.encodings_pars_fragment:"",o.mapEncoding?Ko("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?Ko("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Ko("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?$o("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ia).join("\n")),c=aa(c=oa(c=sa(c),o),o),h=aa(h=oa(h=sa(h),o),o);var w=g+(c=ca(c)),M=v+(h=ca(h)),E=Jo(a,a.VERTEX_SHADER,w),T=Jo(a,a.FRAGMENT_SHADER,M);a.attachShader(_,E),a.attachShader(_,T),void 0!==n.index0AttributeName?a.bindAttribLocation(_,0,n.index0AttributeName):!0===o.morphTargets&&a.bindAttribLocation(_,0,"position"),a.linkProgram(_);var S,A,R=a.getProgramInfoLog(_).trim(),L=a.getShaderInfoLog(E).trim(),C=a.getShaderInfoLog(T).trim(),P=!0,O=!0;return!1===a.getProgramParameter(_,a.LINK_STATUS)?(P=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(_,a.VALIDATE_STATUS),"gl.getProgramInfoLog",R,L,C)):""!==R?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",R):""!==L&&""!==C||(O=!1),O&&(this.diagnostics={runnable:P,material:n,programLog:R,vertexShader:{log:L,prefix:g},fragmentShader:{log:C,prefix:v}}),a.deleteShader(E),a.deleteShader(T),this.getUniforms=function(){return void 0===S&&(S=new qo(a,_,t)),S},this.getAttributes=function(){return void 0===A&&(A=na(a,_)),A},this.destroy=function(){a.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Zo++,this.code=r,this.usedTimes=1,this.program=_,this.vertexShader=E,this.fragmentShader=T,this}function la(t,e,r){var n=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(t,e){var r;return t?t.isTexture?r=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),r=t.texture.encoding):r=we,r===we&&e&&(r=Ee),r}this.getParameters=function(e,n,o,s,c,h,l){var u=i[e.type],p=l.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(r.floatVertexTextures)return 1024;var n=r.maxVertexUniforms,i=Math.floor((n-20)/4),o=Math.min(i,e.length);return o<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+o+"."),0):o}(l):0,m=r.precision;null!==e.precision&&(m=r.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",m,"instead.");var g=t.getRenderTarget();return{shaderID:u,precision:m,supportsVertexTextures:r.vertexTextures,outputEncoding:a(g?g.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:a(e.map,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:a(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===lt||e.envMap.mapping===ut),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:a(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ie,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:r.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:r.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:n.directional.length,numPointLights:n.point.length,numSpotLights:n.spot.length,numRectAreaLights:n.rectArea.length,numHemiLights:n.hemi.length,numClippingPlanes:c,numClipIntersection:h,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&o.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===f,flipSided:e.side===d,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,r){var n=[];if(r.shaderID?n.push(r.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);for(var a=0;a<o.length;a++)n.push(r[o[a]]);return n.push(e.onBeforeCompile.toString()),n.push(t.gammaOutput),n.join()},this.acquireProgram=function(r,i,o,a){for(var s,c=0,h=n.length;c<h;c++){var l=n[c];if(l.code===a){++(s=l).usedTimes;break}}return void 0===s&&(s=new ha(t,e,a,r,i,o),n.push(s)),s},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function ua(){var t=new WeakMap;return{get:function(e){var r=t.get(e);return void 0===r&&(r={},t.set(e,r)),r},remove:function(e){t.delete(e)},update:function(e,r,n){t.get(e)[r]=n},dispose:function(){t=new WeakMap}}}function pa(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function da(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function fa(){var t=[],e=0,r=[],n=[];return{opaque:r,transparent:n,init:function(){e=0,r.length=0,n.length=0},push:function(i,o,a,s,c){var h=t[e];void 0===h?(h={id:i.id,object:i,geometry:o,material:a,program:a.program,renderOrder:i.renderOrder,z:s,group:c},t[e]=h):(h.id=i.id,h.object=i,h.geometry=o,h.material=a,h.program=a.program,h.renderOrder=i.renderOrder,h.z=s,h.group=c),(!0===a.transparent?n:r).push(h),e++},sort:function(){r.length>1&&r.sort(pa),n.length>1&&n.sort(da)}}}function ma(){var t={};return{get:function(e,r){var n=e.id+","+r.id,i=t[n];return void 0===i&&(i=new fa,t[n]=i),i},dispose:function(){t={}}}}function ga(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var r;switch(e.type){case"DirectionalLight":r={direction:new Fe,color:new oi,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":r={position:new Fe,direction:new Fe,color:new oi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":r={position:new Fe,color:new oi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":r={direction:new Fe,skyColor:new oi,groundColor:new oi};break;case"RectAreaLight":r={color:new oi,position:new Fe,halfWidth:new Fe,halfHeight:new Fe}}return t[e.id]=r,r}}}var va=0;function ya(){var t=new ga,e={id:va++,hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=new Fe,n=new Ue,i=new Ue;return{setup:function(o,a,s){for(var c=0,h=0,l=0,u=0,p=0,d=0,f=0,m=0,g=s.matrixWorldInverse,v=0,y=o.length;v<y;v++){var x=o[v],b=x.color,_=x.intensity,w=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)c+=b.r*_,h+=b.g*_,l+=b.b*_;else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var E=x.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize}e.directionalShadowMap[u]=M,e.directionalShadowMatrix[u]=x.shadow.matrix,e.directional[u]=T,u++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(_),T.distance=w,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize),e.spotShadowMap[d]=M,e.spotShadowMatrix[d]=x.shadow.matrix,e.spot[d]=T,d++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(_),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),i.identity(),n.copy(x.matrixWorld),n.premultiply(g),i.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),e.rectArea[f]=T,f++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize,T.shadowCameraNear=E.camera.near,T.shadowCameraFar=E.camera.far),e.pointShadowMap[p]=M,e.pointShadowMatrix[p]=x.shadow.matrix,e.point[p]=T,p++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(_),T.groundColor.copy(x.groundColor).multiplyScalar(_),e.hemi[m]=T,m++}}e.ambient[0]=c,e.ambient[1]=h,e.ambient[2]=l,e.directional.length=u,e.spot.length=d,e.rectArea.length=f,e.point.length=p,e.hemi.length=m,e.hash=e.id+","+u+","+p+","+d+","+f+","+m+","+a.length},state:e}}function xa(){var t=new ya,e=[],r=[],n=[];return{init:function(){e.length=0,r.length=0,n.length=0},state:{lightsArray:e,shadowsArray:r,spritesArray:n,lights:t},setupLights:function(n){t.setup(e,r,n)},pushLight:function(t){e.push(t)},pushShadow:function(t){r.push(t)},pushSprite:function(t){n.push(t)}}}function ba(){var t={};return{get:function(e,r){var n=e.id+","+r.id,i=t[n];return void 0===i&&(i=new xa,t[n]=i),i},dispose:function(){t={}}}}function _a(t){Fi.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ce,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function wa(t){Fi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Fe,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Ma(t,e,r){for(var n=new Je,i=new Ue,o=new De,a=new De(r,r),s=new Fe,c=new Fe,h=1,u=2,m=1+(h|u),g=new Array(m),v=new Array(m),y={},x={0:d,1:p,2:f},b=[new Fe(1,0,0),new Fe(-1,0,0),new Fe(0,0,1),new Fe(0,0,-1),new Fe(0,1,0),new Fe(0,-1,0)],_=[new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,0,1),new Fe(0,0,-1)],w=[new Ve,new Ve,new Ve,new Ve,new Ve,new Ve],M=0;M!==m;++M){var E=0!=(M&h),T=0!=(M&u),S=new _a({depthPacking:Pe,morphTargets:E,skinning:T});g[M]=S;var A=new wa({morphTargets:E,skinning:T});v[M]=A}var R=this;function L(e,r,n,i,o,a){var s=e.geometry,c=null,l=g,p=e.customDepthMaterial;if(n&&(l=v,p=e.customDistanceMaterial),p)c=p;else{var d=!1;r.morphTargets&&(s&&s.isBufferGeometry?d=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(d=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===r.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var f=e.isSkinnedMesh&&r.skinning,m=0;d&&(m|=h),f&&(m|=u),c=l[m]}if(t.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var b=c.uuid,_=r.uuid,w=y[b];void 0===w&&(w={},y[b]=w);var M=w[_];void 0===M&&(M=c.clone(),w[_]=M),c=M}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=null!=r.shadowSide?r.shadowSide:x[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,n&&c.isMeshDistanceMaterial&&(c.referencePosition.copy(i),c.nearDistance=o,c.farDistance=a),c}function C(r,i,o,a){if(!1!==r.visible){if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&r.castShadow&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var s=e.update(r),h=r.material;if(Array.isArray(h))for(var l=s.groups,u=0,p=l.length;u<p;u++){var d=l[u],f=h[d.materialIndex];if(f&&f.visible){var m=L(r,f,a,c,o.near,o.far);t.renderBufferDirect(o,null,s,m,r,d)}}else if(h.visible){m=L(r,h,a,c,o.near,o.far);t.renderBufferDirect(o,null,s,m,r,null)}}for(var g=r.children,v=0,y=g.length;v<y;v++)C(g[v],i,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l,this.render=function(e,r,h){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==e.length){var l,u=t.context,p=t.state;p.disable(u.BLEND),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var d=0,f=e.length;d<f;d++){var m=e[d],g=m.shadow,v=m&&m.isPointLight;if(void 0!==g){var y=g.camera;if(o.copy(g.mapSize),o.min(a),v){var x=o.x,M=o.y;w[0].set(2*x,M,x,M),w[1].set(0,M,x,M),w[2].set(3*x,M,x,M),w[3].set(x,M,x,M),w[4].set(3*x,0,x,M),w[5].set(x,0,x,M),o.x*=4,o.y*=2}if(null===g.map){var E={minFilter:mt,magFilter:mt,format:Dt};g.map=new ke(o.x,o.y,E),g.map.texture.name=m.name+".shadowMap",y.updateProjectionMatrix()}g.isSpotLightShadow&&g.update(m);var T=g.map,S=g.matrix;c.setFromMatrixPosition(m.matrixWorld),y.position.copy(c),v?(l=6,S.makeTranslation(-c.x,-c.y,-c.z)):(l=1,s.setFromMatrixPosition(m.target.matrixWorld),y.lookAt(s),y.updateMatrixWorld(),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(y.projectionMatrix),S.multiply(y.matrixWorldInverse)),t.setRenderTarget(T),t.clear();for(var A=0;A<l;A++){if(v){s.copy(y.position),s.add(b[A]),y.up.copy(_[A]),y.lookAt(s),y.updateMatrixWorld();var L=w[A];p.viewport(L)}i.multiplyMatrices(y.projectionMatrix,y.matrixWorldInverse),n.setFromMatrix(i),C(r,h,y,v)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}R.needsUpdate=!1}}}function Ea(t,e,r,n,i,o,a,s,c){He.call(this,t,e,r,n,i,o,a,s,c),this.needsUpdate=!0}function Ta(t,e,r,n,i){var o,a,s,c,h,l,u=new Fe,p=new Be,d=new Fe;function f(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),r=new Uint16Array([0,1,2,0,2,3]);o=e.createBuffer(),a=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r,e.STATIC_DRAW),s=function(){var t=e.createProgram(),r=e.createShader(e.VERTEX_SHADER),n=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 center;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = ( position - center ) * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),e.shaderSource(n,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),e.compileShader(r),e.compileShader(n),e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),t}(),c={position:e.getAttribLocation(s,"position"),uv:e.getAttribLocation(s,"uv")},h={uvOffset:e.getUniformLocation(s,"uvOffset"),uvScale:e.getUniformLocation(s,"uvScale"),rotation:e.getUniformLocation(s,"rotation"),center:e.getUniformLocation(s,"center"),scale:e.getUniformLocation(s,"scale"),color:e.getUniformLocation(s,"color"),map:e.getUniformLocation(s,"map"),opacity:e.getUniformLocation(s,"opacity"),modelViewMatrix:e.getUniformLocation(s,"modelViewMatrix"),projectionMatrix:e.getUniformLocation(s,"projectionMatrix"),fogType:e.getUniformLocation(s,"fogType"),fogDensity:e.getUniformLocation(s,"fogDensity"),fogNear:e.getUniformLocation(s,"fogNear"),fogFar:e.getUniformLocation(s,"fogFar"),fogColor:e.getUniformLocation(s,"fogColor"),fogDepth:e.getUniformLocation(s,"fogDepth"),alphaTest:e.getUniformLocation(s,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var u=n.getContext("2d");u.fillStyle="white",u.fillRect(0,0,8,8),l=new Ea(n)}function m(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(i,g,v){if(0!==i.length){void 0===s&&f(),r.useProgram(s),r.initAttributes(),r.enableAttribute(c.position),r.enableAttribute(c.uv),r.disableUnusedAttributes(),r.disable(e.CULL_FACE),r.enable(e.BLEND),e.bindBuffer(e.ARRAY_BUFFER,o),e.vertexAttribPointer(c.position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(c.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.uniformMatrix4fv(h.projectionMatrix,!1,v.projectionMatrix.elements),r.activeTexture(e.TEXTURE0),e.uniform1i(h.map,0);var y=0,x=0,b=g.fog;b?(e.uniform3f(h.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(e.uniform1f(h.fogNear,b.near),e.uniform1f(h.fogFar,b.far),e.uniform1i(h.fogType,1),y=1,x=1):b.isFogExp2&&(e.uniform1f(h.fogDensity,b.density),e.uniform1i(h.fogType,2),y=2,x=2)):(e.uniform1i(h.fogType,0),y=0,x=0);for(var _=0,w=i.length;_<w;_++){(T=i[_]).modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}i.sort(m);var M=[],E=[];for(_=0,w=i.length;_<w;_++){var T,S=(T=i[_]).material;if(!1!==S.visible){T.onBeforeRender(t,g,v,void 0,S,void 0),e.uniform1f(h.alphaTest,S.alphaTest),e.uniformMatrix4fv(h.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(u,p,d),M[0]=d.x,M[1]=d.y,E[0]=T.center.x-.5,E[1]=T.center.y-.5;var A=0;g.fog&&S.fog&&(A=x),y!==A&&(e.uniform1i(h.fogType,A),y=A),null!==S.map?(e.uniform2f(h.uvOffset,S.map.offset.x,S.map.offset.y),e.uniform2f(h.uvScale,S.map.repeat.x,S.map.repeat.y)):(e.uniform2f(h.uvOffset,0,0),e.uniform2f(h.uvScale,1,1)),e.uniform1f(h.opacity,S.opacity),e.uniform3f(h.color,S.color.r,S.color.g,S.color.b),e.uniform1f(h.rotation,S.rotation),e.uniform2fv(h.center,E),e.uniform2fv(h.scale,M),r.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst,S.blendEquationAlpha,S.blendSrcAlpha,S.blendDstAlpha,S.premultipliedAlpha),r.buffers.depth.setTest(S.depthTest),r.buffers.depth.setMask(S.depthWrite),r.buffers.color.setMask(S.colorWrite),n.setTexture2D(S.map||l,0),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),T.onAfterRender(t,g,v,void 0,S,void 0)}}r.enable(e.CULL_FACE),r.reset()}}}function Sa(t,e,r){var a=new function(){var e=!1,r=new Ve,n=null,i=new Ve(0,0,0,0);return{setMask:function(r){n===r||e||(t.colorMask(r,r,r,r),n=r)},setLocked:function(t){e=t},setClear:function(e,n,o,a,s){!0===s&&(e*=a,n*=a,o*=a),r.set(e,n,o,a),!1===i.equals(r)&&(t.clearColor(e,n,o,a),i.copy(r))},reset:function(){e=!1,n=null,i.set(-1,0,0,0)}}},s=new function(){var e=!1,r=null,n=null,i=null;return{setTest:function(e){e?rt(t.DEPTH_TEST):nt(t.DEPTH_TEST)},setMask:function(n){r===n||e||(t.depthMask(n),r=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case V:t.depthFunc(t.NEVER);break;case k:t.depthFunc(t.ALWAYS);break;case j:t.depthFunc(t.LESS);break;case W:t.depthFunc(t.LEQUAL);break;case X:t.depthFunc(t.EQUAL);break;case q:t.depthFunc(t.GEQUAL);break;case Y:t.depthFunc(t.GREATER);break;case J:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,r=null,n=null,i=null}}},c=new function(){var e=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,h=null;return{setTest:function(e){e?rt(t.STENCIL_TEST):nt(t.STENCIL_TEST)},setMask:function(n){r===n||e||(t.stencilMask(n),r=n)},setFunc:function(e,r,a){n===e&&i===r&&o===a||(t.stencilFunc(e,r,a),n=e,i=r,o=a)},setOp:function(e,r,n){a===e&&s===r&&c===n||(t.stencilOp(e,r,n),a=e,s=r,c=n)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,h=null}}},h=t.getParameter(t.MAX_VERTEX_ATTRIBS),l=new Uint8Array(h),u=new Uint8Array(h),p=new Uint8Array(h),m={},g=null,v=null,y=null,x=null,S=null,A=null,R=null,L=null,C=null,P=!1,O=null,I=null,N=null,D=null,U=null,B=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),F=!1,z=0,G=t.getParameter(t.VERSION);-1!==G.indexOf("WebGL")?(z=parseFloat(/^WebGL\ ([0-9])/.exec(G)[1]),F=z>=1):-1!==G.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(G)[1]),F=z>=2);var H=null,Z={},Q=new Ve,K=new Ve;function $(e,r,n){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<n;a++)t.texImage2D(r+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}var tt={};function et(r,n){(l[r]=1,0===u[r]&&(t.enableVertexAttribArray(r),u[r]=1),p[r]!==n)&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(r,n),p[r]=n)}function rt(e){!0!==m[e]&&(t.enable(e),m[e]=!0)}function nt(e){!1!==m[e]&&(t.disable(e),m[e]=!1)}function it(e,n,i,o,a,s,c,h){if(e!==b?rt(t.BLEND):nt(t.BLEND),e!==T){if(e!==y||h!==P)switch(e){case w:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE));break;case M:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR));break;case E:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR));break;default:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA))}x=null,S=null,A=null,R=null,L=null,C=null}else a=a||n,s=s||i,c=c||o,n===x&&a===R||(t.blendEquationSeparate(r.convert(n),r.convert(a)),x=n,R=a),i===S&&o===A&&s===L&&c===C||(t.blendFuncSeparate(r.convert(i),r.convert(o),r.convert(s),r.convert(c)),S=i,A=o,L=s,C=c);y=e,P=h}function ot(e){O!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),O=e)}function at(e){e!==n?(rt(t.CULL_FACE),e!==I&&(e===i?t.cullFace(t.BACK):e===o?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):nt(t.CULL_FACE),I=e}function st(e,r,n){e?(rt(t.POLYGON_OFFSET_FILL),D===r&&U===n||(t.polygonOffset(r,n),D=r,U=n)):nt(t.POLYGON_OFFSET_FILL)}function ct(e){void 0===e&&(e=t.TEXTURE0+B-1),H!==e&&(t.activeTexture(e),H=e)}return tt[t.TEXTURE_2D]=$(t.TEXTURE_2D,t.TEXTURE_2D,1),tt[t.TEXTURE_CUBE_MAP]=$(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),a.setClear(0,0,0,1),s.setClear(1),c.setClear(0),rt(t.DEPTH_TEST),s.setFunc(W),ot(!1),at(i),rt(t.CULL_FACE),rt(t.BLEND),it(_),{buffers:{color:a,depth:s,stencil:c},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){et(t,0)},enableAttributeAndDivisor:et,disableUnusedAttributes:function(){for(var e=0,r=u.length;e!==r;++e)u[e]!==l[e]&&(t.disableVertexAttribArray(e),u[e]=0)},enable:rt,disable:nt,getCompressedTextureFormats:function(){if(null===g&&(g=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var r=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<r.length;n++)g.push(r[n]);return g},useProgram:function(e){return v!==e&&(t.useProgram(e),v=e,!0)},setBlending:it,setMaterial:function(e,r){e.side===f?nt(t.CULL_FACE):rt(t.CULL_FACE);var n=e.side===d;r&&(n=!n),ot(n),e.blending===_&&!1===e.transparent?it(b):it(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),a.setMask(e.colorWrite),st(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ot,setCullFace:at,setLineWidth:function(e){e!==N&&(F&&t.lineWidth(e),N=e)},setPolygonOffset:st,setScissorTest:function(e){e?rt(t.SCISSOR_TEST):nt(t.SCISSOR_TEST)},activeTexture:ct,bindTexture:function(e,r){null===H&&ct();var n=Z[H];void 0===n&&(n={type:void 0,texture:void 0},Z[H]=n),n.type===e&&n.texture===r||(t.bindTexture(e,r||tt[e]),n.type=e,n.texture=r)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===Q.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),Q.copy(e))},viewport:function(e){!1===K.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),K.copy(e))},reset:function(){for(var e=0;e<u.length;e++)1===u[e]&&(t.disableVertexAttribArray(e),u[e]=0);m={},g=null,H=null,Z={},v=null,y=null,O=null,I=null,a.reset(),s.reset(),c.reset()}}}function Aa(t,e,r,n,i,o,a){var s,c="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,h={};function l(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var r=e/Math.max(t.width,t.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.width=Math.floor(t.width*r),n.height=Math.floor(t.height*r),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function u(t){return Ne.isPowerOfTwo(t.width)&&Ne.isPowerOfTwo(t.height)}function p(t,e){return t.generateMipmaps&&e&&t.minFilter!==mt&&t.minFilter!==yt}function d(e,r,i,o){t.generateMipmap(e),n.get(r).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function f(e){return e===mt||e===gt||e===vt?t.NEAREST:t.LINEAR}function m(e){var r=e.target;r.removeEventListener("dispose",m),function(e){var r=n.get(e);if(e.image&&r.__image__webglTextureCube)t.deleteTexture(r.__image__webglTextureCube);else{if(void 0===r.__webglInit)return;t.deleteTexture(r.__webglTexture)}n.remove(e)}(r),r.isVideoTexture&&delete h[r.id],a.memory.textures--}function g(e){var r=e.target;r.removeEventListener("dispose",g),function(e){var r=n.get(e),i=n.get(e.texture);if(!e)return;void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[o]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer);n.remove(e.texture),n.remove(e)}(r),a.memory.textures--}function v(e,f){var g=n.get(e);if(e.isVideoTexture&&function(t){var e=t.id,r=a.render.frame;h[e]!==r&&(h[e]=r,t.update())}(e),e.version>0&&g.__version!==e.version){var v=e.image;if(void 0===v)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==v.complete)return void function(e,n,h){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",m),e.__webglTexture=t.createTexture(),a.memory.textures++);r.activeTexture(t.TEXTURE0+h),r.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var f=l(n.image,i.maxTextureSize);(function(t){return t.wrapS!==dt||t.wrapT!==dt||t.minFilter!==mt&&t.minFilter!==yt})(n)&&!1===u(f)&&(f=function(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap?(void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),s.width=Ne.floorPowerOfTwo(t.width),s.height=Ne.floorPowerOfTwo(t.height),s.getContext("2d").drawImage(t,0,0,s.width,s.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+s.width+"x"+s.height,t),s):t}(f));var g=u(f),v=o.convert(n.format),x=o.convert(n.type);y(t.TEXTURE_2D,n,g);var b,_=n.mipmaps;if(n.isDepthTexture){var w=t.DEPTH_COMPONENT;if(n.type===At){if(!c)throw new Error("Float Depth Texture only supported in WebGL2.0");w=t.DEPTH_COMPONENT32F}else c&&(w=t.DEPTH_COMPONENT16);n.format===zt&&w===t.DEPTH_COMPONENT&&n.type!==Et&&n.type!==St&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=Et,x=o.convert(n.type)),n.format===Gt&&(w=t.DEPTH_STENCIL,n.type!==Ot&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Ot,x=o.convert(n.type))),r.texImage2D(t.TEXTURE_2D,0,w,f.width,f.height,0,v,x,null)}else if(n.isDataTexture)if(_.length>0&&g){for(var M=0,E=_.length;M<E;M++)b=_[M],r.texImage2D(t.TEXTURE_2D,M,v,b.width,b.height,0,v,x,b.data);n.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else r.texImage2D(t.TEXTURE_2D,0,v,f.width,f.height,0,v,x,f.data),e.__maxMipLevel=0;else if(n.isCompressedTexture){for(var M=0,E=_.length;M<E;M++)b=_[M],n.format!==Dt&&n.format!==Nt?r.getCompressedTextureFormats().indexOf(v)>-1?r.compressedTexImage2D(t.TEXTURE_2D,M,v,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(t.TEXTURE_2D,M,v,b.width,b.height,0,v,x,b.data);e.__maxMipLevel=_.length-1}else if(_.length>0&&g){for(var M=0,E=_.length;M<E;M++)b=_[M],r.texImage2D(t.TEXTURE_2D,M,v,v,x,b);n.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else r.texImage2D(t.TEXTURE_2D,0,v,v,x,f),e.__maxMipLevel=0;p(n,g)&&d(t.TEXTURE_2D,n,f.width,f.height);e.__version=n.version,n.onUpdate&&n.onUpdate(n)}(g,e,f);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}r.activeTexture(t.TEXTURE0+f),r.bindTexture(t.TEXTURE_2D,g.__webglTexture)}function y(r,a,s){var c;if(s?(t.texParameteri(r,t.TEXTURE_WRAP_S,o.convert(a.wrapS)),t.texParameteri(r,t.TEXTURE_WRAP_T,o.convert(a.wrapT)),t.texParameteri(r,t.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(t.texParameteri(r,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===dt&&a.wrapT===dt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(r,t.TEXTURE_MAG_FILTER,f(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,f(a.minFilter)),a.minFilter!==mt&&a.minFilter!==yt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),c=e.get("EXT_texture_filter_anisotropic")){if(a.type===At&&null===e.get("OES_texture_float_linear"))return;if(a.type===Rt&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(t.texParameterf(r,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,i,a,s){var c=o.convert(i.texture.format),h=o.convert(i.texture.type);r.texImage2D(s,0,c,i.width,i.height,0,c,h,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,n.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function b(e,r){t.bindRenderbuffer(t.RENDERBUFFER,e),r.depthBuffer&&!r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):r.depthBuffer&&r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,r.width,r.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function _(e){var r=n.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),v(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===zt)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(r.depthTexture.format!==Gt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}(r.__webglFramebuffer,e)}else if(i){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=t.createRenderbuffer(),b(r.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),b(r.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}this.setTexture2D=v,this.setTextureCube=function(e,s){var c=n.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener("dispose",m),c.__image__webglTextureCube=t.createTexture(),a.memory.textures++),r.activeTexture(t.TEXTURE0+s),r.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var h=e&&e.isCompressedTexture,f=e.image[0]&&e.image[0].isDataTexture,g=[],v=0;v<6;v++)g[v]=h||f?f?e.image[v].image:e.image[v]:l(e.image[v],i.maxCubemapSize);var x=g[0],b=u(x),_=o.convert(e.format),w=o.convert(e.type);for(y(t.TEXTURE_CUBE_MAP,e,b),v=0;v<6;v++)if(h)for(var M,E=g[v].mipmaps,T=0,S=E.length;T<S;T++)M=E[T],e.format!==Dt&&e.format!==Nt?r.getCompressedTextureFormats().indexOf(_)>-1?r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,T,_,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,T,_,M.width,M.height,0,_,w,M.data);else f?r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,_,g[v].width,g[v].height,0,_,w,g[v].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,_,_,w,g[v]);c.__maxMipLevel=h?E.length-1:0,p(e,b)&&d(t.TEXTURE_CUBE_MAP,e,x.width,x.height),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else r.activeTexture(t.TEXTURE0+s),r.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,i){r.activeTexture(t.TEXTURE0+i),r.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)},this.setupRenderTarget=function(e){var i=n.get(e),o=n.get(e.texture);e.addEventListener("dispose",g),o.__webglTexture=t.createTexture(),a.memory.textures++;var s=!0===e.isWebGLRenderTargetCube,c=u(e);if(s){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){for(r.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),y(t.TEXTURE_CUBE_MAP,e.texture,c),h=0;h<6;h++)x(i.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);p(e.texture,c)&&d(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),r.bindTexture(t.TEXTURE_CUBE_MAP,null)}else r.bindTexture(t.TEXTURE_2D,o.__webglTexture),y(t.TEXTURE_2D,e.texture,c),x(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),p(e.texture,c)&&d(t.TEXTURE_2D,e.texture,e.width,e.height),r.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&_(e)},this.updateRenderTargetMipmap=function(e){var i=e.texture;if(p(i,u(e))){var o=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=n.get(i).__webglTexture;r.bindTexture(o,a),d(o,i,e.width,e.height),r.bindTexture(o,null)}}}function Ra(t,e){return{convert:function(r){var n;if(r===pt)return t.REPEAT;if(r===dt)return t.CLAMP_TO_EDGE;if(r===ft)return t.MIRRORED_REPEAT;if(r===mt)return t.NEAREST;if(r===gt)return t.NEAREST_MIPMAP_NEAREST;if(r===vt)return t.NEAREST_MIPMAP_LINEAR;if(r===yt)return t.LINEAR;if(r===xt)return t.LINEAR_MIPMAP_NEAREST;if(r===bt)return t.LINEAR_MIPMAP_LINEAR;if(r===_t)return t.UNSIGNED_BYTE;if(r===Lt)return t.UNSIGNED_SHORT_4_4_4_4;if(r===Ct)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Pt)return t.UNSIGNED_SHORT_5_6_5;if(r===wt)return t.BYTE;if(r===Mt)return t.SHORT;if(r===Et)return t.UNSIGNED_SHORT;if(r===Tt)return t.INT;if(r===St)return t.UNSIGNED_INT;if(r===At)return t.FLOAT;if(r===Rt&&null!==(n=e.get("OES_texture_half_float")))return n.HALF_FLOAT_OES;if(r===It)return t.ALPHA;if(r===Nt)return t.RGB;if(r===Dt)return t.RGBA;if(r===Ut)return t.LUMINANCE;if(r===Bt)return t.LUMINANCE_ALPHA;if(r===zt)return t.DEPTH_COMPONENT;if(r===Gt)return t.DEPTH_STENCIL;if(r===S)return t.FUNC_ADD;if(r===A)return t.FUNC_SUBTRACT;if(r===R)return t.FUNC_REVERSE_SUBTRACT;if(r===P)return t.ZERO;if(r===O)return t.ONE;if(r===I)return t.SRC_COLOR;if(r===N)return t.ONE_MINUS_SRC_COLOR;if(r===D)return t.SRC_ALPHA;if(r===U)return t.ONE_MINUS_SRC_ALPHA;if(r===B)return t.DST_ALPHA;if(r===F)return t.ONE_MINUS_DST_ALPHA;if(r===z)return t.DST_COLOR;if(r===G)return t.ONE_MINUS_DST_COLOR;if(r===H)return t.SRC_ALPHA_SATURATE;if((r===Ht||r===Vt||r===kt||r===jt)&&null!==(n=e.get("WEBGL_compressed_texture_s3tc"))){if(r===Ht)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Vt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===kt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===jt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((r===Wt||r===Xt||r===qt||r===Yt)&&null!==(n=e.get("WEBGL_compressed_texture_pvrtc"))){if(r===Wt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Xt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===qt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Yt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===Jt&&null!==(n=e.get("WEBGL_compressed_texture_etc1")))return n.COMPRESSED_RGB_ETC1_WEBGL;if((r===Zt||r===Qt||r===Kt||r===$t||r===te||r===ee||r===re||r===ne||r===ie||r===oe||r===ae||r===se||r===ce||r===he)&&null!==(n=e.get("WEBGL_compressed_texture_astc")))return r;if((r===L||r===C)&&null!==(n=e.get("EXT_blend_minmax"))){if(r===L)return n.MIN_EXT;if(r===C)return n.MAX_EXT}return r===Ot&&null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:0}}}function La(){di.call(this),this.type="Group"}function Ca(t,e,r,n){fi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Pa(t){Ca.call(this),this.cameras=t||[]}function Oa(t){var e=this,r=null,n=null,i=null,o=[],a=new Ue,s=new Ue;"undefined"!=typeof window&&"VRFrameData"in window&&(n=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",v,!1));var c=new Ue,h=new Be,l=new Fe,u=new Ca;u.bounds=new Ve(0,0,.5,1),u.layers.enable(1);var p=new Ca;p.bounds=new Ve(.5,0,.5,1),p.layers.enable(2);var d,f,m=new Pa([u,p]);function g(){return null!==r&&!0===r.isPresenting}function v(){if(g()){var n=r.getEyeParameters("left"),i=n.renderWidth,o=n.renderHeight;f=t.getPixelRatio(),d=t.getSize(),t.setDrawingBufferSize(2*i,o,1),b.start()}else e.enabled&&(t.setDrawingBufferSize(d.width,d.height,f),b.stop())}m.layers.enable(1),m.layers.enable(2);var y=!1;function x(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),r=0,n=0,i=e.length;r<i;r++){var o=e[r];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(n===t)return o;n++}}}this.enabled=!1,this.userHeight=1.6,this.getController=function(t){var e=o[t];return void 0===e&&((e=new La).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),b.setContext(t)},this.setPoseTarget=function(t){void 0!==t&&(i=t)},this.getCamera=function(t){if(null===r)return t.position.set(0,e.userHeight,0),t;r.depthNear=t.near,r.depthFar=t.far,r.getFrameData(n);var d=r.stageParameters;d?a.fromArray(d.sittingToStandingTransform):a.makeTranslation(0,e.userHeight,0);var f=n.pose,g=null!==i?i:t;if(g.matrix.copy(a),g.matrix.decompose(g.position,g.quaternion,g.scale),null!==f.orientation&&(h.fromArray(f.orientation),g.quaternion.multiply(h)),null!==f.position&&(h.setFromRotationMatrix(a),l.fromArray(f.position),l.applyQuaternion(h),g.position.add(l)),g.updateMatrixWorld(),!1===r.isPresenting)return t;u.near=t.near,p.near=t.near,u.far=t.far,p.far=t.far,m.matrixWorld.copy(t.matrixWorld),m.matrixWorldInverse.copy(t.matrixWorldInverse),u.matrixWorldInverse.fromArray(n.leftViewMatrix),p.matrixWorldInverse.fromArray(n.rightViewMatrix),s.getInverse(a),u.matrixWorldInverse.multiply(s),p.matrixWorldInverse.multiply(s);var v=g.parent;null!==v&&(c.getInverse(v.matrixWorld),u.matrixWorldInverse.multiply(c),p.matrixWorldInverse.multiply(c)),u.matrixWorld.getInverse(u.matrixWorldInverse),p.matrixWorld.getInverse(p.matrixWorldInverse),u.projectionMatrix.fromArray(n.leftProjectionMatrix),p.projectionMatrix.fromArray(n.rightProjectionMatrix),m.projectionMatrix.copy(u.projectionMatrix);var b=r.getLayers();if(b.length){var _=b[0];null!==_.leftBounds&&4===_.leftBounds.length&&u.bounds.fromArray(_.leftBounds),null!==_.rightBounds&&4===_.rightBounds.length&&p.bounds.fromArray(_.rightBounds)}return function(){for(var t=0;t<o.length;t++){var e=o[t],r=x(t);if(void 0!==r&&void 0!==r.pose){if(null===r.pose)return;var n=r.pose;!1===n.hasPosition&&e.position.set(.2,-.6,-.05),null!==n.position&&e.position.fromArray(n.position),null!==n.orientation&&e.quaternion.fromArray(n.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(a),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i="Daydream Controller"===r.id?0:1;y!==r.buttons[i].pressed&&((y=r.buttons[i].pressed)?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),m},this.getStandingMatrix=function(){return a},this.isPresenting=g;var b=new ci;this.setAnimationLoop=function(t){b.setAnimationLoop(t)},this.submitFrame=function(){g()&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",v)}}function Ia(t){var e=t.context,r=null,n=null,i=null,o=null,a=[],s=[];function c(){return null!==n&&null!==i}var h=new Ca;h.layers.enable(1),h.viewport=new Ve;var l=new Ca;l.layers.enable(2),l.viewport=new Ve;var u=new Pa([h,l]);function p(t){var e=a[s.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),g.stop()}function f(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}u.layers.enable(1),u.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=a[t];return void 0===e&&((e=new La).matrixAutoUpdate=!1,e.visible=!1,a[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),e.setCompatibleXRDevice(t)},this.setSession=function(r,o){null!==(n=r)&&(n.addEventListener("select",p),n.addEventListener("selectstart",p),n.addEventListener("selectend",p),n.addEventListener("end",d),n.baseLayer=new XRWebGLLayer(n,e),n.requestFrameOfReference(o.frameOfReferenceType).then(function(e){i=e,t.setFramebuffer(n.baseLayer.framebuffer),g.setContext(n),g.start()}),s=n.getInputSources(),n.addEventListener("inputsourceschange",function(){s=n.getInputSources(),console.log(s)}))},this.getCamera=function(t){if(c()){var e=t.parent,r=u.cameras;f(u,e);for(var n=0;n<r.length;n++)f(r[n],e);t.matrixWorld.copy(u.matrixWorld);for(var i=t.children,o=(n=0,i.length);n<o;n++)i[n].updateMatrixWorld(!0);return u}return t},this.isPresenting=c;var m=null;var g=new ci;g.setAnimationLoop(function(t,e){if(null!==(o=e.getDevicePose(i)))for(var r=n.baseLayer,c=e.views,h=0;h<c.length;h++){var l=c[h],p=r.getViewport(l),d=o.getViewMatrix(l),f=u.cameras[h];f.matrix.fromArray(d).getInverse(f.matrix),f.projectionMatrix.fromArray(l.projectionMatrix),f.viewport.set(p.x,p.y,p.width,p.height),0===h&&(u.matrix.copy(f.matrix),u.projectionMatrix.copy(f.projectionMatrix))}for(h=0;h<a.length;h++){var g=a[h],v=s[h];if(v){var y=e.getInputPose(v,i);if(null!==y){g.matrix.elements=y.pointerMatrix,g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}m&&m(t)}),this.setAnimationLoop=function(t){m=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Na(t){console.log("THREE.WebGLRenderer",e);var r=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,o=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,c=void 0===t.premultipliedAlpha||t.premultipliedAlpha,h=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",u=null,p=null;this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=tt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,g,y,x,b,_,w,M,E,T,S,A,R,L,C,P,O,I,N=this,D=!1,U=null,B=null,F=null,z=-1,G="",H=null,V=null,k=new Ve,j=new Ve,W=null,X=0,q=r.width,Y=r.height,J=1,Z=new Ve(0,0,q,Y),Q=new Ve(0,0,q,Y),K=!1,$=new Je,et=new Yi,rt=!1,nt=!1,it=new Ue,ot=new Fe;function at(){return null===B?J:1}try{var st={alpha:i,depth:o,stencil:a,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:l};if(r.addEventListener("webglcontextlost",ut,!1),r.addEventListener("webglcontextrestored",pt,!1),null===(f=n||r.getContext("webgl",st)||r.getContext("experimental-webgl",st)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}function ct(){(m=new Ji(f)).get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_float_linear"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays"),I=new Ra(f,m),g=new qi(f,m,t),(y=new Sa(f,m,I)).scissor(j.copy(Q).multiplyScalar(J)),y.viewport(k.copy(Z).multiplyScalar(J)),x=new Ki(f),b=new ua,_=new Aa(f,m,y,b,g,I,x),w=new hi(f),M=new Zi(f,w,x),E=new eo(M,x),L=new to(f),T=new la(N,m,g),S=new ma,A=new ba,R=new Wi(N,y,E,c),C=new Xi(f,m,x),P=new Qi(f,m,x),O=new Ta(N,f,y,_,g),x.programs=T.programs,N.context=f,N.capabilities=g,N.extensions=m,N.properties=b,N.renderLists=S,N.state=y,N.info=x}ct();var ht="xr"in navigator?new Ia(N):new Oa(N);this.vr=ht;var lt=new Ma(N,E,g.maxTextureSize);function ut(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function pt(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1,ct()}function dt(t){var e=t.target;e.removeEventListener("dispose",dt),function(t){ft(t),b.remove(t)}(e)}function ft(t){var e=b.get(t).program;t.program=void 0,void 0!==e&&T.releaseProgram(e)}this.shadowMap=lt,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=m.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=m.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(t){void 0!==t&&(J=t,this.setSize(q,Y,!1))},this.getSize=function(){return{width:q,height:Y}},this.setSize=function(t,e,n){ht.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=t,Y=e,r.width=t*J,r.height=e*J,!1!==n&&(r.style.width=t+"px",r.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(){return{width:q*J,height:Y*J}},this.setDrawingBufferSize=function(t,e,n){q=t,Y=e,J=n,r.width=t*n,r.height=e*n,this.setViewport(0,0,t,e)},this.getCurrentViewport=function(){return k},this.setViewport=function(t,e,r,n){Z.set(t,Y-e-n,r,n),y.viewport(k.copy(Z).multiplyScalar(J))},this.setScissor=function(t,e,r,n){Q.set(t,Y-e-n,r,n),y.scissor(j.copy(Q).multiplyScalar(J))},this.setScissorTest=function(t){y.setScissorTest(K=t)},this.getClearColor=function(){return R.getClearColor()},this.setClearColor=function(){R.setClearColor.apply(R,arguments)},this.getClearAlpha=function(){return R.getClearAlpha()},this.setClearAlpha=function(){R.setClearAlpha.apply(R,arguments)},this.clear=function(t,e,r){var n=0;(void 0===t||t)&&(n|=f.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=f.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=f.STENCIL_BUFFER_BIT),f.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,r,n){this.setRenderTarget(t),this.clear(e,r,n)},this.dispose=function(){r.removeEventListener("webglcontextlost",ut,!1),r.removeEventListener("webglcontextrestored",pt,!1),S.dispose(),A.dispose(),b.dispose(),E.dispose(),ht.dispose(),vt.stop()},this.renderBufferImmediate=function(t,e,r){y.initAttributes();var n=b.get(t);t.hasPositions&&!n.position&&(n.position=f.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),t.hasColors&&!n.color&&(n.color=f.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(f.bindBuffer(f.ARRAY_BUFFER,n.position),f.bufferData(f.ARRAY_BUFFER,t.positionArray,f.DYNAMIC_DRAW),y.enableAttribute(i.position),f.vertexAttribPointer(i.position,3,f.FLOAT,!1,0,0)),t.hasNormals){if(f.bindBuffer(f.ARRAY_BUFFER,n.normal),!r.isMeshPhongMaterial&&!r.isMeshStandardMaterial&&!r.isMeshNormalMaterial&&!0===r.flatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,c=(s[o+0]+s[o+3]+s[o+6])/3,h=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=c,s[o+1]=h,s[o+2]=l,s[o+3]=c,s[o+4]=h,s[o+5]=l,s[o+6]=c,s[o+7]=h,s[o+8]=l}f.bufferData(f.ARRAY_BUFFER,t.normalArray,f.DYNAMIC_DRAW),y.enableAttribute(i.normal),f.vertexAttribPointer(i.normal,3,f.FLOAT,!1,0,0)}t.hasUvs&&r.map&&(f.bindBuffer(f.ARRAY_BUFFER,n.uv),f.bufferData(f.ARRAY_BUFFER,t.uvArray,f.DYNAMIC_DRAW),y.enableAttribute(i.uv),f.vertexAttribPointer(i.uv,2,f.FLOAT,!1,0,0)),t.hasColors&&r.vertexColors!==v&&(f.bindBuffer(f.ARRAY_BUFFER,n.color),f.bufferData(f.ARRAY_BUFFER,t.colorArray,f.DYNAMIC_DRAW),y.enableAttribute(i.color),f.vertexAttribPointer(i.color,3,f.FLOAT,!1,0,0)),y.disableUnusedAttributes(),f.drawArrays(f.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,r,n,i,o){var a=i.isMesh&&i.matrixWorld.determinant()<0;y.setMaterial(n,a);var s=wt(t,e,n,i),c=r.id+"_"+s.id+"_"+(!0===n.wireframe),h=!1;c!==G&&(G=c,h=!0),i.morphTargetInfluences&&(L.update(i,r,n,s),h=!0);var l,u=r.index,p=r.attributes.position,d=1;!0===n.wireframe&&(u=M.getWireframeAttribute(r),d=2);var g=C;null!==u&&(l=w.get(u),(g=P).setIndex(l)),h&&(!function(t,e,r){if(r&&r.isInstancedBufferGeometry&&null===m.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");y.initAttributes();var n=r.attributes,i=e.getAttributes(),o=t.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var c=n[a];if(void 0!==c){var h=c.normalized,l=c.itemSize,u=w.get(c);if(void 0===u)continue;var p=u.buffer,d=u.type,g=u.bytesPerElement;if(c.isInterleavedBufferAttribute){var v=c.data,x=v.stride,b=c.offset;v&&v.isInstancedInterleavedBuffer?(y.enableAttributeAndDivisor(s,v.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=v.meshPerAttribute*v.count)):y.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,p),f.vertexAttribPointer(s,l,d,h,x*g,b*g)}else c.isInstancedBufferAttribute?(y.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=c.meshPerAttribute*c.count)):y.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,p),f.vertexAttribPointer(s,l,d,h,0,0)}else if(void 0!==o){var _=o[a];if(void 0!==_)switch(_.length){case 2:f.vertexAttrib2fv(s,_);break;case 3:f.vertexAttrib3fv(s,_);break;case 4:f.vertexAttrib4fv(s,_);break;default:f.vertexAttrib1fv(s,_)}}}}y.disableUnusedAttributes()}(n,s,r),null!==u&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l.buffer));var v=1/0;null!==u?v=u.count:void 0!==p&&(v=p.count);var x=r.drawRange.start*d,b=r.drawRange.count*d,_=null!==o?o.start*d:0,E=null!==o?o.count*d:1/0,T=Math.max(x,_),S=Math.min(v,x+b,_+E)-1,A=Math.max(0,S-T+1);if(0!==A){if(i.isMesh)if(!0===n.wireframe)y.setLineWidth(n.wireframeLinewidth*at()),g.setMode(f.LINES);else switch(i.drawMode){case xe:g.setMode(f.TRIANGLES);break;case be:g.setMode(f.TRIANGLE_STRIP);break;case _e:g.setMode(f.TRIANGLE_FAN)}else if(i.isLine){var R=n.linewidth;void 0===R&&(R=1),y.setLineWidth(R*at()),i.isLineSegments?g.setMode(f.LINES):i.isLineLoop?g.setMode(f.LINE_LOOP):g.setMode(f.LINE_STRIP)}else i.isPoints&&g.setMode(f.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&g.renderInstances(r,T,A):g.render(T,A)}},this.compile=function(t,e){(p=A.get(t,e)).init(),t.traverse(function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))}),p.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var r=0;r<e.material.length;r++)bt(e.material[r],t.fog,e);else bt(e.material,t.fog,e)})};var mt=null;var gt,vt=new ci;function yt(t,e,r,n){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,c=a.geometry,h=void 0===n?a.material:n,l=a.group;if(r.isArrayCamera){V=r;for(var u=r.cameras,p=0,d=u.length;p<d;p++){var f=u[p];if(s.layers.test(f.layers)){if("viewport"in f)y.viewport(k.copy(f.viewport));else{var m=f.bounds,g=m.x*q,v=m.y*Y,x=m.z*q,b=m.w*Y;y.viewport(k.set(g,v,x,b).multiplyScalar(J))}xt(s,e,f,c,h,l)}}}else V=null,xt(s,e,r,c,h,l)}}function xt(t,e,r,n,i,o){if(t.onBeforeRender(N,e,r,n,i,o),p=A.get(e,V||r),t.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var a=t.isMesh&&t.matrixWorld.determinant()<0;y.setMaterial(i,a);var s=wt(r,e.fog,i,t);G="",function(t,e,r){t.render(function(t){N.renderBufferImmediate(t,e,r)})}(t,s,i)}else N.renderBufferDirect(r,e.fog,n,i,t,o);t.onAfterRender(N,e,r,n,i,o),p=A.get(e,V||r)}function bt(t,e,r){var n=b.get(t),i=p.state.lights,o=p.state.shadowsArray,a=T.getParameters(t,i.state,o,e,et.numPlanes,et.numIntersection,r),s=T.getProgramCode(t,a),c=n.program,h=!0;if(void 0===c)t.addEventListener("dispose",dt);else if(c.code!==s)ft(t);else if(n.lightsHash!==i.state.hash)b.update(t,"lightsHash",i.state.hash),h=!1;else{if(void 0!==a.shaderID)return;h=!1}if(h){if(a.shaderID){var l=si[a.shaderID];n.shader={name:t.type,uniforms:ni.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else n.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(n.shader,N),c=T.acquireProgram(t,n.shader,a,s),n.program=c,t.program=c}var u=c.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var d=0;d<N.maxMorphTargets;d++)u["morphTarget"+d]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(d=0;d<N.maxMorphNormals;d++)u["morphNormal"+d]>=0&&t.numSupportedMorphNormals++}var f=n.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=et.numPlanes,n.numIntersection=et.numIntersection,f.clippingPlanes=et.uniform),n.fog=e,n.lightsHash=i.state.hash,t.lights&&(f.ambientLightColor.value=i.state.ambient,f.directionalLights.value=i.state.directional,f.spotLights.value=i.state.spot,f.rectAreaLights.value=i.state.rectArea,f.pointLights.value=i.state.point,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotShadowMatrix.value=i.state.spotShadowMatrix,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=n.program.getUniforms(),g=qo.seqWithValue(m.seq,f);n.uniformsList=g}function wt(t,e,r,n){X=0;var i=b.get(r),o=p.state.lights;if(rt&&(nt||t!==H)){var a=t===H&&r.id===z;et.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,t,i,a)}!1===r.needsUpdate&&(void 0===i.program?r.needsUpdate=!0:r.fog&&i.fog!==e?r.needsUpdate=!0:r.lights&&i.lightsHash!==o.state.hash?r.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===et.numPlanes&&i.numIntersection===et.numIntersection||(r.needsUpdate=!0)),r.needsUpdate&&(bt(r,e,n),r.needsUpdate=!1);var s,c,h=!1,l=!1,u=!1,m=i.program,v=m.getUniforms(),x=i.shader.uniforms;if(y.useProgram(m.program)&&(h=!0,l=!0,u=!0),r.id!==z&&(z=r.id,l=!0),h||t!==H){if(v.setValue(f,"projectionMatrix",t.projectionMatrix),g.logarithmicDepthBuffer&&v.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),H!==(V||t)&&(H=V||t,l=!0,u=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.envMap){var _=v.map.cameraPosition;void 0!==_&&_.setValue(f,ot.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&v.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(r.skinning){v.setOptional(f,n,"bindMatrix"),v.setOptional(f,n,"bindMatrixInverse");var w=n.skeleton;if(w){var M=w.bones;if(g.floatVertexTextures){if(void 0===w.boneTexture){var E=Math.sqrt(4*M.length);E=Ne.ceilPowerOfTwo(E),E=Math.max(E,4);var T=new Float32Array(E*E*4);T.set(w.boneMatrices);var S=new We(T,E,E,Dt,At);S.needsUpdate=!0,w.boneMatrices=T,w.boneTexture=S,w.boneTextureSize=E}v.setValue(f,"boneTexture",w.boneTexture),v.setValue(f,"boneTextureSize",w.boneTextureSize)}else v.setOptional(f,w,"boneMatrices")}}return l&&(v.setValue(f,"toneMappingExposure",N.toneMappingExposure),v.setValue(f,"toneMappingWhitePoint",N.toneMappingWhitePoint),r.lights&&(c=u,(s=x).ambientLightColor.needsUpdate=c,s.directionalLights.needsUpdate=c,s.pointLights.needsUpdate=c,s.spotLights.needsUpdate=c,s.rectAreaLights.needsUpdate=c,s.hemisphereLights.needsUpdate=c),e&&r.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(x,e),r.isMeshBasicMaterial?Mt(x,r):r.isMeshLambertMaterial?(Mt(x,r),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(x,r)):r.isMeshPhongMaterial?(Mt(x,r),r.isMeshToonMaterial?function(t,e){Et(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(x,r):Et(x,r)):r.isMeshStandardMaterial?(Mt(x,r),r.isMeshPhysicalMaterial?function(t,e){Tt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(x,r):Tt(x,r)):r.isMeshDepthMaterial?(Mt(x,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,r)):r.isMeshDistanceMaterial?(Mt(x,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(x,r)):r.isMeshNormalMaterial?(Mt(x,r),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,r)):r.isLineBasicMaterial?(function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}(x,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(x,r)):r.isPointsMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*J,t.scale.value=.5*Y,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(x,r):r.isShadowMaterial&&(x.color.value=r.color,x.opacity.value=r.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=ai.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=ai.LTC_2),qo.upload(f,i.uniformsList,x,N)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(qo.upload(f,i.uniformsList,x,N),r.uniformsNeedUpdate=!1),v.setValue(f,"modelViewMatrix",n.modelViewMatrix),v.setValue(f,"normalMatrix",n.normalMatrix),v.setValue(f,"modelMatrix",n.matrixWorld),m}function Mt(t,e){var r;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=b.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?r=e.map:e.specularMap?r=e.specularMap:e.displacementMap?r=e.displacementMap:e.normalMap?r=e.normalMap:e.bumpMap?r=e.bumpMap:e.roughnessMap?r=e.roughnessMap:e.metalnessMap?r=e.metalnessMap:e.alphaMap?r=e.alphaMap:e.emissiveMap&&(r=e.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}function Et(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Tt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}vt.setAnimationLoop(function(t){ht.isPresenting()||mt&&mt(t)}),"undefined"!=typeof window&&vt.setContext(window),this.setAnimationLoop=function(t){mt=t,ht.setAnimationLoop(t),vt.start()},this.render=function(t,e,r,n){if(e&&e.isCamera){if(!D){G="",z=-1,H=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ht.enabled&&(e=ht.getCamera(e)),(p=A.get(t,e)).init(),t.onBeforeRender(N,t,e,r),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),$.setFromMatrix(it),nt=this.localClippingEnabled,rt=et.init(this.clippingPlanes,nt,e),(u=S.get(t,e)).init(),function t(e,r,n){if(!1===e.visible)return;var i=e.layers.test(r.layers);if(i)if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite)e.frustumCulled&&!$.intersectsSprite(e)||p.pushSprite(e);else if(e.isImmediateRenderObject)n&&ot.setFromMatrixPosition(e.matrixWorld).applyMatrix4(it),u.push(e,null,e.material,ot.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||$.intersectsObject(e))){n&&ot.setFromMatrixPosition(e.matrixWorld).applyMatrix4(it);var o=E.update(e),a=e.material;if(Array.isArray(a))for(var s=o.groups,c=0,h=s.length;c<h;c++){var l=s[c],d=a[l.materialIndex];d&&d.visible&&u.push(e,o,d,ot.z,l)}else a.visible&&u.push(e,o,a,ot.z,null)}var f=e.children;for(var c=0,h=f.length;c<h;c++)t(f[c],r,n)}(t,e,N.sortObjects),!0===N.sortObjects&&u.sort(),rt&&et.beginShadows();var i=p.state.shadowsArray;lt.render(i,t,e),p.setupLights(e),rt&&et.endShadows(),this.info.autoReset&&this.info.reset(),void 0===r&&(r=null),this.setRenderTarget(r),R.render(u,t,e,n);var o=u.opaque,a=u.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&yt(o,t,e,s),a.length&&yt(a,t,e,s)}else o.length&&yt(o,t,e),a.length&&yt(a,t,e);var c=p.state.spritesArray;O.render(c,t,e),r&&_.updateRenderTargetMipmap(r),y.buffers.depth.setTest(!0),y.buffers.depth.setMask(!0),y.buffers.color.setMask(!0),y.setPolygonOffset(!1),t.onAfterRender(N,t,e),ht.enabled&&ht.submitFrame(),u=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var t=X;return t>=g.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+g.maxTextures),X+=1,t},this.setTexture2D=(gt=!1,function(t,e){t&&t.isWebGLRenderTarget&&(gt||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),gt=!0),t=t.texture),_.setTexture2D(t,e)}),this.setTexture=function(){var t=!1;return function(e,r){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),_.setTexture2D(e,r)}}(),this.setTextureCube=function(){var t=!1;return function(e,r){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?_.setTextureCube(e,r):_.setTextureCubeDynamic(e,r)}}(),this.setFramebuffer=function(t){U=t},this.getRenderTarget=function(){return B},this.setRenderTarget=function(t){B=t,t&&void 0===b.get(t).__webglFramebuffer&&_.setupRenderTarget(t);var e=U,r=!1;if(t){var n=b.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=n[t.activeCubeFace],r=!0):e=n,k.copy(t.viewport),j.copy(t.scissor),W=t.scissorTest}else k.copy(Z).multiplyScalar(J),j.copy(Q).multiplyScalar(J),W=K;if(F!==e&&(f.bindFramebuffer(f.FRAMEBUFFER,e),F=e),y.viewport(k),y.scissor(j),y.setScissorTest(W),r){var i=b.get(t.texture);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,r,n,i,o){if(t&&t.isWebGLRenderTarget){var a=b.get(t).__webglFramebuffer;if(a){var s=!1;a!==F&&(f.bindFramebuffer(f.FRAMEBUFFER,a),s=!0);try{var c=t.texture,h=c.format,l=c.type;if(h!==Dt&&I.convert(h)!==f.getParameter(f.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===_t||I.convert(l)===f.getParameter(f.IMPLEMENTATION_COLOR_READ_TYPE)||l===At&&(m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||l===Rt&&m.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-n&&r>=0&&r<=t.height-i&&f.readPixels(e,r,n,i,I.convert(h),I.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(f.FRAMEBUFFER,F)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,r){var n=e.image.width,i=e.image.height,o=I.convert(e.format);this.setTexture2D(e,0),f.copyTexImage2D(f.TEXTURE_2D,r||0,o,t.x,t.y,n,i,0)},this.copyTextureToTexture=function(t,e,r,n){var i=e.image.width,o=e.image.height,a=I.convert(r.format),s=I.convert(r.type);this.setTexture2D(r,0),e.isDataTexture?f.texSubImage2D(f.TEXTURE_2D,n||0,t.x,t.y,i,o,a,s,e.image.data):f.texSubImage2D(f.TEXTURE_2D,n||0,t.x,t.y,a,s,e.image)}}function Da(t,e){this.name="",this.color=new oi(t),this.density=void 0!==e?e:25e-5}function Ua(t,e,r){this.name="",this.color=new oi(t),this.near=void 0!==e?e:1,this.far=void 0!==r?r:1e3}function Ba(){di.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Fa(t){Fi.call(this),this.type="SpriteMaterial",this.color=new oi(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function za(t){di.call(this),this.type="Sprite",this.material=void 0!==t?t:new Fa,this.center=new De(.5,.5)}function Ga(){di.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Ha(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Ue)}}function Va(){di.call(this),this.type="Bone"}function ka(t,e){ji.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ue,this.bindMatrixInverse=new Ue;var r=new Ha(this.initBones());this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function ja(t){Fi.call(this),this.type="LineBasicMaterial",this.color=new oi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Wa(t,e,r){if(1===r)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Xa(t,e);di.call(this),this.type="Line",this.geometry=void 0!==t?t:new Oi,this.material=void 0!==e?e:new ja({color:16777215*Math.random()})}function Xa(t,e){Wa.call(this,t,e),this.type="LineSegments"}function qa(t,e){Wa.call(this,t,e),this.type="LineLoop"}function Ya(t){Fi.call(this),this.type="PointsMaterial",this.color=new oi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Ja(t,e){di.call(this),this.type="Points",this.geometry=void 0!==t?t:new Oi,this.material=void 0!==e?e:new Ya({color:16777215*Math.random()})}function Za(t,e,r,n,i,o,a,s,c){He.call(this,t,e,r,n,i,o,a,s,c),this.generateMipmaps=!1}function Qa(t,e,r,n,i,o,a,s,c,h,l,u){He.call(this,null,o,a,s,c,h,n,i,l,u),this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ka(t,e,r,n,i,o,a,s,c,h){if((h=void 0!==h?h:zt)!==zt&&h!==Gt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&h===zt&&(r=Et),void 0===r&&h===Gt&&(r=Ot),He.call(this,null,n,i,o,a,s,h,r,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:mt,this.minFilter=void 0!==s?s:mt,this.flipY=!1,this.generateMipmaps=!1}function $a(t){Oi.call(this),this.type="WireframeGeometry";var e,r,n,i,o,a,s,c,h,l,u=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,n=m.length;e<n;e++){var g=m[e];for(r=0;r<3;r++)s=g[f[r]],c=g[f[(r+1)%3]],p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]})}for(h in d)a=d[h],l=t.vertices[a.index1],u.push(l.x,l.y,l.z),l=t.vertices[a.index2],u.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var v,y,x,b,_,w,M;if(l=new Fe,null!==t.index){for(v=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),i=0,o=x.length;i<o;++i)for(e=_=(b=x[i]).start,n=_+b.count;e<n;e+=3)for(r=0;r<3;r++)s=y.getX(e+r),c=y.getX(e+(r+1)%3),p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]});for(h in d)a=d[h],l.fromBufferAttribute(v,a.index1),u.push(l.x,l.y,l.z),l.fromBufferAttribute(v,a.index2),u.push(l.x,l.y,l.z)}else for(e=0,n=(v=t.attributes.position).count/3;e<n;e++)for(r=0;r<3;r++)w=3*e+r,l.fromBufferAttribute(v,w),u.push(l.x,l.y,l.z),M=3*e+(r+1)%3,l.fromBufferAttribute(v,M),u.push(l.x,l.y,l.z)}this.addAttribute("position",new Ai(u,3))}function ts(t,e,r){yi.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:r},this.fromBufferGeometry(new es(t,e,r)),this.mergeVertices()}function es(t,e,r){Oi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:r};var n,i,o=[],a=[],s=[],c=[],h=new Fe,l=new Fe,u=new Fe,p=new Fe,d=new Fe;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=e+1;for(n=0;n<=r;n++){var m=n/r;for(i=0;i<=e;i++){var g=i/e;t(g,m,l),a.push(l.x,l.y,l.z),g-1e-5>=0?(t(g-1e-5,m,u),p.subVectors(l,u)):(t(g+1e-5,m,u),p.subVectors(u,l)),m-1e-5>=0?(t(g,m-1e-5,u),d.subVectors(l,u)):(t(g,m+1e-5,u),d.subVectors(u,l)),h.crossVectors(p,d).normalize(),s.push(h.x,h.y,h.z),c.push(g,m)}}for(n=0;n<r;n++)for(i=0;i<e;i++){var v=n*f+i,y=n*f+i+1,x=(n+1)*f+i+1,b=(n+1)*f+i;o.push(v,y,b),o.push(y,x,b)}this.setIndex(o),this.addAttribute("position",new Ai(a,3)),this.addAttribute("normal",new Ai(s,3)),this.addAttribute("uv",new Ai(c,2))}function rs(t,e,r,n){yi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},this.fromBufferGeometry(new ns(t,e,r,n)),this.mergeVertices()}function ns(t,e,r,n){Oi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},r=r||1;var i=[],o=[];function a(t,e,r,n){var i,o,a=Math.pow(2,n),c=[];for(i=0;i<=a;i++){c[i]=[];var h=t.clone().lerp(r,i/a),l=e.clone().lerp(r,i/a),u=a-i;for(o=0;o<=u;o++)c[i][o]=0===o&&i===a?h:h.clone().lerp(l,o/u)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var p=Math.floor(o/2);o%2==0?(s(c[i][p+1]),s(c[i+1][p]),s(c[i][p])):(s(c[i][p+1]),s(c[i+1][p+1]),s(c[i+1][p]))}}function s(t){i.push(t.x,t.y,t.z)}function c(e,r){var n=3*e;r.x=t[n+0],r.y=t[n+1],r.z=t[n+2]}function h(t,e,r,n){n<0&&1===t.x&&(o[e]=t.x-1),0===r.x&&0===r.z&&(o[e]=n/2/Math.PI+.5)}function l(t){return Math.atan2(t.z,-t.x)}!function(t){for(var r=new Fe,n=new Fe,i=new Fe,o=0;o<e.length;o+=3)c(e[o+0],r),c(e[o+1],n),c(e[o+2],i),a(r,n,i,t)}(n=n||0),function(t){for(var e=new Fe,r=0;r<i.length;r+=3)e.x=i[r+0],e.y=i[r+1],e.z=i[r+2],e.normalize().multiplyScalar(t),i[r+0]=e.x,i[r+1]=e.y,i[r+2]=e.z}(r),function(){for(var t=new Fe,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var r=l(t)/2/Math.PI+.5,n=(a=t,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(r,1-n)}var a;(function(){for(var t=new Fe,e=new Fe,r=new Fe,n=new Fe,a=new De,s=new De,c=new De,u=0,p=0;u<i.length;u+=9,p+=6){t.set(i[u+0],i[u+1],i[u+2]),e.set(i[u+3],i[u+4],i[u+5]),r.set(i[u+6],i[u+7],i[u+8]),a.set(o[p+0],o[p+1]),s.set(o[p+2],o[p+3]),c.set(o[p+4],o[p+5]),n.copy(t).add(e).add(r).divideScalar(3);var d=l(n);h(a,p+0,t,d),h(s,p+2,e,d),h(c,p+4,r,d)}})(),function(){for(var t=0;t<o.length;t+=6){var e=o[t+0],r=o[t+2],n=o[t+4],i=Math.max(e,r,n),a=Math.min(e,r,n);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),r<.2&&(o[t+2]+=1),n<.2&&(o[t+4]+=1))}}()}(),this.addAttribute("position",new Ai(i,3)),this.addAttribute("normal",new Ai(i.slice(),3)),this.addAttribute("uv",new Ai(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function is(t,e){yi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new os(t,e)),this.mergeVertices()}function os(t,e){ns.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function as(t,e){yi.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ss(t,e)),this.mergeVertices()}function ss(t,e){ns.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function cs(t,e){yi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new hs(t,e)),this.mergeVertices()}function hs(t,e){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];ns.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ls(t,e){yi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new us(t,e)),this.mergeVertices()}function us(t,e){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];ns.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ps(t,e,r,n,i,o){yi.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new ds(t,e,r,n,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function ds(t,e,r,n,i){Oi.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i},e=e||64,r=r||1,n=n||8,i=i||!1;var o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new Fe,h=new Fe,l=new De,u=new Fe,p=[],d=[],f=[],m=[];function g(i){u=t.getPointAt(i/e,u);var a=o.normals[i],l=o.binormals[i];for(s=0;s<=n;s++){var f=s/n*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);h.x=g*a.x+m*l.x,h.y=g*a.y+m*l.y,h.z=g*a.z+m*l.z,h.normalize(),d.push(h.x,h.y,h.z),c.x=u.x+r*h.x,c.y=u.y+r*h.y,c.z=u.z+r*h.z,p.push(c.x,c.y,c.z)}}!function(){for(a=0;a<e;a++)g(a);g(!1===i?e:0),function(){for(a=0;a<=e;a++)for(s=0;s<=n;s++)l.x=a/e,l.y=s/n,f.push(l.x,l.y)}(),function(){for(s=1;s<=e;s++)for(a=1;a<=n;a++){var t=(n+1)*(s-1)+(a-1),r=(n+1)*s+(a-1),i=(n+1)*s+a,o=(n+1)*(s-1)+a;m.push(t,r,o),m.push(r,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new Ai(p,3)),this.addAttribute("normal",new Ai(d,3)),this.addAttribute("uv",new Ai(f,2))}function fs(t,e,r,n,i,o,a){yi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ms(t,e,r,n,i,o)),this.mergeVertices()}function ms(t,e,r,n,i,o){Oi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},t=t||1,e=e||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;var a,s,c=[],h=[],l=[],u=[],p=new Fe,d=new Fe,f=new Fe,m=new Fe,g=new Fe,v=new Fe,y=new Fe;for(a=0;a<=r;++a){var x=a/r*i*Math.PI*2;for(A(x,i,o,t,f),A(x+.01,i,o,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=n;++s){var b=s/n*Math.PI*2,_=-e*Math.cos(b),w=e*Math.sin(b);p.x=f.x+(_*y.x+w*g.x),p.y=f.y+(_*y.y+w*g.y),p.z=f.z+(_*y.z+w*g.z),h.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),l.push(d.x,d.y,d.z),u.push(a/r),u.push(s/n)}}for(s=1;s<=r;s++)for(a=1;a<=n;a++){var M=(n+1)*(s-1)+(a-1),E=(n+1)*s+(a-1),T=(n+1)*s+a,S=(n+1)*(s-1)+a;c.push(M,E,S),c.push(E,T,S)}function A(t,e,r,n,i){var o=Math.cos(t),a=Math.sin(t),s=r/e*t,c=Math.cos(s);i.x=n*(2+c)*.5*o,i.y=n*(2+c)*a*.5,i.z=n*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new Ai(h,3)),this.addAttribute("normal",new Ai(l,3)),this.addAttribute("uv",new Ai(u,2))}function gs(t,e,r,n,i){yi.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new vs(t,e,r,n,i)),this.mergeVertices()}function vs(t,e,r,n,i){Oi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},t=t||1,e=e||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=[],c=[],h=[],l=[],u=new Fe,p=new Fe,d=new Fe;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var f=a/n*i,m=o/r*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),c.push(p.x,p.y,p.z),u.x=t*Math.cos(f),u.y=t*Math.sin(f),d.subVectors(p,u).normalize(),h.push(d.x,d.y,d.z),l.push(a/n),l.push(o/r)}for(o=1;o<=r;o++)for(a=1;a<=n;a++){var g=(n+1)*o+a-1,v=(n+1)*(o-1)+a-1,y=(n+1)*(o-1)+a,x=(n+1)*o+a;s.push(g,v,x),s.push(v,y,x)}this.setIndex(s),this.addAttribute("position",new Ai(c,3)),this.addAttribute("normal",new Ai(h,3)),this.addAttribute("uv",new Ai(l,2))}_a.prototype=Object.create(Fi.prototype),_a.prototype.constructor=_a,_a.prototype.isMeshDepthMaterial=!0,_a.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},wa.prototype=Object.create(Fi.prototype),wa.prototype.constructor=wa,wa.prototype.isMeshDistanceMaterial=!0,wa.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Ea.prototype=Object.create(He.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isCanvasTexture=!0,La.prototype=Object.assign(Object.create(di.prototype),{constructor:La,isGroup:!0}),Ca.prototype=Object.assign(Object.create(fi.prototype),{constructor:Ca,isPerspectiveCamera:!0,copy:function(t,e){return fi.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ne.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ne.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ne.RAD2DEG*Math.atan(Math.tan(.5*Ne.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,r,n,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ne.DEG2RAD*this.fov)/this.zoom,r=2*e,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,e-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var c=this.filmOffset;0!==c&&(i+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,e,e-r,t,this.far)},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Pa.prototype=Object.assign(Object.create(Ca.prototype),{constructor:Pa,isArrayCamera:!0}),Da.prototype.isFogExp2=!0,Da.prototype.clone=function(){return new Da(this.color,this.density)},Da.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Ua.prototype.isFog=!0,Ua.prototype.clone=function(){return new Ua(this.color,this.near,this.far)},Ua.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Ba.prototype=Object.assign(Object.create(di.prototype),{constructor:Ba,copy:function(t,e){return di.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Fa.prototype=Object.create(Fi.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isSpriteMaterial=!0,Fa.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},za.prototype=Object.assign(Object.create(di.prototype),{constructor:za,isSprite:!0,raycast:function(){var t=new Fe,e=new Fe,r=new Fe,n=new De,i=new De,o=new Ue,a=new Fe,s=new Fe,c=new Fe;function h(t,e,r,a,s,c){n.subVectors(t,r).addScalar(.5).multiply(a),void 0!==s?(i.x=c*n.x-s*n.y,i.y=s*n.x+c*n.y):i.copy(n),t.copy(e),t.x+=i.x,t.y+=i.y,t.applyMatrix4(o)}return function(n,i){e.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),r.setFromMatrixPosition(this.modelViewMatrix);var l,u,p=this.material.rotation;0!==p&&(u=Math.cos(p),l=Math.sin(p));var d=this.center;h(a.set(-.5,-.5,0),r,d,e,l,u),h(s.set(.5,-.5,0),r,d,e,l,u),h(c.set(.5,.5,0),r,d,e,l,u);var f=n.ray.intersectTriangle(a,s,c,!1,t);if(null!==f||(h(s.set(-.5,.5,0),r,d,e,l,u),null!==(f=n.ray.intersectTriangle(a,c,s,!1,t)))){var m=n.ray.origin.distanceTo(t);m<n.near||m>n.far||i.push({distance:m,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return di.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Ga.prototype=Object.assign(Object.create(di.prototype),{constructor:Ga,copy:function(t){di.prototype.copy.call(this,t,!1);for(var e=t.levels,r=0,n=e.length;r<n;r++){var i=e[r];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var r=this.levels,n=0;n<r.length&&!(e<r[n].distance);n++);r.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,r=1,n=e.length;r<n&&!(t<e[r].distance);r++);return e[r-1].object},raycast:function(){var t=new Fe;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,r)}}(),update:function(){var t=new Fe,e=new Fe;return function(r){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);n[0].object.visible=!0;for(var o=1,a=n.length;o<a&&i>=n[o].distance;o++)n[o-1].object.visible=!1,n[o].object.visible=!0;for(;o<a;o++)n[o].object.visible=!1}}}(),toJSON:function(t){var e=di.prototype.toJSON.call(this,t);e.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Ha.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new Ue;this.bones[t]&&r.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(r)}},pose:function(){var t,e,r;for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Ue,e=new Ue;return function(){for(var r=this.bones,n=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=r.length;a<s;a++){var c=r[a]?r[a].matrixWorld:e;t.multiplyMatrices(c,n[a]),t.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Ha(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,r=this.bones.length;e<r;e++){var n=this.bones[e];if(n.name===t)return n}}}),Va.prototype=Object.assign(Object.create(di.prototype),{constructor:Va,isBone:!0}),ka.prototype=Object.assign(Object.create(ji.prototype),{constructor:ka,isSkinnedMesh:!0,initBones:function(){var t,e,r,n,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(r=0,n=this.geometry.bones.length;r<n;r++)e=this.geometry.bones[r],t=new Va,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(r=0,n=this.geometry.bones.length;r<n;r++)-1!==(e=this.geometry.bones[r]).parent&&null!==e.parent&&void 0!==i[e.parent]?i[e.parent].add(i[r]):this.add(i[r])}return this.updateMatrixWorld(!0),i},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var r=this.geometry.skinWeights[e];(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new Ve,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)n.x=i.getX(e),n.y=i.getY(e),n.z=i.getZ(e),n.w=i.getW(e),(t=1/n.manhattanLength())!==1/0?n.multiplyScalar(t):n.set(1,0,0,0),i.setXYZW(e,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){ji.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ja.prototype=Object.create(Fi.prototype),ja.prototype.constructor=ja,ja.prototype.isLineBasicMaterial=!0,ja.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Wa.prototype=Object.assign(Object.create(di.prototype),{constructor:Wa,isLine:!0,computeLineDistances:function(){var t=new Fe,e=new Fe;return function(){var r=this.geometry;if(r.isBufferGeometry)if(null===r.index){for(var n=r.attributes.position,i=[0],o=1,a=n.count;o<a;o++)t.fromBufferAttribute(n,o-1),e.fromBufferAttribute(n,o),i[o]=i[o-1],i[o]+=t.distanceTo(e);r.addAttribute("lineDistance",new Ai(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var s=r.vertices;(i=r.lineDistances)[0]=0;for(o=1,a=s.length;o<a;o++)i[o]=i[o-1],i[o]+=s[o-1].distanceTo(s[o])}return this}}(),raycast:function(){var t=new Ue,e=new Hi,r=new qe;return function(n,i){var o=n.linePrecision,a=o*o,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(c),!1!==n.ray.intersectsSphere(r)){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var h=new Fe,l=new Fe,u=new Fe,p=new Fe,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var f=s.index,m=s.attributes.position.array;if(null!==f)for(var g=f.array,v=0,y=g.length-1;v<y;v+=d){var x=g[v],b=g[v+1];if(h.fromArray(m,3*x),l.fromArray(m,3*b),!(e.distanceSqToSegment(h,l,p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(v=0,y=m.length/3-1;v<y;v+=d){if(h.fromArray(m,3*v),l.fromArray(m,3*v+3),!(e.distanceSqToSegment(h,l,p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else if(s.isGeometry){var _=s.vertices,w=_.length;for(v=0;v<w-1;v+=d){var M;if(!(e.distanceSqToSegment(_[v],_[v+1],p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Xa.prototype=Object.assign(Object.create(Wa.prototype),{constructor:Xa,isLineSegments:!0,computeLineDistances:function(){var t=new Fe,e=new Fe;return function(){var r=this.geometry;if(r.isBufferGeometry)if(null===r.index){for(var n=r.attributes.position,i=[],o=0,a=n.count;o<a;o+=2)t.fromBufferAttribute(n,o),e.fromBufferAttribute(n,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e);r.addAttribute("lineDistance",new Ai(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var s=r.vertices;for(i=r.lineDistances,o=0,a=s.length;o<a;o+=2)t.copy(s[o]),e.copy(s[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e)}return this}}()}),qa.prototype=Object.assign(Object.create(Wa.prototype),{constructor:qa,isLineLoop:!0}),Ya.prototype=Object.create(Fi.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isPointsMaterial=!0,Ya.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Ja.prototype=Object.assign(Object.create(di.prototype),{constructor:Ja,isPoints:!0,raycast:function(){var t=new Ue,e=new Hi,r=new qe;return function(n,i){var o=this,a=this.geometry,s=this.matrixWorld,c=n.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),r.copy(a.boundingSphere),r.applyMatrix4(s),r.radius+=c,!1!==n.ray.intersectsSphere(r)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),l=h*h,u=new Fe,p=new Fe;if(a.isBufferGeometry){var d=a.index,f=a.attributes.position.array;if(null!==d)for(var m=d.array,g=0,v=m.length;g<v;g++){var y=m[g];u.fromArray(f,3*y),_(u,y)}else{g=0;for(var x=f.length/3;g<x;g++)u.fromArray(f,3*g),_(u,g)}}else{var b=a.vertices;for(g=0,x=b.length;g<x;g++)_(b[g],g)}}function _(t,r){var a=e.distanceSqToPoint(t);if(a<l){e.closestPointToPoint(t,p),p.applyMatrix4(s);var c=n.ray.origin.distanceTo(p);if(c<n.near||c>n.far)return;i.push({distance:c,distanceToRay:Math.sqrt(a),point:p.clone(),index:r,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Za.prototype=Object.assign(Object.create(He.prototype),{constructor:Za,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Qa.prototype=Object.create(He.prototype),Qa.prototype.constructor=Qa,Qa.prototype.isCompressedTexture=!0,Ka.prototype=Object.create(He.prototype),Ka.prototype.constructor=Ka,Ka.prototype.isDepthTexture=!0,$a.prototype=Object.create(Oi.prototype),$a.prototype.constructor=$a,ts.prototype=Object.create(yi.prototype),ts.prototype.constructor=ts,es.prototype=Object.create(Oi.prototype),es.prototype.constructor=es,rs.prototype=Object.create(yi.prototype),rs.prototype.constructor=rs,ns.prototype=Object.create(Oi.prototype),ns.prototype.constructor=ns,is.prototype=Object.create(yi.prototype),is.prototype.constructor=is,os.prototype=Object.create(ns.prototype),os.prototype.constructor=os,as.prototype=Object.create(yi.prototype),as.prototype.constructor=as,ss.prototype=Object.create(ns.prototype),ss.prototype.constructor=ss,cs.prototype=Object.create(yi.prototype),cs.prototype.constructor=cs,hs.prototype=Object.create(ns.prototype),hs.prototype.constructor=hs,ls.prototype=Object.create(yi.prototype),ls.prototype.constructor=ls,us.prototype=Object.create(ns.prototype),us.prototype.constructor=us,ps.prototype=Object.create(yi.prototype),ps.prototype.constructor=ps,ds.prototype=Object.create(Oi.prototype),ds.prototype.constructor=ds,fs.prototype=Object.create(yi.prototype),fs.prototype.constructor=fs,ms.prototype=Object.create(Oi.prototype),ms.prototype.constructor=ms,gs.prototype=Object.create(yi.prototype),gs.prototype.constructor=gs,vs.prototype=Object.create(Oi.prototype),vs.prototype.constructor=vs;var ys={triangulate:function(t,e,r){r=r||2;var n,i,o,a,s,c,h,l=e&&e.length,u=l?e[0]*r:t.length,p=xs(t,0,u,r,!0),d=[];if(!p)return d;if(l&&(p=Ss(t,e,p,r)),t.length>80*r){n=o=t[0],i=a=t[1];for(var f=r;f<u;f+=r)(s=t[f])<n&&(n=s),(c=t[f+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);h=0!==(h=Math.max(o-n,a-i))?1/h:0}return _s(p,d,r,n,i,h),d}};function xs(t,e,r,n,i){var o,a;if(i===Xs(t,e,r,n)>0)for(o=e;o<r;o+=n)a=ks(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=ks(o,t[o],t[o+1],a);return a&&Bs(a,a.next)&&(js(a),a=a.next),a}function bs(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Bs(n,n.next)&&0!==Us(n.prev,n,n.next))n=n.next;else{if(js(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function _s(t,e,r,n,i,o,a){if(t){!a&&o&&Cs(t,n,i,o);for(var s,c,h=t;t.prev!==t.next;)if(s=t.prev,c=t.next,o?Ms(t,n,i,o):ws(t))e.push(s.i/r),e.push(t.i/r),e.push(c.i/r),js(t),t=c.next,h=c.next;else if((t=c)===h){a?1===a?_s(t=Es(t,e,r),e,r,n,i,o,2):2===a&&Ts(t,e,r,n,i,o):_s(bs(t),e,r,n,i,o,1);break}}}function ws(t){var e=t.prev,r=t,n=t.next;if(Us(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ns(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Us(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ms(t,e,r,n){var i=t.prev,o=t,a=t.next;if(Us(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,h=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Os(s,c,e,r,n),p=Os(h,l,e,r,n),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&Ns(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Us(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=u;){if(d!==t.prev&&d!==t.next&&Ns(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Us(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Es(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!Bs(i,o)&&Fs(i,n,n.next,o)&&Gs(i,o)&&Gs(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),js(n),js(n.next),n=t=o),n=n.next}while(n!==t);return n}function Ts(t,e,r,n,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ds(a,s)){var c=Vs(a,s);return a=bs(a,a.next),c=bs(c,c.next),_s(a,e,r,n,i,o),void _s(c,e,r,n,i,o)}s=s.next}a=a.next}while(a!==t)}function Ss(t,e,r,n){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=xs(t,e[i]*n,i<o-1?e[i+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),s.push(Is(a));for(s.sort(As),i=0;i<s.length;i++)Rs(s[i],r),r=bs(r,r.next);return r}function As(t,e){return t.x-e.x}function Rs(t,e){if(e=Ls(t,e)){var r=Vs(e,t);bs(r,r.next)}}function Ls(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var c,h=r,l=r.x,u=r.y,p=1/0;for(n=r.next;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&Ns(o<u?i:a,o,l,u,o<u?a:i,o,n.x,n.y)&&((c=Math.abs(o-n.y)/(i-n.x))<p||c===p&&n.x>r.x)&&Gs(n,t)&&(r=n,p=c),n=n.next;return r}function Cs(t,e,r,n){var i=t;do{null===i.z&&(i.z=Os(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Ps(i)}function Ps(t){var e,r,n,i,o,a,s,c,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<h&&(s++,n=n.nextZ);e++);for(c=h;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(a>1);return t}function Os(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Is(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function Ns(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function Ds(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!zs(t,e)&&Gs(t,e)&&Gs(e,t)&&Hs(t,e)}function Us(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Bs(t,e){return t.x===e.x&&t.y===e.y}function Fs(t,e,r,n){return!!(Bs(t,e)&&Bs(r,n)||Bs(t,n)&&Bs(r,e))||Us(t,e,r)>0!=Us(t,e,n)>0&&Us(r,n,t)>0!=Us(r,n,e)>0}function zs(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Fs(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Gs(t,e){return Us(t.prev,t,t.next)<0?Us(t,e,t.next)>=0&&Us(t,t.prev,e)>=0:Us(t,e,t.prev)<0||Us(t,t.next,e)<0}function Hs(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function Vs(t,e){var r=new Ws(t.i,t.x,t.y),n=new Ws(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function ks(t,e,r,n){var i=new Ws(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function js(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ws(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xs(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}var qs={area:function(t){for(var e=t.length,r=0,n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r},isClockWise:function(t){return qs.area(t)<0},triangulateShape:function(t,e){var r=[],n=[],i=[];Ys(t),Js(r,t);var o=t.length;e.forEach(Ys);for(var a=0;a<e.length;a++)n.push(o),o+=e[a].length,Js(r,e[a]);var s=ys.triangulate(r,n);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function Ys(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Js(t,e){for(var r=0;r<e.length;r++)t.push(e[r].x),t.push(e[r].y)}function Zs(t,e){yi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Qs(t,e)),this.mergeVertices()}function Qs(t,e){Oi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var r=this,n=[],i=[],o=0,a=t.length;o<a;o++){s(t[o])}function s(t){var o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,c=void 0!==e.depth?e.depth:100,h=void 0===e.bevelEnabled||e.bevelEnabled,l=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:l-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,d=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:Ks;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=e.amount);var m,g,v,y,x,b,_,w,M=!1;d&&(m=d.getSpacedPoints(s),M=!0,h=!1,g=d.computeFrenetFrames(s,!1),v=new Fe,y=new Fe,x=new Fe),h||(p=0,l=0,u=0);var E=t.extractPoints(a),T=E.shape,S=E.holes;if(!qs.isClockWise(T))for(T=T.reverse(),_=0,w=S.length;_<w;_++)b=S[_],qs.isClockWise(b)&&(S[_]=b.reverse());var A=qs.triangulateShape(T,S),R=T;for(_=0,w=S.length;_<w;_++)b=S[_],T=T.concat(b);function L(t,e,r){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(r).add(t)}var C,P,O,I,N,D,U=T.length,B=A.length;function F(t,e,r){var n,i,o,a=t.x-e.x,s=t.y-e.y,c=r.x-t.x,h=r.y-t.y,l=a*a+s*s,u=a*h-s*c;if(Math.abs(u)>Number.EPSILON){var p=Math.sqrt(l),d=Math.sqrt(c*c+h*h),f=e.x-s/p,m=e.y+a/p,g=((r.x-h/d-f)*h-(r.y+c/d-m)*c)/(a*h-s*c),v=(n=f+a*g-t.x)*n+(i=m+s*g-t.y)*i;if(v<=2)return new De(n,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(h)&&(y=!0),y?(n=-s,i=a,o=Math.sqrt(l)):(n=a,i=s,o=Math.sqrt(l/2))}return new De(n/o,i/o)}for(var z=[],G=0,H=R.length,V=H-1,k=G+1;G<H;G++,V++,k++)V===H&&(V=0),k===H&&(k=0),z[G]=F(R[G],R[V],R[k]);var j,W,X=[],q=z.concat();for(_=0,w=S.length;_<w;_++){for(b=S[_],j=[],G=0,V=(H=b.length)-1,k=G+1;G<H;G++,V++,k++)V===H&&(V=0),k===H&&(k=0),j[G]=F(b[G],b[V],b[k]);X.push(j),q=q.concat(j)}for(C=0;C<p;C++){for(O=C/p,I=l*Math.cos(O*Math.PI/2),P=u*Math.sin(O*Math.PI/2),G=0,H=R.length;G<H;G++)J((N=L(R[G],z[G],P)).x,N.y,-I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],G=0,H=b.length;G<H;G++)J((N=L(b[G],j[G],P)).x,N.y,-I)}for(P=u,G=0;G<U;G++)N=h?L(T[G],q[G],P):T[G],M?(y.copy(g.normals[0]).multiplyScalar(N.x),v.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(m[0]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,0);for(W=1;W<=s;W++)for(G=0;G<U;G++)N=h?L(T[G],q[G],P):T[G],M?(y.copy(g.normals[W]).multiplyScalar(N.x),v.copy(g.binormals[W]).multiplyScalar(N.y),x.copy(m[W]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,c/s*W);for(C=p-1;C>=0;C--){for(O=C/p,I=l*Math.cos(O*Math.PI/2),P=u*Math.sin(O*Math.PI/2),G=0,H=R.length;G<H;G++)J((N=L(R[G],z[G],P)).x,N.y,c+I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],G=0,H=b.length;G<H;G++)N=L(b[G],j[G],P),M?J(N.x,N.y+m[s-1].y,m[s-1].x+I):J(N.x,N.y,c+I)}function Y(t,e){var r,n;for(G=t.length;--G>=0;){r=G,(n=G-1)<0&&(n=t.length-1);var i=0,o=s+2*p;for(i=0;i<o;i++){var a=U*i,c=U*(i+1);Q(e+r+a,e+n+a,e+n+c,e+r+c)}}}function J(t,e,r){o.push(t),o.push(e),o.push(r)}function Z(t,e,i){K(t),K(e),K(i);var o=n.length/3,a=f.generateTopUV(r,n,o-3,o-2,o-1);$(a[0]),$(a[1]),$(a[2])}function Q(t,e,i,o){K(t),K(e),K(o),K(e),K(i),K(o);var a=n.length/3,s=f.generateSideWallUV(r,n,a-6,a-3,a-2,a-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function K(t){n.push(o[3*t+0]),n.push(o[3*t+1]),n.push(o[3*t+2])}function $(t){i.push(t.x),i.push(t.y)}!function(){var t=n.length/3;if(h){var e=0,i=U*e;for(G=0;G<B;G++)Z((D=A[G])[2]+i,D[1]+i,D[0]+i);for(i=U*(e=s+2*p),G=0;G<B;G++)Z((D=A[G])[0]+i,D[1]+i,D[2]+i)}else{for(G=0;G<B;G++)Z((D=A[G])[2],D[1],D[0]);for(G=0;G<B;G++)Z((D=A[G])[0]+U*s,D[1]+U*s,D[2]+U*s)}r.addGroup(t,n.length/3-t,0)}(),function(){var t=n.length/3,e=0;for(Y(R,e),e+=R.length,_=0,w=S.length;_<w;_++)Y(b=S[_],e),e+=b.length;r.addGroup(t,n.length/3-t,1)}()}this.addAttribute("position",new Ai(n,3)),this.addAttribute("uv",new Ai(i,2)),this.computeVertexNormals()}Zs.prototype=Object.create(yi.prototype),Zs.prototype.constructor=Zs,Zs.prototype.toJSON=function(){var t=yi.prototype.toJSON.call(this);return $s(this.parameters.shapes,this.parameters.options,t)},Qs.prototype=Object.create(Oi.prototype),Qs.prototype.constructor=Qs,Qs.prototype.toJSON=function(){var t=Oi.prototype.toJSON.call(this);return $s(this.parameters.shapes,this.parameters.options,t)};var Ks={generateTopUV:function(t,e,r,n,i){var o=e[3*r],a=e[3*r+1],s=e[3*n],c=e[3*n+1],h=e[3*i],l=e[3*i+1];return[new De(o,a),new De(s,c),new De(h,l)]},generateSideWallUV:function(t,e,r,n,i,o){var a=e[3*r],s=e[3*r+1],c=e[3*r+2],h=e[3*n],l=e[3*n+1],u=e[3*n+2],p=e[3*i],d=e[3*i+1],f=e[3*i+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(s-l)<.01?[new De(a,1-c),new De(h,1-u),new De(p,1-f),new De(m,1-v)]:[new De(s,1-c),new De(l,1-u),new De(d,1-f),new De(g,1-v)]}};function $s(t,e,r){if(r.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var o=t[n];r.shapes.push(o.uuid)}else r.shapes.push(t.uuid);return void 0!==e.extrudePath&&(r.options.extrudePath=e.extrudePath.toJSON()),r}function tc(t,e){yi.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ec(t,e)),this.mergeVertices()}function ec(t,e){var r=(e=e||{}).font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new yi;var n=r.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Qs.call(this,n,e),this.type="TextBufferGeometry"}function rc(t,e,r,n,i,o,a){yi.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new nc(t,e,r,n,i,o,a)),this.mergeVertices()}function nc(t,e,r,n,i,o,a){Oi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var s,c,h=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),l=0,u=[],p=new Fe,d=new Fe,f=[],m=[],g=[],v=[];for(c=0;c<=r;c++){var y=[],x=c/r;for(s=0;s<=e;s++){var b=s/e;p.x=-t*Math.cos(n+b*i)*Math.sin(o+x*a),p.y=t*Math.cos(o+x*a),p.z=t*Math.sin(n+b*i)*Math.sin(o+x*a),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),g.push(d.x,d.y,d.z),v.push(b,1-x),y.push(l++)}u.push(y)}for(c=0;c<r;c++)for(s=0;s<e;s++){var _=u[c][s+1],w=u[c][s],M=u[c+1][s],E=u[c+1][s+1];(0!==c||o>0)&&f.push(_,w,E),(c!==r-1||h<Math.PI)&&f.push(w,M,E)}this.setIndex(f),this.addAttribute("position",new Ai(m,3)),this.addAttribute("normal",new Ai(g,3)),this.addAttribute("uv",new Ai(v,2))}function ic(t,e,r,n,i,o){yi.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new oc(t,e,r,n,i,o)),this.mergeVertices()}function oc(t,e,r,n,i,o){Oi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},t=t||.5,e=e||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;var a,s,c,h=[],l=[],u=[],p=[],d=t,f=(e-t)/(n=void 0!==n?Math.max(1,n):1),m=new Fe,g=new De;for(s=0;s<=n;s++){for(c=0;c<=r;c++)a=i+c/r*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,p.push(g.x,g.y);d+=f}for(s=0;s<n;s++){var v=s*(r+1);for(c=0;c<r;c++){var y=a=c+v,x=a+r+1,b=a+r+2,_=a+1;h.push(y,x,_),h.push(x,b,_)}}this.setIndex(h),this.addAttribute("position",new Ai(l,3)),this.addAttribute("normal",new Ai(u,3)),this.addAttribute("uv",new Ai(p,2))}function ac(t,e,r,n){yi.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},this.fromBufferGeometry(new sc(t,e,r,n)),this.mergeVertices()}function sc(t,e,r,n){Oi.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},e=Math.floor(e)||12,r=r||0,n=n||2*Math.PI,n=Ne.clamp(n,0,2*Math.PI);var i,o,a,s=[],c=[],h=[],l=1/e,u=new Fe,p=new De;for(o=0;o<=e;o++){var d=r+o*l*n,f=Math.sin(d),m=Math.cos(d);for(a=0;a<=t.length-1;a++)u.x=t[a].x*f,u.y=t[a].y,u.z=t[a].x*m,c.push(u.x,u.y,u.z),p.x=o/e,p.y=a/(t.length-1),h.push(p.x,p.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var g=i=a+o*t.length,v=i+t.length,y=i+t.length+1,x=i+1;s.push(g,v,x),s.push(v,y,x)}if(this.setIndex(s),this.addAttribute("position",new Ai(c,3)),this.addAttribute("uv",new Ai(h,2)),this.computeVertexNormals(),n===2*Math.PI){var b=this.attributes.normal.array,_=new Fe,w=new Fe,M=new Fe;for(i=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)_.x=b[a+0],_.y=b[a+1],_.z=b[a+2],w.x=b[i+a+0],w.y=b[i+a+1],w.z=b[i+a+2],M.addVectors(_,w).normalize(),b[a+0]=b[i+a+0]=M.x,b[a+1]=b[i+a+1]=M.y,b[a+2]=b[i+a+2]=M.z}}function cc(t,e){yi.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new hc(t,e)),this.mergeVertices()}function hc(t,e){Oi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],n=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(t))h(t);else for(var c=0;c<t.length;c++)h(t[c]),this.addGroup(a,s,c),a+=s,s=0;function h(t){var a,c,h,l=n.length/3,u=t.extractPoints(e),p=u.shape,d=u.holes;if(!1===qs.isClockWise(p))for(p=p.reverse(),a=0,c=d.length;a<c;a++)h=d[a],!0===qs.isClockWise(h)&&(d[a]=h.reverse());var f=qs.triangulateShape(p,d);for(a=0,c=d.length;a<c;a++)h=d[a],p=p.concat(h);for(a=0,c=p.length;a<c;a++){var m=p[a];n.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=f.length;a<c;a++){var g=f[a],v=g[0]+l,y=g[1]+l,x=g[2]+l;r.push(v,y,x),s+=3}}this.setIndex(r),this.addAttribute("position",new Ai(n,3)),this.addAttribute("normal",new Ai(i,3)),this.addAttribute("uv",new Ai(o,2))}function lc(t,e){if(e.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var i=t[r];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}function uc(t,e){Oi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,n,i,o,a=[],s=Math.cos(Ne.DEG2RAD*e),c=[0,0],h={},l=["a","b","c"];t.isBufferGeometry?(o=new yi).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var u=o.vertices,p=o.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],g=0;g<3;g++)r=m[l[g]],n=m[l[(g+1)%3]],c[0]=Math.min(r,n),c[1]=Math.max(r,n),void 0===h[i=c[0]+","+c[1]]?h[i]={index1:c[0],index2:c[1],face1:d,face2:void 0}:h[i].face2=d;for(i in h){var v=h[i];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var y=u[v.index1];a.push(y.x,y.y,y.z),y=u[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Ai(a,3))}function pc(t,e,r,n,i,o,a,s){yi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new dc(t,e,r,n,i,o,a,s)),this.mergeVertices()}function dc(t,e,r,n,i,o,a,s){Oi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;t=void 0!==t?t:1,e=void 0!==e?e:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var h=[],l=[],u=[],p=[],d=0,f=[],m=r/2,g=0;function v(r){var i,o,f,v=new De,y=new Fe,x=0,b=!0===r?t:e,_=!0===r?1:-1;for(o=d,i=1;i<=n;i++)l.push(0,m*_,0),u.push(0,_,0),p.push(.5,.5),d++;for(f=d,i=0;i<=n;i++){var w=i/n*s+a,M=Math.cos(w),E=Math.sin(w);y.x=b*E,y.y=m*_,y.z=b*M,l.push(y.x,y.y,y.z),u.push(0,_,0),v.x=.5*M+.5,v.y=.5*E*_+.5,p.push(v.x,v.y),d++}for(i=0;i<n;i++){var T=o+i,S=f+i;!0===r?h.push(S,S+1,T):h.push(S+1,S,T),x+=3}c.addGroup(g,x,!0===r?1:2),g+=x}!function(){var o,v,y=new Fe,x=new Fe,b=0,_=(e-t)/r;for(v=0;v<=i;v++){var w=[],M=v/i,E=M*(e-t)+t;for(o=0;o<=n;o++){var T=o/n,S=T*s+a,A=Math.sin(S),R=Math.cos(S);x.x=E*A,x.y=-M*r+m,x.z=E*R,l.push(x.x,x.y,x.z),y.set(A,_,R).normalize(),u.push(y.x,y.y,y.z),p.push(T,1-M),w.push(d++)}f.push(w)}for(o=0;o<n;o++)for(v=0;v<i;v++){var L=f[v][o],C=f[v+1][o],P=f[v+1][o+1],O=f[v][o+1];h.push(L,C,O),h.push(C,P,O),b+=6}c.addGroup(g,b,0),g+=b}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(h),this.addAttribute("position",new Ai(l,3)),this.addAttribute("normal",new Ai(u,3)),this.addAttribute("uv",new Ai(p,2))}function fc(t,e,r,n,i,o,a){pc.call(this,0,t,e,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function mc(t,e,r,n,i,o,a){dc.call(this,0,t,e,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function gc(t,e,r,n){yi.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new vc(t,e,r,n)),this.mergeVertices()}function vc(t,e,r,n){Oi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},t=t||1,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i,o,a=[],s=[],c=[],h=[],l=new Fe,u=new De;for(s.push(0,0,0),c.push(0,0,1),h.push(.5,.5),o=0,i=3;o<=e;o++,i+=3){var p=r+o/e*n;l.x=t*Math.cos(p),l.y=t*Math.sin(p),s.push(l.x,l.y,l.z),c.push(0,0,1),u.x=(s[i]/t+1)/2,u.y=(s[i+1]/t+1)/2,h.push(u.x,u.y)}for(i=1;i<=e;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new Ai(s,3)),this.addAttribute("normal",new Ai(c,3)),this.addAttribute("uv",new Ai(h,2))}tc.prototype=Object.create(yi.prototype),tc.prototype.constructor=tc,ec.prototype=Object.create(Qs.prototype),ec.prototype.constructor=ec,rc.prototype=Object.create(yi.prototype),rc.prototype.constructor=rc,nc.prototype=Object.create(Oi.prototype),nc.prototype.constructor=nc,ic.prototype=Object.create(yi.prototype),ic.prototype.constructor=ic,oc.prototype=Object.create(Oi.prototype),oc.prototype.constructor=oc,ac.prototype=Object.create(yi.prototype),ac.prototype.constructor=ac,sc.prototype=Object.create(Oi.prototype),sc.prototype.constructor=sc,cc.prototype=Object.create(yi.prototype),cc.prototype.constructor=cc,cc.prototype.toJSON=function(){var t=yi.prototype.toJSON.call(this);return lc(this.parameters.shapes,t)},hc.prototype=Object.create(Oi.prototype),hc.prototype.constructor=hc,hc.prototype.toJSON=function(){var t=Oi.prototype.toJSON.call(this);return lc(this.parameters.shapes,t)},uc.prototype=Object.create(Oi.prototype),uc.prototype.constructor=uc,pc.prototype=Object.create(yi.prototype),pc.prototype.constructor=pc,dc.prototype=Object.create(Oi.prototype),dc.prototype.constructor=dc,fc.prototype=Object.create(pc.prototype),fc.prototype.constructor=fc,mc.prototype=Object.create(dc.prototype),mc.prototype.constructor=mc,gc.prototype=Object.create(yi.prototype),gc.prototype.constructor=gc,vc.prototype=Object.create(Oi.prototype),vc.prototype.constructor=vc;var yc=Object.freeze({WireframeGeometry:$a,ParametricGeometry:ts,ParametricBufferGeometry:es,TetrahedronGeometry:is,TetrahedronBufferGeometry:os,OctahedronGeometry:as,OctahedronBufferGeometry:ss,IcosahedronGeometry:cs,IcosahedronBufferGeometry:hs,DodecahedronGeometry:ls,DodecahedronBufferGeometry:us,PolyhedronGeometry:rs,PolyhedronBufferGeometry:ns,TubeGeometry:ps,TubeBufferGeometry:ds,TorusKnotGeometry:fs,TorusKnotBufferGeometry:ms,TorusGeometry:gs,TorusBufferGeometry:vs,TextGeometry:tc,TextBufferGeometry:ec,SphereGeometry:rc,SphereBufferGeometry:nc,RingGeometry:ic,RingBufferGeometry:oc,PlaneGeometry:Di,PlaneBufferGeometry:Ui,LatheGeometry:ac,LatheBufferGeometry:sc,ShapeGeometry:cc,ShapeBufferGeometry:hc,ExtrudeGeometry:Zs,ExtrudeBufferGeometry:Qs,EdgesGeometry:uc,ConeGeometry:fc,ConeBufferGeometry:mc,CylinderGeometry:pc,CylinderBufferGeometry:dc,CircleGeometry:gc,CircleBufferGeometry:vc,BoxGeometry:Ii,BoxBufferGeometry:Ni});function xc(t){Fi.call(this),this.type="ShadowMaterial",this.color=new oi(0),this.transparent=!0,this.setValues(t)}function bc(t){Gi.call(this,t),this.type="RawShaderMaterial"}function _c(t){Fi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new oi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function wc(t){_c.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Mc(t){Fi.call(this),this.type="MeshPhongMaterial",this.color=new oi(16777215),this.specular=new oi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ec(t){Mc.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Tc(t){Fi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Sc(t){Fi.call(this),this.type="MeshLambertMaterial",this.color=new oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ac(t){ja.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}xc.prototype=Object.create(Fi.prototype),xc.prototype.constructor=xc,xc.prototype.isShadowMaterial=!0,xc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this},bc.prototype=Object.create(Gi.prototype),bc.prototype.constructor=bc,bc.prototype.isRawShaderMaterial=!0,_c.prototype=Object.create(Fi.prototype),_c.prototype.constructor=_c,_c.prototype.isMeshStandardMaterial=!0,_c.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},wc.prototype=Object.create(_c.prototype),wc.prototype.constructor=wc,wc.prototype.isMeshPhysicalMaterial=!0,wc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Mc.prototype=Object.create(Fi.prototype),Mc.prototype.constructor=Mc,Mc.prototype.isMeshPhongMaterial=!0,Mc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ec.prototype=Object.create(Mc.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isMeshToonMaterial=!0,Ec.prototype.copy=function(t){return Mc.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},Tc.prototype=Object.create(Fi.prototype),Tc.prototype.constructor=Tc,Tc.prototype.isMeshNormalMaterial=!0,Tc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Sc.prototype=Object.create(Fi.prototype),Sc.prototype.constructor=Sc,Sc.prototype.isMeshLambertMaterial=!0,Sc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ac.prototype=Object.create(ja.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isLineDashedMaterial=!0,Ac.prototype.copy=function(t){return ja.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Rc=Object.freeze({ShadowMaterial:xc,SpriteMaterial:Fa,RawShaderMaterial:bc,ShaderMaterial:Gi,PointsMaterial:Ya,MeshPhysicalMaterial:wc,MeshStandardMaterial:_c,MeshPhongMaterial:Mc,MeshToonMaterial:Ec,MeshNormalMaterial:Tc,MeshLambertMaterial:Sc,MeshDepthMaterial:_a,MeshDistanceMaterial:wa,MeshBasicMaterial:zi,LineDashedMaterial:Ac,LineBasicMaterial:ja,Material:Fi}),Lc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Cc(t,e,r){var n=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){a++,!1===i&&void 0!==n.onStart&&n.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==n.onProgress&&n.onProgress(t,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Pc=new Cc,Oc={};function Ic(t){this.manager=void 0!==t?t:Pc}function Nc(t){this.manager=void 0!==t?t:Pc,this._parser=null}function Dc(t){this.manager=void 0!==t?t:Pc,this._parser=null}function Uc(t){this.manager=void 0!==t?t:Pc}function Bc(t){this.manager=void 0!==t?t:Pc}function Fc(t){this.manager=void 0!==t?t:Pc}function zc(){this.type="Curve",this.arcLengthDivisions=200}function Gc(t,e,r,n,i,o,a,s){zc.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Hc(t,e,r,n,i,o){Gc.call(this,t,e,r,r,n,i,o),this.type="ArcCurve"}function Vc(){var t=0,e=0,r=0,n=0;function i(i,o,a,s){t=i,e=a,r=-3*i+3*o-2*a-s,n=2*i-2*o+a+s}return{initCatmullRom:function(t,e,r,n,o){i(e,r,o*(r-t),o*(n-e))},initNonuniformCatmullRom:function(t,e,r,n,o,a,s){var c=(e-t)/o-(r-t)/(o+a)+(r-e)/a,h=(r-e)/a-(n-e)/(a+s)+(n-r)/s;i(e,r,c*=a,h*=a)},calc:function(i){var o=i*i;return t+e*i+r*o+n*(o*i)}}}Object.assign(Ic.prototype,{load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;if(void 0===Oc[t]){var a=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],h=a[3];h=window.decodeURIComponent(h),c&&(h=window.atob(h));try{var l,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var p=new Uint8Array(h.length),d=0;d<h.length;d++)p[d]=h.charCodeAt(d);l="blob"===u?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;l=f.parseFromString(h,s);break;case"json":l=JSON.parse(h);break;default:l=h}window.setTimeout(function(){e&&e(l),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{Oc[t]=[],Oc[t].push({onLoad:e,onProgress:r,onError:n});var m=new XMLHttpRequest;for(var g in m.open("GET",t,!0),m.addEventListener("load",function(e){var r=this.response;Lc.add(t,r);var n=Oc[t];if(delete Oc[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=n.length;o<a;o++){(s=n[o]).onLoad&&s.onLoad(r)}i.manager.itemEnd(t)}else{for(o=0,a=n.length;o<a;o++){var s;(s=n[o]).onError&&s.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)}},!1),m.addEventListener("progress",function(e){for(var r=Oc[t],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(e)}},!1),m.addEventListener("error",function(e){var r=Oc[t];delete Oc[t];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(t),m}Oc[t].push({onLoad:e,onProgress:r,onError:n})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Nc.prototype,{load:function(t,e,r,n){var i=this,o=[],a=new Qa;a.image=o;var s=new Ic(this.manager);function c(c){s.load(t[c],function(t){var r=i._parser(t,!0);o[c]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(h+=1)&&(1===r.mipmapCount&&(a.minFilter=yt),a.format=r.format,a.needsUpdate=!0,e&&e(a))},r,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var h=0,l=0,u=t.length;l<u;++l)c(l);else s.load(t,function(t){var r=i._parser(t,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+c]),o[s].format=r.format,o[s].width=r.width,o[s].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=yt),a.format=r.format,a.needsUpdate=!0,e&&e(a)},r,n);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Dc.prototype,{load:function(t,e,r,n){var i=this,o=new We,a=new Ic(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var r=i._parser(t);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:dt,o.wrapT=void 0!==r.wrapT?r.wrapT:dt,o.magFilter=void 0!==r.magFilter?r.magFilter:yt,o.minFilter=void 0!==r.minFilter?r.minFilter:bt,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps),1===r.mipmapCount&&(o.minFilter=yt),o.needsUpdate=!0,e&&e(o,r))},r,n),o}}),Object.assign(Uc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),Lc.add(t,this),e&&e(this),i.manager.itemEnd(t)}function c(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Bc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=new ro,o=new Uc(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(r){o.load(t[r],function(t){i.images[r]=t,6===++a&&(i.needsUpdate=!0,e&&e(i))},void 0,n)}for(var c=0;c<t.length;++c)s(c);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Fc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=new He,o=new Uc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(r){i.image=r;var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);i.format=n?Nt:Dt,i.needsUpdate=!0,void 0!==e&&e(i)},r,n),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(zc.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var r=this.getUtoTmapping(t);return this.getPoint(r,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPointAt(r/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=t;r++)o+=(e=this.getPoint(r/t)).distanceTo(i),n.push(o),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var r,n=this.getLengths(),i=0,o=n.length;r=e||t*n[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=n[i=Math.floor(s+(c-s)/2)]-r)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(n[i=c]===r)return i/(o-1);var h=n[i];return(i+(r-h)/(n[i+1]-h))/(o-1)},getTangent:function(t){var e=t-1e-4,r=t+1e-4;e<0&&(e=0),r>1&&(r=1);var n=this.getPoint(e);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var r,n,i,o=new Fe,a=[],s=[],c=[],h=new Fe,l=new Ue;for(r=0;r<=t;r++)n=r/t,a[r]=this.getTangentAt(n),a[r].normalize();s[0]=new Fe,c[0]=new Fe;var u=Number.MAX_VALUE,p=Math.abs(a[0].x),d=Math.abs(a[0].y),f=Math.abs(a[0].z);for(p<=u&&(u=p,o.set(1,0,0)),d<=u&&(u=d,o.set(0,1,0)),f<=u&&o.set(0,0,1),h.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],h),c[0].crossVectors(a[0],s[0]),r=1;r<=t;r++)s[r]=s[r-1].clone(),c[r]=c[r-1].clone(),h.crossVectors(a[r-1],a[r]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(Ne.clamp(a[r-1].dot(a[r]),-1,1)),s[r].applyMatrix4(l.makeRotationAxis(h,i))),c[r].crossVectors(a[r],s[r]);if(!0===e)for(i=Math.acos(Ne.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(h.crossVectors(s[0],s[t]))>0&&(i=-i),r=1;r<=t;r++)s[r].applyMatrix4(l.makeRotationAxis(a[r],i*r)),c[r].crossVectors(a[r],s[r]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Gc.prototype=Object.create(zc.prototype),Gc.prototype.constructor=Gc,Gc.prototype.isEllipseCurve=!0,Gc.prototype.getPoint=function(t,e){for(var r=e||new De,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);var a=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var h=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=s-this.aX,p=c-this.aY;s=u*h-p*l+this.aX,c=u*l+p*h+this.aY}return r.set(s,c)},Gc.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Gc.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Gc.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Hc.prototype=Object.create(Gc.prototype),Hc.prototype.constructor=Hc,Hc.prototype.isArcCurve=!0;var kc=new Fe,jc=new Vc,Wc=new Vc,Xc=new Vc;function qc(t,e,r,n){zc.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=r||"centripetal",this.tension=n||.5}function Yc(t,e,r,n,i){var o=.5*(n-e),a=.5*(i-r),s=t*t;return(2*r-2*n+o+a)*(t*s)+(-3*r+3*n-2*o-a)*s+o*t+r}function Jc(t,e){var r=1-t;return r*r*e}function Zc(t,e){return 2*(1-t)*t*e}function Qc(t,e){return t*t*e}function Kc(t,e,r,n){return Jc(t,e)+Zc(t,r)+Qc(t,n)}function $c(t,e){var r=1-t;return r*r*r*e}function th(t,e){var r=1-t;return 3*r*r*t*e}function eh(t,e){return 3*(1-t)*t*t*e}function rh(t,e){return t*t*t*e}function nh(t,e,r,n,i){return $c(t,e)+th(t,r)+eh(t,n)+rh(t,i)}function ih(t,e,r,n){zc.call(this),this.type="CubicBezierCurve",this.v0=t||new De,this.v1=e||new De,this.v2=r||new De,this.v3=n||new De}function oh(t,e,r,n){zc.call(this),this.type="CubicBezierCurve3",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=r||new Fe,this.v3=n||new Fe}function ah(t,e){zc.call(this),this.type="LineCurve",this.v1=t||new De,this.v2=e||new De}function sh(t,e){zc.call(this),this.type="LineCurve3",this.v1=t||new Fe,this.v2=e||new Fe}function ch(t,e,r){zc.call(this),this.type="QuadraticBezierCurve",this.v0=t||new De,this.v1=e||new De,this.v2=r||new De}function hh(t,e,r){zc.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=r||new Fe}function lh(t){zc.call(this),this.type="SplineCurve",this.points=t||[]}qc.prototype=Object.create(zc.prototype),qc.prototype.constructor=qc,qc.prototype.isCatmullRomCurve3=!0,qc.prototype.getPoint=function(t,e){var r,n,i,o,a=e||new Fe,s=this.points,c=s.length,h=(c-(this.closed?0:1))*t,l=Math.floor(h),u=h-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/c)+1)*c:0===u&&l===c-1&&(l=c-2,u=1),this.closed||l>0?r=s[(l-1)%c]:(kc.subVectors(s[0],s[1]).add(s[0]),r=kc),n=s[l%c],i=s[(l+1)%c],this.closed||l+2<c?o=s[(l+2)%c]:(kc.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=kc),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(r.distanceToSquared(n),p),f=Math.pow(n.distanceToSquared(i),p),m=Math.pow(i.distanceToSquared(o),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),jc.initNonuniformCatmullRom(r.x,n.x,i.x,o.x,d,f,m),Wc.initNonuniformCatmullRom(r.y,n.y,i.y,o.y,d,f,m),Xc.initNonuniformCatmullRom(r.z,n.z,i.z,o.z,d,f,m)}else"catmullrom"===this.curveType&&(jc.initCatmullRom(r.x,n.x,i.x,o.x,this.tension),Wc.initCatmullRom(r.y,n.y,i.y,o.y,this.tension),Xc.initCatmullRom(r.z,n.z,i.z,o.z,this.tension));return a.set(jc.calc(u),Wc.calc(u),Xc.calc(u)),a},qc.prototype.copy=function(t){zc.prototype.copy.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},qc.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},qc.prototype.fromJSON=function(t){zc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new Fe).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ih.prototype=Object.create(zc.prototype),ih.prototype.constructor=ih,ih.prototype.isCubicBezierCurve=!0,ih.prototype.getPoint=function(t,e){var r=e||new De,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(nh(t,n.x,i.x,o.x,a.x),nh(t,n.y,i.y,o.y,a.y)),r},ih.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ih.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ih.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},oh.prototype=Object.create(zc.prototype),oh.prototype.constructor=oh,oh.prototype.isCubicBezierCurve3=!0,oh.prototype.getPoint=function(t,e){var r=e||new Fe,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(nh(t,n.x,i.x,o.x,a.x),nh(t,n.y,i.y,o.y,a.y),nh(t,n.z,i.z,o.z,a.z)),r},oh.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},oh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},oh.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},ah.prototype=Object.create(zc.prototype),ah.prototype.constructor=ah,ah.prototype.isLineCurve=!0,ah.prototype.getPoint=function(t,e){var r=e||new De;return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r},ah.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ah.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ah.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ah.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ah.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},sh.prototype=Object.create(zc.prototype),sh.prototype.constructor=sh,sh.prototype.isLineCurve3=!0,sh.prototype.getPoint=function(t,e){var r=e||new Fe;return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r},sh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},sh.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},sh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},sh.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ch.prototype=Object.create(zc.prototype),ch.prototype.constructor=ch,ch.prototype.isQuadraticBezierCurve=!0,ch.prototype.getPoint=function(t,e){var r=e||new De,n=this.v0,i=this.v1,o=this.v2;return r.set(Kc(t,n.x,i.x,o.x),Kc(t,n.y,i.y,o.y)),r},ch.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ch.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ch.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},hh.prototype=Object.create(zc.prototype),hh.prototype.constructor=hh,hh.prototype.isQuadraticBezierCurve3=!0,hh.prototype.getPoint=function(t,e){var r=e||new Fe,n=this.v0,i=this.v1,o=this.v2;return r.set(Kc(t,n.x,i.x,o.x),Kc(t,n.y,i.y,o.y),Kc(t,n.z,i.z,o.z)),r},hh.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},hh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},hh.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lh.prototype=Object.create(zc.prototype),lh.prototype.constructor=lh,lh.prototype.isSplineCurve=!0,lh.prototype.getPoint=function(t,e){var r=e||new De,n=this.points,i=(n.length-1)*t,o=Math.floor(i),a=i-o,s=n[0===o?o:o-1],c=n[o],h=n[o>n.length-2?n.length-1:o+1],l=n[o>n.length-3?n.length-1:o+2];return r.set(Yc(a,s.x,c.x,h.x,l.x),Yc(a,s.y,c.y,h.y,l.y)),r},lh.prototype.copy=function(t){zc.prototype.copy.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this},lh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t},lh.prototype.fromJSON=function(t){zc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new De).fromArray(n))}return this};var uh=Object.freeze({ArcCurve:Hc,CatmullRomCurve3:qc,CubicBezierCurve:ih,CubicBezierCurve3:oh,EllipseCurve:Gc,LineCurve:ah,LineCurve3:sh,QuadraticBezierCurve:ch,QuadraticBezierCurve3:hh,SplineCurve:lh});function ph(){zc.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function dh(t){ph.call(this),this.type="Path",this.currentPoint=new De,t&&this.setFromPoints(t)}function fh(t){dh.call(this,t),this.uuid=Ne.generateUUID(),this.type="Shape",this.holes=[]}function mh(t,e){di.call(this),this.type="Light",this.color=new oi(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function gh(t,e,r){mh.call(this,t,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(di.DefaultUp),this.updateMatrix(),this.groundColor=new oi(e)}function vh(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new De(512,512),this.map=null,this.matrix=new Ue}function yh(){vh.call(this,new Ca(50,1,.5,500))}function xh(t,e,r,n,i,o){mh.call(this,t,e),this.type="SpotLight",this.position.copy(di.DefaultUp),this.updateMatrix(),this.target=new di,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new yh}function bh(t,e,r,n){mh.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new vh(new Ca(90,1,.5,500))}function _h(){vh.call(this,new mi(-5,5,5,-5,.5,500))}function wh(t,e){mh.call(this,t,e),this.type="DirectionalLight",this.position.copy(di.DefaultUp),this.updateMatrix(),this.target=new di,this.shadow=new _h}function Mh(t,e){mh.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Eh(t,e,r,n){mh.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function Th(t,e,r,n){Uh.call(this,t,e,r,n)}function Sh(t,e,r){Uh.call(this,t,e,r)}function Ah(t,e,r,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(r),this.sampleValues=e,this.valueSize=r}function Rh(t,e,r,n){Ah.call(this,t,e,r,n)}function Lh(t,e,r,n){Uh.call(this,t,e,r,n)}function Ch(t,e,r,n){Uh.call(this,t,e,r,n)}function Ph(t,e,r,n){Uh.call(this,t,e,r,n)}function Oh(t,e,r,n){Ah.call(this,t,e,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ih(t,e,r,n){Ah.call(this,t,e,r,n)}function Nh(t,e,r,n){Ah.call(this,t,e,r,n)}ph.prototype=Object.assign(Object.create(zc.prototype),{constructor:ph,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ah(e,t))},getPoint:function(t){for(var e=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=e){var i=r[n]-e,o=this.curves[n],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,r=0,n=this.curves.length;r<n;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),c=0;c<s.length;c++){var h=s[c];e&&e.equals(h)||(r.push(h),e=h)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(t){zc.prototype.copy.call(this,t),this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=zc.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,r=this.curves.length;e<r;e++){var n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){zc.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push((new uh[n.type]).fromJSON(n))}return this}}),dh.prototype=Object.assign(Object.create(ph.prototype),{constructor:dh,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var r=new ah(this.currentPoint.clone(),new De(t,e));this.curves.push(r),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,r,n){var i=new ch(this.currentPoint.clone(),new De(t,e),new De(r,n));this.curves.push(i),this.currentPoint.set(r,n)},bezierCurveTo:function(t,e,r,n,i,o){var a=new ih(this.currentPoint.clone(),new De(t,e),new De(r,n),new De(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=new lh([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,r,n,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,r,n,i,o)},absarc:function(t,e,r,n,i,o){this.absellipse(t,e,r,r,n,i,o)},ellipse:function(t,e,r,n,i,o,a,s){var c=this.currentPoint.x,h=this.currentPoint.y;this.absellipse(t+c,e+h,r,n,i,o,a,s)},absellipse:function(t,e,r,n,i,o,a,s){var c=new Gc(t,e,r,n,i,o,a,s);if(this.curves.length>0){var h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)},copy:function(t){return ph.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=ph.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return ph.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),fh.prototype=Object.assign(Object.create(dh.prototype),{constructor:fh,getPointsHoles:function(t){for(var e=[],r=0,n=this.holes.length;r<n;r++)e[r]=this.holes[r].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){dh.prototype.copy.call(this,t),this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){var t=dh.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,r=this.holes.length;e<r;e++){var n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){dh.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push((new dh).fromJSON(n))}return this}}),mh.prototype=Object.assign(Object.create(di.prototype),{constructor:mh,isLight:!0,copy:function(t){return di.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),gh.prototype=Object.assign(Object.create(mh.prototype),{constructor:gh,isHemisphereLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(vh.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),yh.prototype=Object.assign(Object.create(vh.prototype),{constructor:yh,isSpotLightShadow:!0,update:function(t){var e=this.camera,r=2*Ne.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;r===e.fov&&n===e.aspect&&i===e.far||(e.fov=r,e.aspect=n,e.far=i,e.updateProjectionMatrix())}}),xh.prototype=Object.assign(Object.create(mh.prototype),{constructor:xh,isSpotLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),bh.prototype=Object.assign(Object.create(mh.prototype),{constructor:bh,isPointLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),_h.prototype=Object.assign(Object.create(vh.prototype),{constructor:_h}),wh.prototype=Object.assign(Object.create(mh.prototype),{constructor:wh,isDirectionalLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mh.prototype=Object.assign(Object.create(mh.prototype),{constructor:Mh,isAmbientLight:!0}),Eh.prototype=Object.assign(Object.create(mh.prototype),{constructor:Eh,isRectAreaLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=mh.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Th.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Th,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:de,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Sh.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Sh,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:de,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(Ah.prototype,{evaluate:function(t){var e=this.parameterPositions,r=this._cachedIndex,n=e[r],i=e[r-1];t:{e:{var o;r:{n:if(!(t<n)){for(var a=r+2;;){if(void 0===n){if(t<i)break n;return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,t,i)}if(r===a)break;if(i=n,t<(n=e[++r]))break e}o=e.length;break r}if(t>=i)break t;var s=e[1];t<s&&(r=2,i=s);for(a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(r===a)break;if(n=i,t>=(i=e[--r-1]))break e}o=r,r=0}for(;r<o;){var c=r+o>>>1;t<e[c]?o=c:r=c+1}if(n=e[r],void 0===(i=e[r-1]))return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,i,t)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=t*n,o=0;o!==n;++o)e[o]=r[i+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ah.prototype,{beforeStart_:Ah.prototype.copySampleValue_,afterEnd_:Ah.prototype.copySampleValue_}),Rh.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Rh,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(r-e)/(n-e),h=s+a;s!==h;s+=4)Be.slerpFlat(i,0,o,s-a,o,s,c);return i}}),Lh.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Lh,ValueTypeName:"quaternion",DefaultInterpolation:fe,InterpolantFactoryMethodLinear:function(t){return new Rh(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Ch.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Ch,ValueTypeName:"color"}),Ph.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Ph,ValueTypeName:"number"}),Oh.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Oh,DefaultSettings_:{endingStart:ge,endingEnd:ge},intervalChanged_:function(t,e,r){var n=this.parameterPositions,i=t-2,o=t+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case ve:i=t,a=2*e-r;break;case ye:a=e+n[i=n.length-2]-n[i+1];break;default:i=t,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case ve:o=t,s=2*r-e;break;case ye:o=1,s=r+n[1]-n[0];break;default:o=t-1,s=e}var c=.5*(r-e),h=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-r),this._offsetPrev=i*h,this._offsetNext=o*h},interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,h=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(r-e)/(n-e),f=d*d,m=f*d,g=-u*m+2*u*f-u*d,v=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==a;++b)i[b]=g*o[h+b]+v*o[c+b]+y*o[s+b]+x*o[l+b];return i}}),Ih.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Ih,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,h=(r-e)/(n-e),l=1-h,u=0;u!==a;++u)i[u]=o[c+u]*l+o[s+u]*h;return i}}),Nh.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Nh,interpolate_:function(t){return this.copySampleValue_(t-1)}});var Dh={arraySlice:function(t,e,r){return Dh.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==r?r:t.length)):t.slice(e,r)},convertArray:function(t,e,r){return!t||!r&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,r=new Array(e),n=0;n!==e;++n)r[n]=n;return r.sort(function(e,r){return t[e]-t[r]}),r},sortedArray:function(t,e,r){for(var n=t.length,i=new t.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*e,c=0;c!==e;++c)i[a++]=t[s+c];return i},flattenJSON:function(t,e,r,n){for(var i=1,o=t[0];void 0!==o&&void 0===o[n];)o=t[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[n])&&(e.push(o.time),r.push.apply(r,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[n])&&(e.push(o.time),a.toArray(r,r.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(a=o[n])&&(e.push(o.time),r.push(a)),o=t[i++]}while(void 0!==o)}}};function Uh(t,e,r,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Dh.convertArray(e,this.TimeBufferType),this.values=Dh.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function Bh(t,e,r,n){Uh.call(this,t,e,r,n)}function Fh(t,e,r){this.name=t,this.tracks=r,this.duration=void 0!==e?e:-1,this.uuid=Ne.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function zh(t){this.manager=void 0!==t?t:Pc,this.textures={}}function Gh(t){this.manager=void 0!==t?t:Pc}Object.assign(Uh,{parse:function(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=Uh._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var r=[],n=[];Dh.flattenJSON(t.keys,r,n,"value"),t.times=r,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,r=t.constructor;if(void 0!==r.toJSON)e=r.toJSON(t);else{e={name:t.name,times:Dh.convertArray(t.times,Array),values:Dh.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ph;case"vector":case"vector2":case"vector3":case"vector4":return Bh;case"color":return Ch;case"quaternion":return Lh;case"bool":case"boolean":return Sh;case"string":return Th}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}}),Object.assign(Uh.prototype,{constructor:Uh,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:fe,InterpolantFactoryMethodDiscrete:function(t){return new Nh(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Ih(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Oh(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case de:e=this.InterpolantFactoryMethodDiscrete;break;case fe:e=this.InterpolantFactoryMethodLinear;break;case me:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",r)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return de;case this.InterpolantFactoryMethodLinear:return fe;case this.InterpolantFactoryMethodSmooth:return me}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]*=t;return this},trim:function(t,e){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<t;)++i;for(;-1!==o&&r[o]>e;)--o;if(++o,0!==i||o!==n){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Dh.arraySlice(r,i,o),this.values=Dh.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==n&&Dh.isTypedArray(n)){a=0;for(var c=n.length;a!==c;++a){var h=n[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,r=this.getValueSize(),n=this.getInterpolation()===me,i=1,o=t.length-1,a=1;a<o;++a){var s=!1,c=t[a];if(c!==t[a+1]&&(1!==a||c!==c[0]))if(n)s=!0;else for(var h=a*r,l=h-r,u=h+r,p=0;p!==r;++p){var d=e[h+p];if(d!==e[l+p]||d!==e[u+p]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];var f=a*r,m=i*r;for(p=0;p!==r;++p)e[m+p]=e[f+p]}++i}}if(o>0){t[i]=t[o];for(f=o*r,m=i*r,p=0;p!==r;++p)e[m+p]=e[f+p];++i}return i!==t.length&&(this.times=Dh.arraySlice(t,0,i),this.values=Dh.arraySlice(e,0,i*r)),this}}),Bh.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Bh,ValueTypeName:"vector"}),Object.assign(Fh,{parse:function(t){for(var e=[],r=t.tracks,n=1/(t.fps||1),i=0,o=r.length;i!==o;++i)e.push(Uh.parse(r[i]).scale(n));return new Fh(t.name,t.duration,e)},toJSON:function(t){for(var e=[],r=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,o=r.length;i!==o;++i)e.push(Uh.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(t,e,r,n){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var h=Dh.getKeyframeOrder(s);s=Dh.sortedArray(s,1,h),c=Dh.sortedArray(c,1,h),n||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new Ph(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/r))}return new Fh(t,-1,o)},findByName:function(t,e){var r=t;if(!Array.isArray(t)){var n=t;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===e)return r[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(i);if(c&&c.length>1){var h=n[u=c[1]];h||(n[u]=h=[]),h.push(s)}}var l=[];for(var u in n)l.push(Fh.CreateFromMorphTargetSequence(u,n[u],e,r));return l},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(t,e,r,n,i){if(0!==r.length){var o=[],a=[];Dh.flattenJSON(r,o,a,n),0!==o.length&&i.push(new t(e,o,a))}},n=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var h=s[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var l={},u=0;u<h.length;u++)if(h[u].morphTargets)for(var p=0;p<h[u].morphTargets.length;p++)l[h[u].morphTargets[p]]=-1;for(var d in l){var f=[],m=[];for(p=0;p!==h[u].morphTargets.length;++p){var g=h[u];f.push(g.time),m.push(g.morphTarget===d?1:0)}n.push(new Ph(".morphTargetInfluence["+d+"]",f,m))}o=l.length*(a||1)}else{var v=".bones["+e[c].name+"]";r(Bh,v+".position",h,"pos",n),r(Lh,v+".quaternion",h,"rot",n),r(Bh,v+".scale",h,"scl",n)}}return 0===n.length?null:new Fh(i,o,n)}}),Object.assign(Fh.prototype,{resetDuration:function(){for(var t=0,e=0,r=this.tracks.length;e!==r;++e){var n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(zh.prototype,{load:function(t,e,r,n){var i=this;new Ic(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function r(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var n=new Rc[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearCoat&&(n.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(n.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(n.uniforms=t.uniforms),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(n.vertexColors=t.vertexColors),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=r(t.map)),void 0!==t.alphaMap&&(n.alphaMap=r(t.alphaMap),n.transparent=!0),void 0!==t.bumpMap&&(n.bumpMap=r(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=r(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),n.normalScale=(new De).fromArray(i)}return void 0!==t.displacementMap&&(n.displacementMap=r(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=r(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=r(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=r(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=r(t.specularMap)),void 0!==t.envMap&&(n.envMap=r(t.envMap)),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.lightMap&&(n.lightMap=r(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=r(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=r(t.gradientMap)),n}}),Object.assign(Gh.prototype,{load:function(t,e,r,n){var i=this;new Ic(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},parse:function(t){var e=new Oi,r=t.data.index;if(void 0!==r){var n=new Hh[r.type](r.array);e.setIndex(new xi(n,1))}var i=t.data.attributes;for(var o in i){var a=i[o];n=new Hh[a.type](a.array);e.addAttribute(o,new xi(n,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,h=s.length;c!==h;++c){var l=s[c];e.addGroup(l.start,l.count,l.materialIndex)}var u=t.data.boundingSphere;if(void 0!==u){var p=new Fe;void 0!==u.center&&p.fromArray(u.center),e.boundingSphere=new qe(p,u.radius)}return e}});var Hh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Vh(){}Vh.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,r=0,n=e.length;r<n;r+=2){var i=e[r],o=e[r+1];if(i.test(t))return o}return null}},Object.assign(Vh.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,r){for(var n=[],i=0;i<t.length;++i)n[i]=this.createMaterial(t[i],e,r);return n},createMaterial:function(){var t={NoBlending:b,NormalBlending:_,AdditiveBlending:w,SubtractiveBlending:M,MultiplyBlending:E,CustomBlending:T},e=new oi,r=new Fc,n=new zh;return function(i,o,a){var s={};function c(t,e,n,i,c){var h,l=o+t,u=Vh.Handlers.get(l);null!==u?h=u.load(l):(r.setCrossOrigin(a),h=r.load(l)),void 0!==e&&(h.repeat.fromArray(e),1!==e[0]&&(h.wrapS=pt),1!==e[1]&&(h.wrapT=pt)),void 0!==n&&h.offset.fromArray(n),void 0!==i&&("repeat"===i[0]&&(h.wrapS=pt),"mirror"===i[0]&&(h.wrapS=ft),"repeat"===i[1]&&(h.wrapT=pt),"mirror"===i[1]&&(h.wrapT=ft)),void 0!==c&&(h.anisotropy=c);var p=Ne.generateUUID();return s[p]=h,p}var h={uuid:Ne.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var u=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":h.name=u;break;case"blending":h.blending=t[u];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":h.color=e.fromArray(u).getHex();break;case"colorSpecular":h.specular=e.fromArray(u).getHex();break;case"colorEmissive":h.emissive=e.fromArray(u).getHex();break;case"specularCoef":h.shininess=u;break;case"shading":"basic"===u.toLowerCase()&&(h.type="MeshBasicMaterial"),"phong"===u.toLowerCase()&&(h.type="MeshPhongMaterial"),"standard"===u.toLowerCase()&&(h.type="MeshStandardMaterial");break;case"mapDiffuse":h.map=c(u,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":h.emissiveMap=c(u,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":h.lightMap=c(u,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":h.aoMap=c(u,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":h.bumpMap=c(u,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":h.bumpScale=u;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":h.normalMap=c(u,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":h.normalScale=u;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":h.specularMap=c(u,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":h.metalnessMap=c(u,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":h.roughnessMap=c(u,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":h.alphaMap=c(u,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":h.side=d;break;case"doubleSided":h.side=f;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),h.opacity=u;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":h[l]=u;break;case"vertexColors":!0===u&&(h.vertexColors=x),"face"===u&&(h.vertexColors=y);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,u)}}return"MeshBasicMaterial"===h.type&&delete h.emissive,"MeshPhongMaterial"!==h.type&&delete h.specular,h.opacity<1&&(h.transparent=!0),n.setTextures(s),n.parse(h)}}()});var kh={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",r=0,n=t.length;r<n;r++)e+=String.fromCharCode(t[r]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function jh(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Pc,this.withCredentials=!1}function Wh(t){this.manager=void 0!==t?t:Pc,this.texturePath=""}Object.assign(jh.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:kh.extractUrlBase(t),a=new Ic(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(r){var n=JSON.parse(r),a=n.metadata;if(void 0!==a){var s=a.type;if(void 0!==s&&"object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.")}var c=i.parse(n,o);e(c.geometry,c.materials)},r,n)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setTexturePath:function(t){return this.texturePath=t,this},parse:function(){return function(t,e){void 0!==t.data&&(t=t.data),void 0!==t.scale?t.scale=1/t.scale:t.scale=1;var r=new yi;return function(t,e){function r(t,e){return t&1<<e}var n,i,o,a,s,c,h,l,u,p,d,f,m,g,v,y,x,b,_,w,M,E,T,S,A,R=t.faces,L=t.vertices,C=t.normals,P=t.colors,O=t.scale,I=0;if(void 0!==t.uvs){for(n=0;n<t.uvs.length;n++)t.uvs[n].length&&I++;for(n=0;n<I;n++)e.faceVertexUvs[n]=[]}for(a=0,s=L.length;a<s;)(b=new Fe).x=L[a++]*O,b.y=L[a++]*O,b.z=L[a++]*O,e.vertices.push(b);for(a=0,s=R.length;a<s;)if(d=r(p=R[a++],0),f=r(p,1),m=r(p,3),g=r(p,4),v=r(p,5),y=r(p,6),x=r(p,7),d){if((w=new gi).a=R[a],w.b=R[a+1],w.c=R[a+3],(M=new gi).a=R[a+1],M.b=R[a+2],M.c=R[a+3],a+=4,f&&(u=R[a++],w.materialIndex=u,M.materialIndex=u),o=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][o]=[],e.faceVertexUvs[n][o+1]=[],i=0;i<4;i++)A=new De(S[2*(l=R[a++])],S[2*l+1]),2!==i&&e.faceVertexUvs[n][o].push(A),0!==i&&e.faceVertexUvs[n][o+1].push(A);if(g&&(h=3*R[a++],w.normal.set(C[h++],C[h++],C[h]),M.normal.copy(w.normal)),v)for(n=0;n<4;n++)h=3*R[a++],T=new Fe(C[h++],C[h++],C[h]),2!==n&&w.vertexNormals.push(T),0!==n&&M.vertexNormals.push(T);if(y&&(E=P[c=R[a++]],w.color.setHex(E),M.color.setHex(E)),x)for(n=0;n<4;n++)E=P[c=R[a++]],2!==n&&w.vertexColors.push(new oi(E)),0!==n&&M.vertexColors.push(new oi(E));e.faces.push(w),e.faces.push(M)}else{if((_=new gi).a=R[a++],_.b=R[a++],_.c=R[a++],f&&(u=R[a++],_.materialIndex=u),o=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][o]=[],i=0;i<3;i++)A=new De(S[2*(l=R[a++])],S[2*l+1]),e.faceVertexUvs[n][o].push(A);if(g&&(h=3*R[a++],_.normal.set(C[h++],C[h++],C[h])),v)for(n=0;n<3;n++)h=3*R[a++],T=new Fe(C[h++],C[h++],C[h]),_.vertexNormals.push(T);if(y&&(c=R[a++],_.color.setHex(P[c])),x)for(n=0;n<3;n++)c=R[a++],_.vertexColors.push(new oi(P[c]));e.faces.push(_)}}(t,r),function(t,e){var r=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,i=t.skinWeights.length;n<i;n+=r){var o=t.skinWeights[n],a=r>1?t.skinWeights[n+1]:0,s=r>2?t.skinWeights[n+2]:0,c=r>3?t.skinWeights[n+3]:0;e.skinWeights.push(new Ve(o,a,s,c))}if(t.skinIndices)for(n=0,i=t.skinIndices.length;n<i;n+=r){var h=t.skinIndices[n],l=r>1?t.skinIndices[n+1]:0,u=r>2?t.skinIndices[n+2]:0,p=r>3?t.skinIndices[n+3]:0;e.skinIndices.push(new Ve(h,l,u,p))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}(t,r),function(t,e){var r=t.scale;if(void 0!==t.morphTargets)for(var n=0,i=t.morphTargets.length;n<i;n++){e.morphTargets[n]={},e.morphTargets[n].name=t.morphTargets[n].name,e.morphTargets[n].vertices=[];for(var o=e.morphTargets[n].vertices,a=t.morphTargets[n].vertices,s=0,c=a.length;s<c;s+=3){var h=new Fe;h.x=a[s]*r,h.y=a[s+1]*r,h.z=a[s+2]*r,o.push(h)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var l=e.faces,u=t.morphColors[0].colors;for(n=0,i=l.length;n<i;n++)l[n].color.fromArray(u,3*n)}}(t,r),function(t,e){var r=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var i=0;i<n.length;i++){var o=Fh.parseAnimation(n[i],e.bones);o&&r.push(o)}if(e.morphTargets){var a=Fh.CreateClipsFromMorphTargetSequences(e.morphTargets,10);r=r.concat(a)}r.length>0&&(e.animations=r)}(t,r),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:r}:{geometry:r,materials:Vh.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}()}),Object.assign(Wh.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new Ic(i.manager).load(t,function(r){var o=null;try{o=JSON.parse(r)}catch(e){return void 0!==n&&n(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.")},r,n)},setTexturePath:function(t){return this.texturePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var r=this.parseShape(t.shapes),n=this.parseGeometries(t.geometries,r),i=this.parseImages(t.images,function(){void 0!==e&&e(s)}),o=this.parseTextures(t.textures,i),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,n,a);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var r=0,n=t.length;r<n;r++){var i=(new fh).fromJSON(t[r]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var r={};if(void 0!==t)for(var n=new jh,i=new Gh,o=0,a=t.length;o<a;o++){var s,c=t[o];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new yc[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new yc[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new yc[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new yc[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new yc[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new yc[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new yc[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new yc[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new yc[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new yc[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new yc[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new yc[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var h=[],l=0,u=c.shapes.length;l<u;l++){var p=e[c.shapes[l]];h.push(p)}s=new yc[c.type](h,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(h=[],l=0,u=c.shapes.length;l<u;l++){p=e[c.shapes[l]];h.push(p)}var d=c.options.extrudePath;void 0!==d&&(c.options.extrudePath=(new uh[d.type]).fromJSON(d)),s=new yc[c.type](h,c.options);break;case"BufferGeometry":s=i.parse(c);break;case"Geometry":s=n.parse(c,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),!0===s.isBufferGeometry&&void 0!==c.userData&&(s.userData=c.userData),r[c.uuid]=s}return r},parseMaterials:function(t,e){var r={};if(void 0!==t){var n=new zh;n.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],c=0;c<a.materials.length;c++)s.push(n.parse(a.materials[c]));r[a.uuid]=s}else r[a.uuid]=n.parse(a)}}return r},parseAnimations:function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],i=Fh.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),e.push(i)}return e},parseImages:function(t,e){var r=this,n={};function i(t){return r.manager.itemStart(t),o.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemEnd(t),r.manager.itemError(t)})}if(void 0!==t&&t.length>0){var o=new Uc(new Cc(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var c=t[a],h=c.url;if(Array.isArray(h)){n[c.uuid]=[];for(var l=0,u=h.length;l<u;l++){var p=h[l],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:r.texturePath+p;n[c.uuid].push(i(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.texturePath+c.url;n[c.uuid]=i(d)}}}return n},parseTextures:function(t,e){function r(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var n={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a,s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(e[s.image])?new ro(e[s.image]):new He(e[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=r(s.mapping,qh)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=r(s.wrap[0],Yh),a.wrapT=r(s.wrap[1],Yh)),void 0!==s.format&&(a.format=s.format),void 0!==s.minFilter&&(a.minFilter=r(s.minFilter,Jh)),void 0!==s.magFilter&&(a.magFilter=r(s.magFilter,Jh)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),n[s.uuid]=a}return n},parseObject:function(t,e,r){var n;function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function o(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(r[o])}return e}return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}}switch(t.type){case"Scene":n=new Ba,void 0!==t.background&&Number.isInteger(t.background)&&(n.background=new oi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?n.fog=new Ua(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(n.fog=new Da(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":n=new Ca(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(n.focus=t.focus),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.filmGauge&&(n.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(n.filmOffset=t.filmOffset),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"OrthographicCamera":n=new mi(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"AmbientLight":n=new Mh(t.color,t.intensity);break;case"DirectionalLight":n=new wh(t.color,t.intensity);break;case"PointLight":n=new bh(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":n=new Eh(t.color,t.intensity,t.width,t.height);break;case"SpotLight":n=new xh(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":n=new gh(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(t.geometry),s=o(t.material);n=a.bones&&a.bones.length>0?new ka(a,s):new ji(a,s);break;case"LOD":n=new Ga;break;case"Line":n=new Wa(i(t.geometry),o(t.material),t.mode);break;case"LineLoop":n=new qa(i(t.geometry),o(t.material));break;case"LineSegments":n=new Xa(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":n=new Ja(i(t.geometry),o(t.material));break;case"Sprite":n=new za(o(t.material));break;case"Group":n=new La;break;default:n=new di}if(n.uuid=t.uuid,void 0!==t.name&&(n.name=t.name),void 0!==t.matrix?(n.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(n.matrixAutoUpdate=t.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.rotation&&n.rotation.fromArray(t.rotation),void 0!==t.quaternion&&n.quaternion.fromArray(t.quaternion),void 0!==t.scale&&n.scale.fromArray(t.scale)),void 0!==t.castShadow&&(n.castShadow=t.castShadow),void 0!==t.receiveShadow&&(n.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(n.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(n.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&n.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(n.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.frustumCulled&&(n.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(n.renderOrder=t.renderOrder),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.layers&&(n.layers.mask=t.layers),void 0!==t.children)for(var c=t.children,h=0;h<c.length;h++)n.add(this.parseObject(c[h],e,r));if("LOD"===t.type)for(var l=t.levels,u=0;u<l.length;u++){var p=l[u],d=n.getObjectByProperty("uuid",p.object);void 0!==d&&n.addLevel(d,p.distance)}return n}});var Xh,qh={UVMapping:it,CubeReflectionMapping:ot,CubeRefractionMapping:at,EquirectangularReflectionMapping:st,EquirectangularRefractionMapping:ct,SphericalReflectionMapping:ht,CubeUVReflectionMapping:lt,CubeUVRefractionMapping:ut},Yh={RepeatWrapping:pt,ClampToEdgeWrapping:dt,MirroredRepeatWrapping:ft},Jh={NearestFilter:mt,NearestMipMapNearestFilter:gt,NearestMipMapLinearFilter:vt,LinearFilter:yt,LinearMipMapNearestFilter:xt,LinearMipMapLinearFilter:bt};function Zh(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:Pc,this.options=void 0}function Qh(){this.type="ShapePath",this.color=new oi,this.subPaths=[],this.currentPath=null}function Kh(t){this.type="Font",this.data=t}function $h(t,e,r){for(var n=Array.from?Array.from(t):String(t).split(""),i=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,a=[],s=0,c=0,h=0;h<n.length;h++){var l=n[h];if("\n"===l)s=0,c-=o;else{var u=tl(l,i,s,c,r);s+=u.offsetX,a.push(u.path)}}return a}function tl(t,e,r,n,i){var o=i.glyphs[t]||i.glyphs["?"];if(o){var a,s,c,h,l,u,p,d,f=new Qh;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":a=m[g++]*e+r,s=m[g++]*e+n,f.moveTo(a,s);break;case"l":a=m[g++]*e+r,s=m[g++]*e+n,f.lineTo(a,s);break;case"q":c=m[g++]*e+r,h=m[g++]*e+n,l=m[g++]*e+r,u=m[g++]*e+n,f.quadraticCurveTo(l,u,c,h);break;case"b":c=m[g++]*e+r,h=m[g++]*e+n,l=m[g++]*e+r,u=m[g++]*e+n,p=m[g++]*e+r,d=m[g++]*e+n,f.bezierCurveTo(l,u,p,d,c,h)}}return{offsetX:o.ha*e,path:f}}}function el(t){this.manager=void 0!==t?t:Pc}Zh.prototype={constructor:Zh,setOptions:function(t){return this.options=t,this},load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;fetch(t).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,i.options)}).then(function(r){Lc.add(t,r),e&&e(r),i.manager.itemEnd(t)}).catch(function(e){n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(Qh.prototype,{moveTo:function(t,e){this.currentPath=new dh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,r,n){this.currentPath.quadraticCurveTo(t,e,r,n)},bezierCurveTo:function(t,e,r,n,i,o){this.currentPath.bezierCurveTo(t,e,r,n,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function r(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r],o=new fh;o.curves=i.curves,e.push(o)}return e}function n(t,e){for(var r=e.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=e[i],s=e[o],c=s.x-a.x,h=s.y-a.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(a=e[o],c=-c,s=e[i],h=-h),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var l=h*(t.x-a.x)-c*(t.y-a.y);if(0===l)return!0;if(l<0)continue;n=!n}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return n}var i=qs.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return r(o);var a,s,c,h=[];if(1===o.length)return s=o[0],(c=new fh).curves=s.curves,h.push(c),h;var l=!i(o[0].getPoints());l=t?!l:l;var u,p,d=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(u=(s=o[v]).getPoints()),(a=t?!a:a)?(!l&&f[g]&&g++,f[g]={s:new fh,p:u},f[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:u[0]});if(!f[0])return r(o);if(f.length>1){for(var x=!1,b=[],_=0,w=f.length;_<w;_++)d[_]=[];for(_=0,w=f.length;_<w;_++)for(var M=m[_],E=0;E<M.length;E++){for(var T=M[E],S=!0,A=0;A<f.length;A++)n(T.p,f[A].p)&&(_!==A&&b.push({froms:_,tos:A,hole:E}),S?(S=!1,d[A].push(T)):x=!0);S&&d[_].push(T)}b.length>0&&(x||(m=d))}v=0;for(var R=f.length;v<R;v++){c=f[v].s,h.push(c);for(var L=0,C=(p=m[v]).length;L<C;L++)c.holes.push(p[L].h)}return h}}),Object.assign(Kh.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var r=[],n=$h(t,e,this.data),i=0,o=n.length;i<o;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}}),Object.assign(el.prototype,{load:function(t,e,r,n){var i=this,o=new Ic(this.manager);o.setPath(this.path),o.load(t,function(t){var r;try{r=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(t.substring(65,t.length-2))}var n=i.parse(r);e&&e(n)},r,n)},parse:function(t){return new Kh(t)},setPath:function(t){return this.path=t,this}});var rl={getContext:function(){return void 0===Xh&&(Xh=new(window.AudioContext||window.webkitAudioContext)),Xh},setContext:function(t){Xh=t}};function nl(t){this.manager=void 0!==t?t:Pc}function il(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ca,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ca,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function ol(t,e,r){di.call(this),this.type="CubeCamera";var n=new Ca(90,1,t,e);n.up.set(0,-1,0),n.lookAt(new Fe(1,0,0)),this.add(n);var i=new Ca(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Fe(-1,0,0)),this.add(i);var o=new Ca(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Fe(0,1,0)),this.add(o);var a=new Ca(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new Fe(0,-1,0)),this.add(a);var s=new Ca(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new Fe(0,0,1)),this.add(s);var c=new Ca(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new Fe(0,0,-1)),this.add(c);var h={format:Nt,magFilter:yt,minFilter:yt};this.renderTarget=new je(r,r,h),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,t.render(e,n,r),r.activeCubeFace=1,t.render(e,i,r),r.activeCubeFace=2,t.render(e,o,r),r.activeCubeFace=3,t.render(e,a,r),r.activeCubeFace=4,t.render(e,s,r),r.texture.generateMipmaps=h,r.activeCubeFace=5,t.render(e,c,r),t.setRenderTarget(null)},this.clear=function(t,e,r,n){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,t.setRenderTarget(i),t.clear(e,r,n);t.setRenderTarget(null)}}function al(){di.call(this),this.type="AudioListener",this.context=rl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function sl(t){di.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function cl(t){sl.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function hl(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function ll(t,e,r){this.binding=t,this.valueSize=r;var n,i=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":i=Array,n=this._select;break;default:n=this._lerp}this.buffer=new i(4*r),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(nl.prototype,{load:function(t,e,r,n){var i=new Ic(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){var r=t.slice(0);rl.getContext().decodeAudioData(r,function(t){e(t)})},r,n)}}),Object.assign(il.prototype,{update:function(){var t,e,r,n,i,o,a,s,c=new Ue,h=new Ue;return function(l){if(t!==this||e!==l.focus||r!==l.fov||n!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){t=this,e=l.focus,r=l.fov,n=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var u,p,d=l.projectionMatrix.clone(),f=(s=this.eyeSep/2)*i/e,m=i*Math.tan(Ne.DEG2RAD*r*.5)/a;h.elements[12]=-s,c.elements[12]=s,u=-m*n+f,p=m*n+f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraL.projectionMatrix.copy(d),u=-m*n-f,p=m*n-f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(h),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(c)}}()}),ol.prototype=Object.create(di.prototype),ol.prototype.constructor=ol,al.prototype=Object.assign(Object.create(di.prototype),{constructor:al,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new Fe,e=new Be,r=new Fe,n=new Fe;return function(i){di.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,r),n.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(n.x,this.context.currentTime),o.forwardY.setValueAtTime(n.y,this.context.currentTime),o.forwardZ.setValueAtTime(n.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z,a.x,a.y,a.z))}}()}),sl.prototype=Object.assign(Object.create(di.prototype),{constructor:sl,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),cl.prototype=Object.assign(Object.create(sl.prototype),{constructor:cl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,r){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(){var t=new Fe,e=new Be,r=new Fe,n=new Fe;return function(i){di.prototype.updateMatrixWorld.call(this,i);var o=this.panner;this.matrixWorld.decompose(t,e,r),n.set(0,0,1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z)}}()}),Object.assign(hl.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),r=0;r<e.length;r++)t+=e[r];return t/e.length}}),Object.assign(ll.prototype,{accumulate:function(t,e){var r=this.buffer,n=this.valueSize,i=t*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,r=this.buffer,n=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(r,n,a,1-i,e)}for(var s=e,c=e+e;s!==c;++s)if(r[s]!==r[s+e]){o.setValue(r,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,r=this.valueSize,n=3*r;t.getValue(e,n);for(var i=r,o=n;i!==o;++i)e[i]=e[n+i%r];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)t[e+o]=t[r+o]},_slerp:function(t,e,r,n){Be.slerpFlat(t,e,t,e,t,r,n)},_lerp:function(t,e,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[r+a]*n}}});var ul,pl,dl="\\[\\]\\.:\\/";function fl(t,e,r){var n=r||ml.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function ml(t,e,r){this.path=e,this.parsedPath=r||ml.parseTrackName(e),this.node=ml.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function gl(){this.uuid=Ne.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,r=arguments.length;e!==r;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function vl(t,e,r){this._mixer=t,this._clip=e,this._localRoot=r||null;for(var n=e.tracks,i=n.length,o=new Array(i),a={endingStart:ge,endingEnd:ge},s=0;s!==i;++s){var c=n[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ue,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function yl(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function xl(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function bl(){Oi.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function _l(t,e,r,n){this.data=t,this.itemSize=e,this.offset=r,this.normalized=!0===n}function wl(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ml(t,e,r){wl.call(this,t,e),this.meshPerAttribute=r||1}function El(t,e,r){xi.call(this,t,e),this.meshPerAttribute=r||1}function Tl(t,e,r,n){this.ray=new Hi(t,e),this.near=r||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Sl(t,e){return t.distance-e.distance}function Al(t,e,r,n){if(!1!==t.visible&&(t.raycast(e,r),!0===n))for(var i=t.children,o=0,a=i.length;o<a;o++)Al(i[o],e,r,!0)}function Rl(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ll(t,e,r){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==r?r:0,this}function Cl(t,e,r){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==r?r:0,this}function Pl(t,e){this.min=void 0!==t?t:new De(1/0,1/0),this.max=void 0!==e?e:new De(-1/0,-1/0)}function Ol(t){di.call(this),this.material=t,this.render=function(){}}function Il(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new Oi,h=new Ai(2*a*3,3);c.addAttribute("position",h),Xa.call(this,c,new ja({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Nl(t,e){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var r=new Oi,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.addAttribute("position",new Ai(n,3));var c=new ja({fog:!1});this.cone=new Xa(r,c),this.add(this.cone),this.update()}function Dl(t){var e=[];t&&t.isBone&&e.push(t);for(var r=0;r<t.children.length;r++)e.push.apply(e,Dl(t.children[r]));return e}function Ul(t){for(var e=Dl(t),r=new Oi,n=[],i=[],o=new oi(0,0,1),a=new oi(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.addAttribute("position",new Ai(n,3)),r.addAttribute("color",new Ai(i,3));var h=new ja({vertexColors:x,depthTest:!1,depthWrite:!1,transparent:!0});Xa.call(this,r,h),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Bl(t,e,r){this.light=t,this.light.updateMatrixWorld(),this.color=r;var n=new nc(e,4,2),i=new zi({wireframe:!0,fog:!1});ji.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Fl(t,e){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var r=new ja({fog:!1}),n=new Oi;n.addAttribute("position",new xi(new Float32Array(15),3)),this.line=new Wa(n,r),this.add(this.line),this.update()}function zl(t,e,r){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var n=new ss(e);n.rotateY(.5*Math.PI),this.material=new zi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=x);var i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new xi(o,3)),this.add(new ji(n,this.material)),this.update()}function Gl(t,e,r,n){t=t||10,e=e||10,r=new oi(void 0!==r?r:4473924),n=new oi(void 0!==n?n:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],c=[],h=0,l=0,u=-a;h<=e;h++,u+=o){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);var p=h===i?r:n;p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3}var d=new Oi;d.addAttribute("position",new Ai(s,3)),d.addAttribute("color",new Ai(c,3));var f=new ja({vertexColors:x});Xa.call(this,d,f)}function Hl(t,e,r,n,i,o){t=t||10,e=e||16,r=r||8,n=n||64,i=new oi(void 0!==i?i:4473924),o=new oi(void 0!==o?o:8947848);var a,s,c,h,l,u,p,d=[],f=[];for(h=0;h<=e;h++)c=h/e*(2*Math.PI),a=Math.sin(c)*t,s=Math.cos(c)*t,d.push(0,0,0),d.push(a,0,s),p=1&h?i:o,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(h=0;h<=r;h++)for(p=1&h?i:o,u=t-t/r*h,l=0;l<n;l++)c=l/n*(2*Math.PI),a=Math.sin(c)*u,s=Math.cos(c)*u,d.push(a,0,s),f.push(p.r,p.g,p.b),c=(l+1)/n*(2*Math.PI),a=Math.sin(c)*u,s=Math.cos(c)*u,d.push(a,0,s),f.push(p.r,p.g,p.b);var m=new Oi;m.addAttribute("position",new Ai(d,3)),m.addAttribute("color",new Ai(f,3));var g=new ja({vertexColors:x});Xa.call(this,m,g)}function Vl(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Oi,h=new Ai(2*a*3,3);c.addAttribute("position",h),Xa.call(this,c,new ja({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function kl(t,e,r){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===e&&(e=1);var n=new Oi;n.addAttribute("position",new Ai([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new ja({fog:!1});this.lightPlane=new Wa(n,i),this.add(this.lightPlane),(n=new Oi).addAttribute("position",new Ai([0,0,0,0,0,1],3)),this.targetLine=new Wa(n,i),this.add(this.targetLine),this.update()}function jl(t){var e=new Oi,r=new ja({color:16777215,vertexColors:y}),n=[],i=[],o={},a=new oi(16755200),s=new oi(16711680),c=new oi(43775),h=new oi(16777215),l=new oi(3355443);function u(t,e,r){p(t,r),p(e,r)}function p(t,e){n.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(n.length/3-1)}u("n1","n2",a),u("n2","n4",a),u("n4","n3",a),u("n3","n1",a),u("f1","f2",a),u("f2","f4",a),u("f4","f3",a),u("f3","f1",a),u("n1","f1",a),u("n2","f2",a),u("n3","f3",a),u("n4","f4",a),u("p","n1",s),u("p","n2",s),u("p","n3",s),u("p","n4",s),u("u1","u2",c),u("u2","u3",c),u("u3","u1",c),u("c","t",h),u("p","c",l),u("cn1","cn2",l),u("cn3","cn4",l),u("cf1","cf2",l),u("cf3","cf4",l),e.addAttribute("position",new Ai(n,3)),e.addAttribute("color",new Ai(i,3)),Xa.call(this,e,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Wl(t,e){this.object=t,void 0===e&&(e=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Oi;i.setIndex(new xi(r,1)),i.addAttribute("position",new xi(n,3)),Xa.call(this,i,new ja({color:e})),this.matrixAutoUpdate=!1,this.update()}function Xl(t,e){this.type="Box3Helper",this.box=t;var r=void 0!==e?e:16776960,n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Oi;i.setIndex(new xi(n,1)),i.addAttribute("position",new Ai([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Xa.call(this,i,new ja({color:r})),this.geometry.computeBoundingSphere()}function ql(t,e,r){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var n=void 0!==r?r:16776960,i=new Oi;i.addAttribute("position",new Ai([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Wa.call(this,i,new ja({color:n}));var o=new Oi;o.addAttribute("position",new Ai([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new ji(o,new zi({color:n,opacity:.2,transparent:!0,depthWrite:!1})))}function Yl(t,e,r,n,i,o){di.call(this),void 0===n&&(n=16776960),void 0===r&&(r=1),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===ul&&((ul=new Oi).addAttribute("position",new Ai([0,0,0,0,1,0],3)),(pl=new dc(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Wa(ul,new ja({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ji(pl,new zi({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(r,i,o)}function Jl(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],r=new Oi;r.addAttribute("position",new Ai(e,3)),r.addAttribute("color",new Ai([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var n=new ja({vertexColors:x});Xa.call(this,r,n)}function Zl(t,e,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new gi(t,e,r,i,o,a)}Object.assign(fl.prototype,{getValue:function(t,e){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].unbind()}}),Object.assign(ml,{Composite:fl,create:function(t,e,r){return t&&t.isAnimationObjectGroup?new ml.Composite(t,e,r):new ml(t,e,r)},sanitizeNodeName:function(){var t=new RegExp("["+dl+"]","g");return function(e){return e.replace(/\s/g,"_").replace(t,"")}}(),parseTrackName:function(){var t="[^"+dl+"]",e="[^"+dl.replace("\\.","")+"]",r=/((?:WC+[\/:])*)/.source.replace("WC",t),n=/(WCOD+)?/.source.replace("WCOD",e),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),a=new RegExp("^"+r+n+i+o+"$"),s=["material","materials","bones"];return function(t){var e=a.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var r={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==s.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var r=t.skeleton.getBoneByName(e);if(void 0!==r)return r}if(t.children){var n=function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.name===e||i.uuid===e)return i;var o=n(i.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(ml.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)t[e++]=r[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,r=e.objectName,n=e.propertyName,i=e.propertyIndex;if(t||(t=ml.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=e.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[n];if(void 0!==s){var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var h=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}else{var l=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+n+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(ml.prototype,{_getValue_unbound:ml.prototype.getValue,_setValue_unbound:ml.prototype.setValue}),Object.assign(gl.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,h=0,l=arguments.length;h!==l;++h){var u=arguments[h],p=u.uuid,d=n[p];if(void 0===d){d=e++,n[p]=d,t.push(u);for(var f=0,m=s;f!==m;++f)a[f].push(new ml(u,i[f],o[f]))}else if(d<r){c=t[d];var g=--r,v=t[g];n[v.uuid]=d,t[d]=v,n[p]=g,t[g]=u;for(f=0,m=s;f!==m;++f){var y=a[f],x=y[g],b=y[d];y[d]=x,void 0===b&&(b=new ml(u,i[f],o[f])),y[g]=b}}else t[d]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,i=n.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,h=r[c];if(void 0!==h&&h>=e){var l=e++,u=t[l];r[u.uuid]=h,t[h]=u,r[c]=l,t[l]=s;for(var p=0,d=i;p!==d;++p){var f=n[p],m=f[l],g=f[h];f[h]=m,f[l]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a].uuid,h=n[c];if(void 0!==h)if(delete n[c],h<r){var l=--r,u=t[l],p=t[v=--e];n[u.uuid]=h,t[h]=u,n[p.uuid]=l,t[l]=p,t.pop();for(var d=0,f=o;d!==f;++d){var m=(y=i[d])[l],g=y[v];y[h]=m,y[l]=g,y.pop()}}else{var v;n[(p=t[v=--e]).uuid]=h,t[h]=p,t.pop();for(d=0,f=o;d!==f;++d){var y;(y=i[d])[h]=y[v],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var r=this._bindingsIndicesByPath,n=r[t],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,h=this.nCachedObjects_,l=new Array(c);n=i.length,r[t]=n,o.push(t),a.push(e),i.push(l);for(var u=h,p=s.length;u!==p;++u){var d=s[u];l[u]=new ml(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,r=e[t];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Object.assign(vl.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,r){if(t.fadeOut(e),this.fadeIn(e),r){var n=this._clip.duration,i=t._clip.duration,o=i/n,a=n/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,r){return t.crossFadeFrom(this,e,r)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+r,c[0]=t/a,c[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var o=(t-i)*r;if(o<0||0===r)return;this._startTime=null,e=r*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,h=this._propertyBindings,l=0,u=c.length;l!==u;++l)c[l].evaluate(a),h[l].accumulate(n,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(t)[0];e*=n,t>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r)e*=r.evaluate(t)[0],t>r.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var r=this._clip.duration,n=this.loop,i=this._loopCount;if(n===le){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=r)e=r;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=n===pe;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=r||e<0){var a=Math.floor(e/r);e-=r*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,r-e}return this.time=e,e},_setEndings:function(t,e,r){var n=this._interpolantSettings;r?(n.endingStart=ve,n.endingEnd=ve):(n.endingStart=t?this.zeroSlopeAtStart?ve:ge:ye,n.endingEnd=e?this.zeroSlopeAtEnd?ve:ge:ye)},_scheduleFading:function(t,e,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=r,this}}),yl.prototype=Object.assign(Object.create(t.prototype),{constructor:yl,_bindAction:function(t,e){var r=t._localRoot||this._root,n=t._clip.tracks,i=n.length,o=t._propertyBindings,a=t._interpolants,s=r.uuid,c=this._bindingsByRootAndName,h=c[s];void 0===h&&(h={},c[s]=h);for(var l=0;l!==i;++l){var u=n[l],p=u.name,d=h[p];if(void 0!==d)o[l]=d;else{if(void 0!==(d=o[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;++(d=new ll(ml.create(r,p,f),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,r=t._clip.uuid,n=this._actionsByClip[r];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,r,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,r){var n=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=n.length,n.push(t),o.actionByRoot[r]=t},_removeInactiveAction:function(t){var e=this._actions,r=e[e.length-1],n=t._cacheIndex;r._cacheIndex=n,e[n]=r,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],h=t._byClipCacheIndex;c._byClipCacheIndex=h,s[h]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,r=t._cacheIndex,n=this._nActiveActions++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackAction:function(t){var e=this._actions,r=t._cacheIndex,n=--this._nActiveActions,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_addInactiveBinding:function(t,e,r){var n=this._bindingsByRootAndName,i=n[e],o=this._bindings;void 0===i&&(i={},n[e]=i),i[r]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,r=t.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[i];t:{for(var h in a)break t;delete o[n]}},_lendBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=this._nActiveBindings++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=--this._nActiveBindings,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,r=t[e];return void 0===r&&((r=new Ih(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=r),r},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,r=t.__cacheIndex,n=--this._nActiveControlInterpolants,i=e[n];t.__cacheIndex=n,e[n]=t,i.__cacheIndex=r,e[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Fh.findByName(r,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[n];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var h=new vl(this,i,e);return this._bindAction(h,s),this._addInactiveAction(h,o,n),h},existingAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Fh.findByName(r,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[n]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,r=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==n;++i)r[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,r=this._nActiveActions,n=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==r;++a){e[a]._update(n,t,i,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,r=t.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var h=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=h,e[h]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[r]}},uncacheRoot:function(t){var e=t.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var r=this.existingAction(t,e);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),xl.prototype.clone=function(){return new xl(void 0===this.value.clone?this.value:this.value.clone())},bl.prototype=Object.assign(Object.create(Oi.prototype),{constructor:bl,isInstancedBufferGeometry:!0,copy:function(t){return Oi.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(_l.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(_l.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this}}),Object.defineProperty(wl.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(wl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.stride,r*=e.stride;for(var n=0,i=this.stride;n<i;n++)this.array[t+n]=e.array[r+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Ml.prototype=Object.assign(Object.create(wl.prototype),{constructor:Ml,isInstancedInterleavedBuffer:!0,copy:function(t){return wl.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),El.prototype=Object.assign(Object.create(xi.prototype),{constructor:El,isInstancedBufferAttribute:!0,copy:function(t){return xi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Tl.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,r){var n=r||[];return Al(t,this,n,e),n.sort(Sl),n},intersectObjects:function(t,e,r){var n=r||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,o=t.length;i<o;i++)Al(t[i],this,n,e);return n.sort(Sl),n}}),Object.assign(Rl.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Ll.prototype,{set:function(t,e,r){return this.radius=t,this.phi=e,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ne.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Cl.prototype,{set:function(t,e,r){return this.radius=t,this.theta=e,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(Pl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new De;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new De),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new De),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new De;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Ol.prototype=Object.create(di.prototype),Ol.prototype.constructor=Ol,Ol.prototype.isImmediateRenderObject=!0,Il.prototype=Object.create(Xa.prototype),Il.prototype.constructor=Il,Il.prototype.update=function(){var t=new Fe,e=new Fe,r=new ze;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,c=a.faces,h=0,l=0,u=c.length;l<u;l++)for(var p=c[l],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[n[d]]],g=p.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(h,t.x,t.y,t.z),h+=1,o.setXYZ(h,e.x,e.y,e.z),h+=1}else if(a&&a.isBufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(h=0,d=0,f=v.count;d<f;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(h,t.x,t.y,t.z),h+=1,o.setXYZ(h,e.x,e.y,e.z),h+=1}o.needsUpdate=!0}}(),Nl.prototype=Object.create(di.prototype),Nl.prototype.constructor=Nl,Nl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Nl.prototype.update=function(){var t=new Fe,e=new Fe;return function(){this.light.updateMatrixWorld();var r=this.light.distance?this.light.distance:1e3,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Ul.prototype=Object.create(Xa.prototype),Ul.prototype.constructor=Ul,Ul.prototype.updateMatrixWorld=function(){var t=new Fe,e=new Ue,r=new Ue;return function(n){var i=this.bones,o=this.geometry,a=o.getAttribute("position");r.getInverse(this.root.matrixWorld);for(var s=0,c=0;s<i.length;s++){var h=i[s];h.parent&&h.parent.isBone&&(e.multiplyMatrices(r,h.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(c,t.x,t.y,t.z),e.multiplyMatrices(r,h.parent.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(c+1,t.x,t.y,t.z),c+=2)}o.getAttribute("position").needsUpdate=!0,di.prototype.updateMatrixWorld.call(this,n)}}(),Bl.prototype=Object.create(ji.prototype),Bl.prototype.constructor=Bl,Bl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Bl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Fl.prototype=Object.create(di.prototype),Fl.prototype.constructor=Fl,Fl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Fl.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,r=this.line.geometry.attributes.position,n=r.array;n[0]=t,n[1]=-e,n[2]=0,n[3]=t,n[4]=e,n[5]=0,n[6]=-t,n[7]=e,n[8]=0,n[9]=-t,n[10]=-e,n[11]=0,n[12]=t,n[13]=-e,n[14]=0,r.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},zl.prototype=Object.create(di.prototype),zl.prototype.constructor=zl,zl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},zl.prototype.update=function(){var t=new Fe,e=new oi,r=new oi;return function(){var n=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=n.geometry.getAttribute("color");e.copy(this.light.color),r.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:r;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}n.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Gl.prototype=Object.create(Xa.prototype),Gl.prototype.constructor=Gl,Hl.prototype=Object.create(Xa.prototype),Hl.prototype.constructor=Hl,Vl.prototype=Object.create(Xa.prototype),Vl.prototype.constructor=Vl,Vl.prototype.update=function(){var t=new Fe,e=new Fe,r=new ze;return function(){this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,c=0,h=0,l=s.length;h<l;h++){var u=s[h],p=u.normal;t.copy(a[u.a]).add(a[u.b]).add(a[u.c]).divideScalar(3).applyMatrix4(n),e.copy(p).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),i.setXYZ(c,t.x,t.y,t.z),c+=1,i.setXYZ(c,e.x,e.y,e.z),c+=1}i.needsUpdate=!0}}(),kl.prototype=Object.create(di.prototype),kl.prototype.constructor=kl,kl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},kl.prototype.update=function(){var t=new Fe,e=new Fe,r=new Fe;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(e,t),this.lightPlane.lookAt(r),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(r),this.targetLine.scale.z=r.length()}}(),jl.prototype=Object.create(Xa.prototype),jl.prototype.constructor=jl,jl.prototype.update=function(){var t,e,r=new Fe,n=new fi;function i(i,o,a,s){r.set(o,a,s).unproject(n);var c=e[i];if(void 0!==c)for(var h=t.getAttribute("position"),l=0,u=c.length;l<u;l++)h.setXYZ(c[l],r.x,r.y,r.z)}return function(){t=this.geometry,e=this.pointMap;n.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Wl.prototype=Object.create(Xa.prototype),Wl.prototype.constructor=Wl,Wl.prototype.update=function(){var t=new Xe;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var r=t.min,n=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=r.x,o[4]=n.y,o[5]=n.z,o[6]=r.x,o[7]=r.y,o[8]=n.z,o[9]=n.x,o[10]=r.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=r.z,o[15]=r.x,o[16]=n.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=n.x,o[22]=r.y,o[23]=r.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Wl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Xl.prototype=Object.create(Xa.prototype),Xl.prototype.constructor=Xl,Xl.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),di.prototype.updateMatrixWorld.call(this,t))},ql.prototype=Object.create(Wa.prototype),ql.prototype.constructor=ql,ql.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?d:p,this.lookAt(this.plane.normal),di.prototype.updateMatrixWorld.call(this,t)},Yl.prototype=Object.create(di.prototype),Yl.prototype.constructor=Yl,Yl.prototype.setDirection=function(){var t,e=new Fe;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=Math.acos(r.y),this.quaternion.setFromAxisAngle(e,t))}}(),Yl.prototype.setLength=function(t,e,r){void 0===e&&(e=.2*t),void 0===r&&(r=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()},Yl.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Jl.prototype=Object.create(Xa.prototype),Jl.prototype.constructor=Jl;var Ql=0,Kl=1;function $l(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function tu(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function eu(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ja(t,e)}function ru(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new za(t)}function nu(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ja(t,e)}function iu(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ya(t)}function ou(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ya(t)}function au(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ya(t)}function su(t,e,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Fe(t,e,r)}function cu(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new xi(t,e).setDynamic(!0)}function hu(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new bi(t,e)}function lu(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new _i(t,e)}function uu(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new wi(t,e)}function pu(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Mi(t,e)}function du(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ei(t,e)}function fu(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ti(t,e)}function mu(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Si(t,e)}function gu(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ai(t,e)}function vu(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ri(t,e)}function yu(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),qc.call(this,t),this.type="catmullrom",this.closed=!0}function xu(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),qc.call(this,t),this.type="catmullrom"}function bu(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),qc.call(this,t),this.type="catmullrom"}function _u(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Jl(t)}function wu(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Wl(t,e)}function Mu(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Xa(new uc(t.geometry),new ja({color:void 0!==e?e:16777215}))}function Eu(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Xa(new $a(t.geometry),new ja({color:void 0!==e?e:16777215}))}function Tu(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ic(t)}function Su(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Dc(t)}zc.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(zc.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(ph.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new yi,r=0,n=t.length;r<n;r++){var i=t[r];e.vertices.push(new Fe(i.x,i.y,i.z||0))}return e}}),Object.assign(dh.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),yu.prototype=Object.create(qc.prototype),xu.prototype=Object.create(qc.prototype),bu.prototype=Object.create(qc.prototype),Object.assign(bu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Gl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Ul.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Vh.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),kh.extractUrlBase(t)}}),Object.assign(Pl.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Xe.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Vi.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Ne,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ne.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ne.ceilPowerOfTwo(t)}}),Object.assign(ze.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ue.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Fe),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,n,r,i,o)}}),Ye.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Be.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Hi.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(ki.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(ki,{barycoordFromPoint:function(t,e,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ki.getBarycoord(t,e,r,n,i)},normal:function(t,e,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ki.getNormal(t,e,r,n)}}),Object.assign(fh.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Zs(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new cc(this,t)}}),Object.assign(De.prototype,{fromAttribute:function(t,e,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Fe.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ve.prototype,{fromAttribute:function(t,e,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(di.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(di.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ga.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ha.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(zc.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ca.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(mh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(xi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Oi.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Oi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Qs.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(xl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Fi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new oi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===m}}}),Object.defineProperties(Mc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Gi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Na.prototype,{animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Na.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ma.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ke.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Oa.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),sl.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new nl).load(t,function(t){e.setBuffer(t)}),this},hl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ol.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Au={merge:function(t,e,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,r)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Ru={crossOrigin:void 0,loadTexture:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Fc;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Bc;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};function Lu(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Cu(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}var Pu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Ou(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}exports.WebGLRenderTargetCube=je,exports.WebGLRenderTarget=ke,exports.WebGLRenderer=Na,exports.ShaderLib=si,exports.UniformsLib=ai,exports.UniformsUtils=ni,exports.ShaderChunk=ri,exports.FogExp2=Da,exports.Fog=Ua,exports.Scene=Ba,exports.Sprite=za,exports.LOD=Ga,exports.SkinnedMesh=ka,exports.Skeleton=Ha,exports.Bone=Va,exports.Mesh=ji,exports.LineSegments=Xa,exports.LineLoop=qa,exports.Line=Wa,exports.Points=Ja,exports.Group=La,exports.VideoTexture=Za,exports.DataTexture=We,exports.CompressedTexture=Qa,exports.CubeTexture=ro,exports.CanvasTexture=Ea,exports.DepthTexture=Ka,exports.Texture=He,exports.CompressedTextureLoader=Nc,exports.DataTextureLoader=Dc,exports.CubeTextureLoader=Bc,exports.TextureLoader=Fc,exports.ObjectLoader=Wh,exports.MaterialLoader=zh,exports.BufferGeometryLoader=Gh,exports.DefaultLoadingManager=Pc,exports.LoadingManager=Cc,exports.JSONLoader=jh,exports.ImageLoader=Uc,exports.ImageBitmapLoader=Zh,exports.FontLoader=el,exports.FileLoader=Ic,exports.Loader=Vh,exports.LoaderUtils=kh,exports.Cache=Lc,exports.AudioLoader=nl,exports.SpotLightShadow=yh,exports.SpotLight=xh,exports.PointLight=bh,exports.RectAreaLight=Eh,exports.HemisphereLight=gh,exports.DirectionalLightShadow=_h,exports.DirectionalLight=wh,exports.AmbientLight=Mh,exports.LightShadow=vh,exports.Light=mh,exports.StereoCamera=il,exports.PerspectiveCamera=Ca,exports.OrthographicCamera=mi,exports.CubeCamera=ol,exports.ArrayCamera=Pa,exports.Camera=fi,exports.AudioListener=al,exports.PositionalAudio=cl,exports.AudioContext=rl,exports.AudioAnalyser=hl,exports.Audio=sl,exports.VectorKeyframeTrack=Bh,exports.StringKeyframeTrack=Th,exports.QuaternionKeyframeTrack=Lh,exports.NumberKeyframeTrack=Ph,exports.ColorKeyframeTrack=Ch,exports.BooleanKeyframeTrack=Sh,exports.PropertyMixer=ll,exports.PropertyBinding=ml,exports.KeyframeTrack=Uh,exports.AnimationUtils=Dh,exports.AnimationObjectGroup=gl,exports.AnimationMixer=yl,exports.AnimationClip=Fh,exports.Uniform=xl,exports.InstancedBufferGeometry=bl,exports.BufferGeometry=Oi,exports.Geometry=yi,exports.InterleavedBufferAttribute=_l,exports.InstancedInterleavedBuffer=Ml,exports.InterleavedBuffer=wl,exports.InstancedBufferAttribute=El,exports.Face3=gi,exports.Object3D=di,exports.Raycaster=Tl,exports.Layers=ui,exports.EventDispatcher=t,exports.Clock=Rl,exports.QuaternionLinearInterpolant=Rh,exports.LinearInterpolant=Ih,exports.DiscreteInterpolant=Nh,exports.CubicInterpolant=Oh,exports.Interpolant=Ah,exports.Triangle=ki,exports.Math=Ne,exports.Spherical=Ll,exports.Cylindrical=Cl,exports.Plane=Ye,exports.Frustum=Je,exports.Sphere=qe,exports.Ray=Hi,exports.Matrix4=Ue,exports.Matrix3=ze,exports.Box3=Xe,exports.Box2=Pl,exports.Line3=Vi,exports.Euler=li,exports.Vector4=Ve,exports.Vector3=Fe,exports.Vector2=De,exports.Quaternion=Be,exports.Color=oi,exports.ImmediateRenderObject=Ol,exports.VertexNormalsHelper=Il,exports.SpotLightHelper=Nl,exports.SkeletonHelper=Ul,exports.PointLightHelper=Bl,exports.RectAreaLightHelper=Fl,exports.HemisphereLightHelper=zl,exports.GridHelper=Gl,exports.PolarGridHelper=Hl,exports.FaceNormalsHelper=Vl,exports.DirectionalLightHelper=kl,exports.CameraHelper=jl,exports.BoxHelper=Wl,exports.Box3Helper=Xl,exports.PlaneHelper=ql,exports.ArrowHelper=Yl,exports.AxesHelper=Jl,exports.Shape=fh,exports.Path=dh,exports.ShapePath=Qh,exports.Font=Kh,exports.CurvePath=ph,exports.Curve=zc,exports.ShapeUtils=qs,exports.WebGLUtils=Ra,exports.WireframeGeometry=$a,exports.ParametricGeometry=ts,exports.ParametricBufferGeometry=es,exports.TetrahedronGeometry=is,exports.TetrahedronBufferGeometry=os,exports.OctahedronGeometry=as,exports.OctahedronBufferGeometry=ss,exports.IcosahedronGeometry=cs,exports.IcosahedronBufferGeometry=hs,exports.DodecahedronGeometry=ls,exports.DodecahedronBufferGeometry=us,exports.PolyhedronGeometry=rs,exports.PolyhedronBufferGeometry=ns,exports.TubeGeometry=ps,exports.TubeBufferGeometry=ds,exports.TorusKnotGeometry=fs,exports.TorusKnotBufferGeometry=ms,exports.TorusGeometry=gs,exports.TorusBufferGeometry=vs,exports.TextGeometry=tc,exports.TextBufferGeometry=ec,exports.SphereGeometry=rc,exports.SphereBufferGeometry=nc,exports.RingGeometry=ic,exports.RingBufferGeometry=oc,exports.PlaneGeometry=Di,exports.PlaneBufferGeometry=Ui,exports.LatheGeometry=ac,exports.LatheBufferGeometry=sc,exports.ShapeGeometry=cc,exports.ShapeBufferGeometry=hc,exports.ExtrudeGeometry=Zs,exports.ExtrudeBufferGeometry=Qs,exports.EdgesGeometry=uc,exports.ConeGeometry=fc,exports.ConeBufferGeometry=mc,exports.CylinderGeometry=pc,exports.CylinderBufferGeometry=dc,exports.CircleGeometry=gc,exports.CircleBufferGeometry=vc,exports.BoxGeometry=Ii,exports.BoxBufferGeometry=Ni,exports.ShadowMaterial=xc,exports.SpriteMaterial=Fa,exports.RawShaderMaterial=bc,exports.ShaderMaterial=Gi,exports.PointsMaterial=Ya,exports.MeshPhysicalMaterial=wc,exports.MeshStandardMaterial=_c,exports.MeshPhongMaterial=Mc,exports.MeshToonMaterial=Ec,exports.MeshNormalMaterial=Tc,exports.MeshLambertMaterial=Sc,exports.MeshDepthMaterial=_a,exports.MeshDistanceMaterial=wa,exports.MeshBasicMaterial=zi,exports.LineDashedMaterial=Ac,exports.LineBasicMaterial=ja,exports.Material=Fi,exports.Float64BufferAttribute=Ri,exports.Float32BufferAttribute=Ai,exports.Uint32BufferAttribute=Si,exports.Int32BufferAttribute=Ti,exports.Uint16BufferAttribute=Ei,exports.Int16BufferAttribute=Mi,exports.Uint8ClampedBufferAttribute=wi,exports.Uint8BufferAttribute=_i,exports.Int8BufferAttribute=bi,exports.BufferAttribute=xi,exports.ArcCurve=Hc,exports.CatmullRomCurve3=qc,exports.CubicBezierCurve=ih,exports.CubicBezierCurve3=oh,exports.EllipseCurve=Gc,exports.LineCurve=ah,exports.LineCurve3=sh,exports.QuadraticBezierCurve=ch,exports.QuadraticBezierCurve3=hh,exports.SplineCurve=lh,exports.REVISION=e,exports.MOUSE=r,exports.CullFaceNone=n,exports.CullFaceBack=i,exports.CullFaceFront=o,exports.CullFaceFrontBack=a,exports.FrontFaceDirectionCW=s,exports.FrontFaceDirectionCCW=c,exports.BasicShadowMap=h,exports.PCFShadowMap=l,exports.PCFSoftShadowMap=u,exports.FrontSide=p,exports.BackSide=d,exports.DoubleSide=f,exports.FlatShading=m,exports.SmoothShading=g,exports.NoColors=v,exports.FaceColors=y,exports.VertexColors=x,exports.NoBlending=b,exports.NormalBlending=_,exports.AdditiveBlending=w,exports.SubtractiveBlending=M,exports.MultiplyBlending=E,exports.CustomBlending=T,exports.AddEquation=S,exports.SubtractEquation=A,exports.ReverseSubtractEquation=R,exports.MinEquation=L,exports.MaxEquation=C,exports.ZeroFactor=P,exports.OneFactor=O,exports.SrcColorFactor=I,exports.OneMinusSrcColorFactor=N,exports.SrcAlphaFactor=D,exports.OneMinusSrcAlphaFactor=U,exports.DstAlphaFactor=B,exports.OneMinusDstAlphaFactor=F,exports.DstColorFactor=z,exports.OneMinusDstColorFactor=G,exports.SrcAlphaSaturateFactor=H,exports.NeverDepth=V,exports.AlwaysDepth=k,exports.LessDepth=j,exports.LessEqualDepth=W,exports.EqualDepth=X,exports.GreaterEqualDepth=q,exports.GreaterDepth=Y,exports.NotEqualDepth=J,exports.MultiplyOperation=Z,exports.MixOperation=Q,exports.AddOperation=K,exports.NoToneMapping=$,exports.LinearToneMapping=tt,exports.ReinhardToneMapping=et,exports.Uncharted2ToneMapping=rt,exports.CineonToneMapping=nt,exports.UVMapping=it,exports.CubeReflectionMapping=ot,exports.CubeRefractionMapping=at,exports.EquirectangularReflectionMapping=st,exports.EquirectangularRefractionMapping=ct,exports.SphericalReflectionMapping=ht,exports.CubeUVReflectionMapping=lt,exports.CubeUVRefractionMapping=ut,exports.RepeatWrapping=pt,exports.ClampToEdgeWrapping=dt,exports.MirroredRepeatWrapping=ft,exports.NearestFilter=mt,exports.NearestMipMapNearestFilter=gt,exports.NearestMipMapLinearFilter=vt,exports.LinearFilter=yt,exports.LinearMipMapNearestFilter=xt,exports.LinearMipMapLinearFilter=bt,exports.UnsignedByteType=_t,exports.ByteType=wt,exports.ShortType=Mt,exports.UnsignedShortType=Et,exports.IntType=Tt,exports.UnsignedIntType=St,exports.FloatType=At,exports.HalfFloatType=Rt,exports.UnsignedShort4444Type=Lt,exports.UnsignedShort5551Type=Ct,exports.UnsignedShort565Type=Pt,exports.UnsignedInt248Type=Ot,exports.AlphaFormat=It,exports.RGBFormat=Nt,exports.RGBAFormat=Dt,exports.LuminanceFormat=Ut,exports.LuminanceAlphaFormat=Bt,exports.RGBEFormat=Ft,exports.DepthFormat=zt,exports.DepthStencilFormat=Gt,exports.RGB_S3TC_DXT1_Format=Ht,exports.RGBA_S3TC_DXT1_Format=Vt,exports.RGBA_S3TC_DXT3_Format=kt,exports.RGBA_S3TC_DXT5_Format=jt,exports.RGB_PVRTC_4BPPV1_Format=Wt,exports.RGB_PVRTC_2BPPV1_Format=Xt,exports.RGBA_PVRTC_4BPPV1_Format=qt,exports.RGBA_PVRTC_2BPPV1_Format=Yt,exports.RGB_ETC1_Format=Jt,exports.RGBA_ASTC_4x4_Format=Zt,exports.RGBA_ASTC_5x4_Format=Qt,exports.RGBA_ASTC_5x5_Format=Kt,exports.RGBA_ASTC_6x5_Format=$t,exports.RGBA_ASTC_6x6_Format=te,exports.RGBA_ASTC_8x5_Format=ee,exports.RGBA_ASTC_8x6_Format=re,exports.RGBA_ASTC_8x8_Format=ne,exports.RGBA_ASTC_10x5_Format=ie,exports.RGBA_ASTC_10x6_Format=oe,exports.RGBA_ASTC_10x8_Format=ae,exports.RGBA_ASTC_10x10_Format=se,exports.RGBA_ASTC_12x10_Format=ce,exports.RGBA_ASTC_12x12_Format=he,exports.LoopOnce=le,exports.LoopRepeat=ue,exports.LoopPingPong=pe,exports.InterpolateDiscrete=de,exports.InterpolateLinear=fe,exports.InterpolateSmooth=me,exports.ZeroCurvatureEnding=ge,exports.ZeroSlopeEnding=ve,exports.WrapAroundEnding=ye,exports.TrianglesDrawMode=xe,exports.TriangleStripDrawMode=be,exports.TriangleFanDrawMode=_e,exports.LinearEncoding=we,exports.sRGBEncoding=Me,exports.GammaEncoding=Ee,exports.RGBEEncoding=Te,exports.LogLuvEncoding=Se,exports.RGBM7Encoding=Ae,exports.RGBM16Encoding=Re,exports.RGBDEncoding=Le,exports.BasicDepthPacking=Ce,exports.RGBADepthPacking=Pe,exports.TangentSpaceNormalMap=Oe,exports.ObjectSpaceNormalMap=Ie,exports.CubeGeometry=Ii,exports.Face4=Zl,exports.LineStrip=Ql,exports.LinePieces=Kl,exports.MeshFaceMaterial=$l,exports.MultiMaterial=tu,exports.PointCloud=eu,exports.Particle=ru,exports.ParticleSystem=nu,exports.PointCloudMaterial=iu,exports.ParticleBasicMaterial=ou,exports.ParticleSystemMaterial=au,exports.Vertex=su,exports.DynamicBufferAttribute=cu,exports.Int8Attribute=hu,exports.Uint8Attribute=lu,exports.Uint8ClampedAttribute=uu,exports.Int16Attribute=pu,exports.Uint16Attribute=du,exports.Int32Attribute=fu,exports.Uint32Attribute=mu,exports.Float32Attribute=gu,exports.Float64Attribute=vu,exports.ClosedSplineCurve3=yu,exports.SplineCurve3=xu,exports.Spline=bu,exports.AxisHelper=_u,exports.BoundingBoxHelper=wu,exports.EdgesHelper=Mu,exports.WireframeHelper=Eu,exports.XHRLoader=Tu,exports.BinaryTextureLoader=Su,exports.GeometryUtils=Au,exports.ImageUtils=Ru,exports.Projector=Lu,exports.CanvasRenderer=Cu,exports.SceneUtils=Pu,exports.LensFlare=Ou;
},{}],"GstH":[function(require,module,exports) {
var e=require("three"),t=function(){function t(t){this.manager=void 0!==t?t:e.DefaultLoadingManager,this.dracoLoader=null}function r(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}t.prototype={constructor:t,crossOrigin:"anonymous",load:function(t,r,a,n){var i=this,s=void 0!==this.path?this.path:e.LoaderUtils.extractUrlBase(t),o=new e.FileLoader(i.manager);o.setResponseType("arraybuffer"),o.load(t,function(e){try{i.parse(e,s,r,n)}catch(e){if(void 0===n)throw e;n(e)}},a,n)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(t,r,l,u){var h,f={};if("string"==typeof t)h=t;else if(e.LoaderUtils.decodeText(new Uint8Array(t,0,4))===o){try{f[a.KHR_BINARY_GLTF]=new p(t)}catch(e){return void(u&&u(e))}h=f[a.KHR_BINARY_GLTF].content}else h=e.LoaderUtils.decodeText(new Uint8Array(t));var m=JSON.parse(h);if(void 0===m.asset||m.asset.version[0]<2)u&&u(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(m.extensionsUsed)for(var v=0;v<m.extensionsUsed.length;++v){var g=m.extensionsUsed[v],M=m.extensionsRequired||[];switch(g){case a.KHR_LIGHTS_PUNCTUAL:f[g]=new i(m);break;case a.KHR_MATERIALS_UNLIT:f[g]=new s(m);break;case a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:f[g]=new d;break;case a.KHR_DRACO_MESH_COMPRESSION:f[g]=new c(m,this.dracoLoader);break;case a.MSFT_TEXTURE_DDS:f[a.MSFT_TEXTURE_DDS]=new n;break;default:M.indexOf(g)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}var S=new B(m,f,{path:r||this.path||"",crossOrigin:this.crossOrigin,manager:this.manager});S.parse(function(e,t,r,a,n){var i={scene:e,scenes:t,cameras:r,animations:a,asset:n.asset,parser:S,userData:{}};F(f,i,n),l(i)},u)}}};var a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(){if(!e.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=a.MSFT_TEXTURE_DDS,this.ddsLoader=new e.DDSLoader}function i(t){this.name=a.KHR_LIGHTS_PUNCTUAL,this.lights=[];for(var r=(t.extensions&&t.extensions[a.KHR_LIGHTS_PUNCTUAL]||{}).lights||[],n=0;n<r.length;n++){var i,s=r[n],o=new e.Color(16777215);void 0!==s.color&&o.fromArray(s.color);var l=void 0!==s.range?s.range:0;switch(s.type){case"directional":(i=new e.DirectionalLight(o)).target.position.set(0,0,1),i.add(i.target);break;case"point":(i=new e.PointLight(o)).distance=l;break;case"spot":(i=new e.SpotLight(o)).distance=l,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,i.angle=s.spot.outerConeAngle,i.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,i.target.position.set(0,0,1),i.add(i.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+s.type+'".')}i.decay=2,void 0!==s.intensity&&(i.intensity=s.intensity),i.name=s.name||"light_"+n,this.lights.push(i)}}function s(e){this.name=a.KHR_MATERIALS_UNLIT}s.prototype.getMaterialType=function(t){return e.MeshBasicMaterial},s.prototype.extendParams=function(t,r,a){var n=[];t.color=new e.Color(1,1,1),t.opacity=1;var i=r.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var s=i.baseColorFactor;t.color.fromArray(s),t.opacity=s[3]}void 0!==i.baseColorTexture&&n.push(a.assignTexture(t,"map",i.baseColorTexture.index))}return Promise.all(n)};var o="glTF",l=12,u={JSON:1313821514,BIN:5130562};function p(t){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;var r=new DataView(t,0,l);if(this.header={magic:e.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==o)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(t,l),i=0;i<n.byteLength;){var s=n.getUint32(i,!0);i+=4;var p=n.getUint32(i,!0);if(i+=4,p===u.JSON){var c=new Uint8Array(t,l+i,s);this.content=e.LoaderUtils.decodeText(c)}else if(p===u.BIN){var d=l+i;this.body=t.slice(d,d+s)}i+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function c(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t}function d(){return{name:a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return e.ShaderMaterial},extendParams:function(t,r,a){var n=r.extensions[this.name],i=e.ShaderLib.standard,s=e.UniformsUtils.clone(i.uniforms),o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),l=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),u=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),p=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),d=i.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",l).replace("#include <roughnessmap_fragment>",u).replace("#include <metalnessmap_fragment>",p).replace("#include <lights_physical_fragment>",c);delete s.roughness,delete s.metalness,delete s.roughnessMap,delete s.metalnessMap,s.specular={value:(new e.Color).setHex(1118481)},s.glossiness={value:.5},s.specularMap={value:null},s.glossinessMap={value:null},t.vertexShader=i.vertexShader,t.fragmentShader=d,t.uniforms=s,t.defines={STANDARD:""},t.color=new e.Color(1,1,1),t.opacity=1;var h=[];if(Array.isArray(n.diffuseFactor)){var f=n.diffuseFactor;t.color.fromArray(f),t.opacity=f[3]}if(void 0!==n.diffuseTexture&&h.push(a.assignTexture(t,"map",n.diffuseTexture.index)),t.emissive=new e.Color(0,0,0),t.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,t.specular=new e.Color(1,1,1),Array.isArray(n.specularFactor)&&t.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var m=n.specularGlossinessTexture.index;h.push(a.assignTexture(t,"glossinessMap",m)),h.push(a.assignTexture(t,"specularMap",m))}return Promise.all(h)},createMaterial:function(t){var r=new e.ShaderMaterial({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return r.isGLTFSpecularGlossinessMaterial=!0,r.color=t.color,r.map=void 0===t.map?null:t.map,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=void 0===t.aoMap?null:t.aoMap,r.aoMapIntensity=1,r.emissive=t.emissive,r.emissiveIntensity=1,r.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,r.bumpMap=void 0===t.bumpMap?null:t.bumpMap,r.bumpScale=1,r.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(r.normalScale=t.normalScale),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=void 0===t.specularMap?null:t.specularMap,r.specular=t.specular,r.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,r.glossiness=t.glossiness,r.alphaMap=null,r.envMap=void 0===t.envMap?null:t.envMap,r.envMapIntensity=1,r.refractionRatio=.98,r.extensions.derivatives=!0,r},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var r=this.specularGlossinessParams,a=0,n=r.length;a<n;a++)t[r[a]]=e[r[a]];return t},refreshUniforms:function(e,t,r,a,n,i){if(!0===n.isGLTFSpecularGlossinessMaterial){var s,o=n.uniforms,l=n.defines;o.opacity.value=n.opacity,o.diffuse.value.copy(n.color),o.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),o.map.value=n.map,o.specularMap.value=n.specularMap,o.alphaMap.value=n.alphaMap,o.lightMap.value=n.lightMap,o.lightMapIntensity.value=n.lightMapIntensity,o.aoMap.value=n.aoMap,o.aoMapIntensity.value=n.aoMapIntensity,n.map?s=n.map:n.specularMap?s=n.specularMap:n.displacementMap?s=n.displacementMap:n.normalMap?s=n.normalMap:n.bumpMap?s=n.bumpMap:n.glossinessMap?s=n.glossinessMap:n.alphaMap?s=n.alphaMap:n.emissiveMap&&(s=n.emissiveMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),o.uvTransform.value.copy(s.matrix)),o.envMap.value=n.envMap,o.envMapIntensity.value=n.envMapIntensity,o.flipEnvMap.value=n.envMap&&n.envMap.isCubeTexture?-1:1,o.refractionRatio.value=n.refractionRatio,o.specular.value.copy(n.specular),o.glossiness.value=n.glossiness,o.glossinessMap.value=n.glossinessMap,o.emissiveMap.value=n.emissiveMap,o.bumpMap.value=n.bumpMap,o.normalMap.value=n.normalMap,o.displacementMap.value=n.displacementMap,o.displacementScale.value=n.displacementScale,o.displacementBias.value=n.displacementBias,null!==o.glossinessMap.value&&void 0===l.USE_GLOSSINESSMAP&&(l.USE_GLOSSINESSMAP="",l.USE_ROUGHNESSMAP=""),null===o.glossinessMap.value&&void 0!==l.USE_GLOSSINESSMAP&&(delete l.USE_GLOSSINESSMAP,delete l.USE_ROUGHNESSMAP)}}}}function h(t,r,a,n){e.Interpolant.call(this,t,r,a,n)}c.prototype.decodePrimitive=function(e,t){var r=this.json,a=this.dracoLoader,n=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,s={},o={},l={};for(var u in i)u in E&&(s[E[u]]=i[u]);for(u in e.attributes)if(void 0!==E[u]&&void 0!==i[u]){var p=r.accessors[e.attributes[u]],c=y[p.componentType];l[E[u]]=c,o[E[u]]=!0===p.normalized}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t){a.decodeDracoFile(e,function(e){for(var r in e.attributes){var a=e.attributes[r],n=o[r];void 0!==n&&(a.normalized=n)}t(e)},s,l)})})},h.prototype=Object.create(e.Interpolant.prototype),h.prototype.constructor=h,h.prototype.interpolate_=function(e,t,r,a){for(var n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,o=2*s,l=3*s,u=a-t,p=(r-t)/u,c=p*p,d=c*p,h=e*l,f=h-l,m=2*d-3*c+1,v=d-2*c+p,g=-2*d+3*c,M=d-c,S=0;S!==s;S++){var T=i[f+S+s],y=i[f+S+o]*u,L=i[h+S+s],R=i[h+S]*u;n[S]=m*T+v*y+g*L+M*R}return n};var f=0,m=1,v=2,g=3,M=4,S=5,T=6,y=(Number,e.Matrix3,e.Matrix4,e.Vector2,e.Vector3,e.Vector4,e.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),L={9728:e.NearestFilter,9729:e.LinearFilter,9984:e.NearestMipMapNearestFilter,9985:e.LinearMipMapNearestFilter,9986:e.NearestMipMapLinearFilter,9987:e.LinearMipMapLinearFilter},R={33071:e.ClampToEdgeWrapping,33648:e.MirroredRepeatWrapping,10497:e.RepeatWrapping},A=(e.BackSide,e.FrontSide,e.NeverDepth,e.LessDepth,e.EqualDepth,e.LessEqualDepth,e.GreaterEqualDepth,e.NotEqualDepth,e.GreaterEqualDepth,e.AlwaysDepth,e.AddEquation,e.SubtractEquation,e.ReverseSubtractEquation,e.ZeroFactor,e.OneFactor,e.SrcColorFactor,e.OneMinusSrcColorFactor,e.SrcAlphaFactor,e.OneMinusSrcAlphaFactor,e.DstAlphaFactor,e.OneMinusDstAlphaFactor,e.DstColorFactor,e.OneMinusDstColorFactor,e.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),E={POSITION:"position",NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD0:"uv",TEXCOORD:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",COLOR0:"color",COLOR:"color",WEIGHTS_0:"skinWeight",WEIGHT:"skinWeight",JOINTS_0:"skinIndex",JOINT:"skinIndex"},b={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},w={CUBICSPLINE:e.InterpolateSmooth,LINEAR:e.InterpolateLinear,STEP:e.InterpolateDiscrete},x="OPAQUE",_="MASK",I="BLEND";function U(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function F(e,t,r){for(var a in r.extensions)void 0===e[a]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[a]=r.extensions[a])}function C(e,t){void 0!==t.extras&&("object"==typeof t.extras?e.userData=t.extras:console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,a=t.weights.length;r<a;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(r=0,a=n.length;r<a;r++)e.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function D(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function O(e,t){if(e.length!==t.length)return!1;for(var r=0,a=e.length;r<a;r++)if(e[r]!==t[r])return!1;return!0}function P(e,t){for(var r=0,a=e.length;r<a;r++){var n=e[r];if(i=n.primitive,s=t,i.indices===s.indices&&D(i.attributes,s.attributes))return n.promise}var i,s;return null}function N(t){if(t.isInterleavedBufferAttribute){for(var r=t.count,a=t.itemSize,n=t.array.slice(0,r*a),i=0;i<r;++i)n[i]=t.getX(i),a>=2&&(n[i+1]=t.getY(i)),a>=3&&(n[i+2]=t.getZ(i)),a>=4&&(n[i+3]=t.getW(i));return new e.BufferAttribute(n,a,t.normalized)}return t.clone()}function B(t,a,n){this.json=t||{},this.extensions=a||{},this.options=n||{},this.cache=new r,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.textureLoader=new e.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new e.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function H(e,t,r){var a=t.attributes;for(var n in a){var i=E[n],s=r[a[n]];i&&(i in e.attributes||e.addAttribute(i,s))}void 0===t.indices||e.index||e.setIndex(r[t.indices]),void 0!==t.targets&&function(e,t,r){for(var a=!1,n=!1,i=0,s=t.length;i<s&&(void 0!==(u=t[i]).POSITION&&(a=!0),void 0!==u.NORMAL&&(n=!0),!a||!n);i++);if(a||n){var o=[],l=[];for(i=0,s=t.length;i<s;i++){var u=t[i],p="morphTarget"+i;if(a){if(void 0!==u.POSITION){var c=N(r[u.POSITION]);c.name=p;for(var d=e.attributes.position,h=0,f=c.count;h<f;h++)c.setXYZ(h,c.getX(h)+d.getX(h),c.getY(h)+d.getY(h),c.getZ(h)+d.getZ(h))}else c=e.attributes.position;o.push(c)}if(n){if(void 0!==u.NORMAL){var m;(m=N(r[u.NORMAL])).name=p;var v=e.attributes.normal;for(h=0,f=m.count;h<f;h++)m.setXYZ(h,m.getX(h)+v.getX(h),m.getY(h)+v.getY(h),m.getZ(h)+v.getZ(h))}else m=e.attributes.normal;l.push(m)}}a&&(e.morphAttributes.position=o),n&&(e.morphAttributes.normal=l)}}(e,t.targets,r),C(e,t)}return B.prototype.parse=function(e,t){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(t){var a=t.scenes||[],n=a[r.scene||0],i=t.animations||[],s=t.cameras||[];e(n,a,s,i,r)}).catch(t)},B.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],a={},n={},i=0,s=t.length;i<s;i++)for(var o=t[i].joints,l=0,u=o.length;l<u;l++)e[o[l]].isBone=!0;for(var p=0,c=e.length;p<c;p++){var d=e[p];void 0!==d.mesh&&(void 0===a[d.mesh]&&(a[d.mesh]=n[d.mesh]=0),a[d.mesh]++,void 0!==d.skin&&(r[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=a,this.json.meshUses=n},B.prototype.getDependency=function(e,t){var r=e+":"+t,a=this.cache.get(r);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this.loadNode(t);break;case"mesh":a=this.loadMesh(t);break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this.loadBufferView(t);break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this.loadMaterial(t);break;case"texture":a=this.loadTexture(t);break;case"skin":a=this.loadSkin(t);break;case"animation":a=this.loadAnimation(t);break;case"camera":a=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,a)}return a},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,a=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(a.map(function(t,a){return r.getDependency(e,a)})),this.cache.add(e,t)}return t},B.prototype.getMultiDependencies=function(e){for(var t={},r=[],a=0,n=e.length;a<n;a++){var i=e[a],s=this.getDependencies(i);s=s.then(function(e,r){t[e]=r}.bind(this,i+("mesh"===i?"es":"s"))),r.push(s)}return Promise.all(r).then(function(){return t})},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);var n=this.options;return new Promise(function(e,a){r.load(U(t.uri,n.path),e,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var r=t.byteLength||0,a=t.byteOffset||0;return e.slice(a,a+r)})},B.prototype.loadAccessor=function(t){var r=this,a=this.json,n=this.json.accessors[t];if(void 0===n.bufferView&&void 0===n.sparse)return null;var i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then(function(t){var i,s,o=t[0],l=A[n.type],u=y[n.componentType],p=u.BYTES_PER_ELEMENT,c=p*l,d=n.byteOffset||0,h=a.bufferViews[n.bufferView].byteStride,f=!0===n.normalized;if(h&&h!==c){var m="InterleavedBuffer:"+n.bufferView+":"+n.componentType,v=r.cache.get(m);v||(i=new u(o),v=new e.InterleavedBuffer(i,h/p),r.cache.add(m,v)),s=new e.InterleavedBufferAttribute(v,l,d/p,f)}else i=null===o?new u(n.count*l):new u(o,d,n.count*l),s=new e.BufferAttribute(i,l,f);if(void 0!==n.sparse){var g=A.SCALAR,M=y[n.sparse.indices.componentType],S=n.sparse.indices.byteOffset||0,T=n.sparse.values.byteOffset||0,L=new M(t[1],S,n.sparse.count*g),R=new u(t[2],T,n.sparse.count*l);null!==o&&s.setArray(s.array.slice());for(var E=0,b=L.length;E<b;E++){var w=L[E];if(s.setX(w,R[E*l]),l>=2&&s.setY(w,R[E*l+1]),l>=3&&s.setZ(w,R[E*l+2]),l>=4&&s.setW(w,R[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return s})},B.prototype.loadTexture=function(t){var r,n=this,i=this.json,s=this.options,o=this.textureLoader,l=window.URL||window.webkitURL,u=i.textures[t],p=u.extensions||{},c=(r=p[a.MSFT_TEXTURE_DDS]?i.images[p[a.MSFT_TEXTURE_DDS].source]:i.images[u.source]).uri,d=!1;return void 0!==r.bufferView&&(c=n.getDependency("bufferView",r.bufferView).then(function(e){d=!0;var t=new Blob([e],{type:r.mimeType});return c=l.createObjectURL(t)})),Promise.resolve(c).then(function(t){var r=e.Loader.Handlers.get(t);return r||(r=p[a.MSFT_TEXTURE_DDS]?n.extensions[a.MSFT_TEXTURE_DDS].ddsLoader:o),new Promise(function(e,a){r.load(U(t,s.path),e,void 0,a)})}).then(function(t){!0===d&&l.revokeObjectURL(c),t.flipY=!1,void 0!==u.name&&(t.name=u.name);var r=(i.samplers||{})[u.sampler]||{};return t.magFilter=L[r.magFilter]||e.LinearFilter,t.minFilter=L[r.minFilter]||e.LinearMipMapLinearFilter,t.wrapS=R[r.wrapS]||e.RepeatWrapping,t.wrapT=R[r.wrapT]||e.RepeatWrapping,t})},B.prototype.assignTexture=function(e,t,r){return this.getDependency("texture",r).then(function(r){e[t]=r})},B.prototype.loadMaterial=function(t){this.json;var r,n=this.extensions,i=this.json.materials[t],s={},o=i.extensions||{},l=[];if(o[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];r=u.getMaterialType(i),l.push(u.extendParams(s,i,this))}else if(o[a.KHR_MATERIALS_UNLIT]){var p=n[a.KHR_MATERIALS_UNLIT];r=p.getMaterialType(i),l.push(p.extendParams(s,i,this))}else{r=e.MeshStandardMaterial;var c=i.pbrMetallicRoughness||{};if(s.color=new e.Color(1,1,1),s.opacity=1,Array.isArray(c.baseColorFactor)){var d=c.baseColorFactor;s.color.fromArray(d),s.opacity=d[3]}if(void 0!==c.baseColorTexture&&l.push(this.assignTexture(s,"map",c.baseColorTexture.index)),s.metalness=void 0!==c.metallicFactor?c.metallicFactor:1,s.roughness=void 0!==c.roughnessFactor?c.roughnessFactor:1,void 0!==c.metallicRoughnessTexture){var h=c.metallicRoughnessTexture.index;l.push(this.assignTexture(s,"metalnessMap",h)),l.push(this.assignTexture(s,"roughnessMap",h))}}!0===i.doubleSided&&(s.side=e.DoubleSide);var f=i.alphaMode||x;return f===I?s.transparent=!0:(s.transparent=!1,f===_&&(s.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&r!==e.MeshBasicMaterial&&(l.push(this.assignTexture(s,"normalMap",i.normalTexture.index)),s.normalScale=new e.Vector2(1,1),void 0!==i.normalTexture.scale&&s.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&r!==e.MeshBasicMaterial&&(l.push(this.assignTexture(s,"aoMap",i.occlusionTexture.index)),void 0!==i.occlusionTexture.strength&&(s.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&r!==e.MeshBasicMaterial&&(s.emissive=(new e.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&r!==e.MeshBasicMaterial&&l.push(this.assignTexture(s,"emissiveMap",i.emissiveTexture.index)),Promise.all(l).then(function(){var t;return t=r===e.ShaderMaterial?n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new r(s),void 0!==i.name&&(t.name=i.name),t.normalScale&&(t.normalScale.y=-t.normalScale.y),t.map&&(t.map.encoding=e.sRGBEncoding),t.emissiveMap&&(t.emissiveMap.encoding=e.sRGBEncoding),t.specularMap&&(t.specularMap.encoding=e.sRGBEncoding),C(t,i),i.extensions&&F(n,t,i),t})},B.prototype.loadGeometries=function(t){var r,n=this,i=this.extensions,s=this.primitiveCache,o=function(e){if(e.length<2)return!1;var t=e[0],r=t.targets||[];if(void 0===t.indices)return!1;for(var a=1,n=e.length;a<n;a++){var i=e[a];if(t.mode!==i.mode)return!1;if(void 0===i.indices)return!1;if(!D(t.attributes,i.attributes))return!1;var s=i.targets||[];if(r.length!==s.length)return!1;for(var o=0,l=r.length;o<l;o++)if(!D(r[o],s[o]))return!1}return!0}(t);return o&&(r=t,t=[t[0]]),this.getDependencies("accessor").then(function(l){for(var u=[],p=0,c=t.length;p<c;p++){var d=t[p],h=P(s,d);if(h)u.push(h);else if(d.extensions&&d.extensions[a.KHR_DRACO_MESH_COMPRESSION]){var f=i[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d,n).then(function(e){return H(e,d,l),e});s.push({primitive:d,promise:f}),u.push(f)}else{var m=new e.BufferGeometry;H(m,d,l);f=Promise.resolve(m);s.push({primitive:d,promise:f}),u.push(f)}}return Promise.all(u).then(function(a){if(o){var i=a[0];if(null!==(M=function(e,t,r){for(var a=0,n=e.length;a<n;a++){var i=e[a];if(t===i.baseGeometry&&O(r,i.primitives))return i.geometry}return null}(g=n.multiPassGeometryCache,i,r)))return[M.geometry];var s=new e.BufferGeometry;for(var u in s.name=i.name,s.userData=i.userData,i.attributes)s.addAttribute(u,i.attributes[u]);for(var u in i.morphAttributes)s.morphAttributes[u]=i.morphAttributes[u];for(var p=[],c=0,d=0,h=r.length;d<h;d++){for(var f=l[r[d].indices],m=0,v=f.count;m<v;m++)p.push(f.array[m]);s.addGroup(c,f.count,d),c+=f.count}return s.setIndex(p),g.push({geometry:s,baseGeometry:i,primitives:r}),[s]}if(a.length>1&&void 0!==e.BufferGeometryUtils){for(d=1,h=t.length;d<h;d++)if(t[0].mode!==t[d].mode)return a;var g,M;if(M=function(e,t){for(var r=0,a=e.length;r<a;r++){var n=e[r];if(O(t,n.baseGeometries))return n.geometry}return null}(g=n.multiplePrimitivesCache,a)){if(null!==M.geometry)return[M.geometry]}else{s=e.BufferGeometryUtils.mergeBufferGeometries(a,!0);if(g.push({geometry:s,baseGeometries:a}),null!==s)return[s]}}return a})})},B.prototype.loadMesh=function(t){var r=this,n=(this.json,this.extensions),i=this.json.meshes[t];return this.getMultiDependencies(["accessor","material"]).then(function(s){for(var o=i.primitives,l=[],u=0,p=o.length;u<p;u++)l[u]=void 0===o[u].material?new e.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:e.FrontSide}):s.materials[o[u].material];return r.loadGeometries(o).then(function(s){for(var u=1===s.length&&s[0].groups.length>0,p=[],c=0,d=s.length;c<d;c++){var h,y=s[c],L=o[c],R=u?l:l[c];if(L.mode===M||L.mode===S||L.mode===T||void 0===L.mode)h=!0===i.isSkinnedMesh?new e.SkinnedMesh(y,R):new e.Mesh(y,R),L.mode===S?h.drawMode=e.TriangleStripDrawMode:L.mode===T&&(h.drawMode=e.TriangleFanDrawMode);else if(L.mode===m)h=new e.LineSegments(y,R);else if(L.mode===g)h=new e.Line(y,R);else if(L.mode===v)h=new e.LineLoop(y,R);else{if(L.mode!==f)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+L.mode);h=new e.Points(y,R)}Object.keys(h.geometry.morphAttributes).length>0&&G(h,i),h.name=i.name||"mesh_"+t,s.length>1&&(h.name+="_"+c),C(h,i),p.push(h);for(var A=u?h.material:[h.material],E=void 0!==y.attributes.color,b=void 0===y.attributes.normal,w=!0===h.isSkinnedMesh,x=Object.keys(y.morphAttributes).length>0,_=x&&void 0!==y.morphAttributes.normal,I=0,U=A.length;I<U;I++){R=A[I];if(h.isPoints){var F="PointsMaterial:"+R.uuid,D=r.cache.get(F);D||(D=new e.PointsMaterial,e.Material.prototype.copy.call(D,R),D.color.copy(R.color),D.map=R.map,D.lights=!1,r.cache.add(F,D)),R=D}else if(h.isLine){F="LineBasicMaterial:"+R.uuid;var O=r.cache.get(F);O||(O=new e.LineBasicMaterial,e.Material.prototype.copy.call(O,R),O.color.copy(R.color),O.lights=!1,r.cache.add(F,O)),R=O}if(E||b||w||x){F="ClonedMaterial:"+R.uuid+":";R.isGLTFSpecularGlossinessMaterial&&(F+="specular-glossiness:"),w&&(F+="skinning:"),E&&(F+="vertex-colors:"),b&&(F+="flat-shading:"),x&&(F+="morph-targets:"),_&&(F+="morph-normals:");var P=r.cache.get(F);P||(P=R.isGLTFSpecularGlossinessMaterial?n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(R):R.clone(),w&&(P.skinning=!0),E&&(P.vertexColors=e.VertexColors),b&&(P.flatShading=!0),x&&(P.morphTargets=!0),_&&(P.morphNormals=!0),r.cache.add(F,P)),R=P}A[I]=R,R.aoMap&&void 0===y.attributes.uv2&&void 0!==y.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),y.addAttribute("uv2",new e.BufferAttribute(y.attributes.uv.array,2))),R.isGLTFSpecularGlossinessMaterial&&(h.onBeforeRender=n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}h.material=u?A:A[0]}if(1===p.length)return p[0];var N=new e.Group;for(c=0,d=p.length;c<d;c++)N.add(p[c]);return N})})},B.prototype.loadCamera=function(t){var r,a=this.json.cameras[t],n=a[a.type];if(n)return"perspective"===a.type?r=new e.PerspectiveCamera(e.Math.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===a.type&&(r=new e.OrthographicCamera(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),void 0!==a.name&&(r.name=a.name),C(r,a),Promise.resolve(r);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return r.inverseBindMatrices=e,r})},B.prototype.loadAnimation=function(t){this.json;var r=this.json.animations[t];return this.getMultiDependencies(["accessor","node"]).then(function(a){for(var n=[],i=0,s=r.channels.length;i<s;i++){var o=r.channels[i],l=r.samplers[o.sampler];if(l){var u=o.target,p=void 0!==u.node?u.node:u.id,c=void 0!==r.parameters?r.parameters[l.input]:l.input,d=void 0!==r.parameters?r.parameters[l.output]:l.output,f=a.accessors[c],m=a.accessors[d],v=a.nodes[p];if(v){var g;switch(v.updateMatrix(),v.matrixAutoUpdate=!0,b[u.path]){case b.weights:g=e.NumberKeyframeTrack;break;case b.rotation:g=e.QuaternionKeyframeTrack;break;case b.position:case b.scale:default:g=e.VectorKeyframeTrack}var M=v.name?v.name:v.uuid,S=void 0!==l.interpolation?w[l.interpolation]:e.InterpolateLinear,T=[];b[u.path]===b.weights?v.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&T.push(e.name?e.name:e.uuid)}):T.push(M);for(var y=0,L=T.length;y<L;y++){var R=new g(T[y]+"."+b[u.path],e.AnimationUtils.arraySlice(f.array,0),e.AnimationUtils.arraySlice(m.array,0),S);"CUBICSPLINE"===l.interpolation&&(R.createInterpolant=function(e){return new h(this.times,this.values,this.getValueSize()/3,e)},R.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),n.push(R)}}}}p=void 0!==r.name?r.name:"animation_"+t;return new e.AnimationClip(p,void 0,n)})},B.prototype.loadNode=function(t){this.json;var r=this.extensions,n=this.json.meshReferences,i=this.json.meshUses,s=this.json.nodes[t];return this.getMultiDependencies(["mesh","skin","camera","light"]).then(function(t){var o;if(!0===s.isBone)o=new e.Bone;else if(void 0!==s.mesh){var l=t.meshes[s.mesh];if(n[s.mesh]>1){var u=i[s.mesh]++;(o=l.clone()).name+="_instance_"+u,o.onBeforeRender=l.onBeforeRender;for(var p=0,c=o.children.length;p<c;p++)o.children[p].name+="_instance_"+u,o.children[p].onBeforeRender=l.children[p].onBeforeRender}else o=l}else if(void 0!==s.camera)o=t.cameras[s.camera];else if(s.extensions&&s.extensions[a.KHR_LIGHTS_PUNCTUAL]&&void 0!==s.extensions[a.KHR_LIGHTS_PUNCTUAL].light){o=r[a.KHR_LIGHTS_PUNCTUAL].lights[s.extensions[a.KHR_LIGHTS_PUNCTUAL].light]}else o=new e.Object3D;if(void 0!==s.name&&(o.name=e.PropertyBinding.sanitizeNodeName(s.name)),C(o,s),s.extensions&&F(r,o,s),void 0!==s.matrix){var d=new e.Matrix4;d.fromArray(s.matrix),o.applyMatrix(d)}else void 0!==s.translation&&o.position.fromArray(s.translation),void 0!==s.rotation&&o.quaternion.fromArray(s.rotation),void 0!==s.scale&&o.scale.fromArray(s.scale);return o})},B.prototype.loadScene=function(){function t(r,a,n,i,s){var o=i[r],l=n.nodes[r];if(void 0!==l.skin)for(var u=!0===o.isGroup?o.children:[o],p=0,c=u.length;p<c;p++){for(var d=u[p],h=s[l.skin],f=[],m=[],v=0,g=h.joints.length;v<g;v++){var M=h.joints[v],S=i[M];if(S){f.push(S);var T=new e.Matrix4;void 0!==h.inverseBindMatrices&&T.fromArray(h.inverseBindMatrices.array,16*v),m.push(T)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',M)}d.bind(new e.Skeleton(f,m),d.matrixWorld)}if(a.add(o),l.children){var y=l.children;for(p=0,c=y.length;p<c;p++){t(y[p],o,n,i,s)}}}return function(r){var a=this.json,n=this.extensions,i=this.json.scenes[r];return this.getMultiDependencies(["node","skin"]).then(function(r){var s=new e.Scene;void 0!==i.name&&(s.name=i.name),C(s,i),i.extensions&&F(n,s,i);for(var o=i.nodes||[],l=0,u=o.length;l<u;l++)t(o[l],s,a,r.nodes,r.skins);return s})}}(),t}();module.exports=t;
},{"three":"dKqR"}],"1RYe":[function(require,module,exports) {
module.exports=function(e){function t(t,n){var o,a,i,r,s;this.object=t,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return b.phi},this.getAzimuthalAngle=function(){return b.theta},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(u),c.update(),h=l.NONE},this.update=(o=new e.Vector3,a=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),i=a.clone().inverse(),r=new e.Vector3,s=new e.Quaternion,function(){var e=c.object.position;return o.copy(e).sub(c.target),o.applyQuaternion(a),b.setFromVector3(o),c.autoRotate&&h===l.NONE&&A(2*Math.PI/60/60*c.autoRotateSpeed),b.theta+=E.theta,b.phi+=E.phi,b.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,b.theta)),b.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,b.phi)),b.makeSafe(),b.radius*=f,b.radius=Math.max(c.minDistance,Math.min(c.maxDistance,b.radius)),c.target.add(g),o.setFromSpherical(b),o.applyQuaternion(i),e.copy(c.target).add(o),c.object.lookAt(c.target),!0===c.enableDamping?(E.theta*=1-c.dampingFactor,E.phi*=1-c.dampingFactor):E.set(0,0,0),f=1,g.set(0,0,0),!!(v||r.distanceToSquared(c.object.position)>p||8*(1-s.dot(c.object.quaternion))>p)&&(c.dispatchEvent(u),r.copy(c.object.position),s.copy(c.object.quaternion),v=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",_,!1),c.domElement.removeEventListener("mousedown",S,!1),c.domElement.removeEventListener("wheel",z,!1),c.domElement.removeEventListener("touchstart",I,!1),c.domElement.removeEventListener("touchend",K,!1),c.domElement.removeEventListener("touchmove",X,!1),document.removeEventListener("mousemove",Z,!1),document.removeEventListener("mouseup",Y,!1),window.removeEventListener("keydown",F,!1)};var c=this,u={type:"change"},m={type:"start"},d={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},h=l.NONE,p=1e-6,b=new e.Spherical,E=new e.Spherical,f=1,g=new e.Vector3,v=!1,O=new e.Vector2,y=new e.Vector2,w=new e.Vector2,P=new e.Vector2,T=new e.Vector2,j=new e.Vector2,R=new e.Vector2,M=new e.Vector2,L=new e.Vector2;function N(){return Math.pow(.95,c.zoomSpeed)}function A(e){E.theta-=e}function C(e){E.phi-=e}var x,H=(x=new e.Vector3,function(e,t){x.setFromMatrixColumn(t,0),x.multiplyScalar(-e),g.add(x)}),k=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),g.add(t)}}(),D=function(){var t=new e.Vector3;return function(n,o){var a=c.domElement===document?c.domElement.body:c.domElement;if(c.object instanceof e.PerspectiveCamera){var i=c.object.position;t.copy(i).sub(c.target);var r=t.length();r*=Math.tan(c.object.fov/2*Math.PI/180),H(2*n*r/a.clientHeight,c.object.matrix),k(2*o*r/a.clientHeight,c.object.matrix)}else c.object instanceof e.OrthographicCamera?(H(n*(c.object.right-c.object.left)/c.object.zoom/a.clientWidth,c.object.matrix),k(o*(c.object.top-c.object.bottom)/c.object.zoom/a.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function U(t){c.object instanceof e.PerspectiveCamera?f/=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*t)),c.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function V(t){c.object instanceof e.PerspectiveCamera?f*=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/t)),c.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function S(e){if(!1!==c.enabled){if(e.preventDefault(),e.button===c.mouseButtons.ORBIT){if(!1===c.enableRotate)return;!function(e){O.set(e.clientX,e.clientY)}(e),h=l.ROTATE}else if(e.button===c.mouseButtons.ZOOM){if(!1===c.enableZoom)return;!function(e){R.set(e.clientX,e.clientY)}(e),h=l.DOLLY}else if(e.button===c.mouseButtons.PAN){if(!1===c.enablePan)return;!function(e){P.set(e.clientX,e.clientY)}(e),h=l.PAN}h!==l.NONE&&(document.addEventListener("mousemove",Z,!1),document.addEventListener("mouseup",Y,!1),c.dispatchEvent(m))}}function Z(e){if(!1!==c.enabled)if(e.preventDefault(),h===l.ROTATE){if(!1===c.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),w.subVectors(y,O);var t=c.domElement===document?c.domElement.body:c.domElement;A(2*Math.PI*w.x/t.clientWidth*c.rotateSpeed),C(2*Math.PI*w.y/t.clientHeight*c.rotateSpeed),O.copy(y),c.update()}(e)}else if(h===l.DOLLY){if(!1===c.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),L.subVectors(M,R),L.y>0?U(N()):L.y<0&&V(N()),R.copy(M),c.update()}(e)}else if(h===l.PAN){if(!1===c.enablePan)return;!function(e){T.set(e.clientX,e.clientY),j.subVectors(T,P),D(j.x,j.y),P.copy(T),c.update()}(e)}}function Y(e){!1!==c.enabled&&(document.removeEventListener("mousemove",Z,!1),document.removeEventListener("mouseup",Y,!1),c.dispatchEvent(d),h=l.NONE)}function z(e){!1===c.enabled||!1===c.enableZoom||h!==l.NONE&&h!==l.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?V(N()):e.deltaY>0&&U(N()),c.update()}(e),c.dispatchEvent(m),c.dispatchEvent(d))}function F(e){!1!==c.enabled&&!1!==c.enableKeys&&!1!==c.enablePan&&function(e){switch(e.keyCode){case c.keys.UP:D(0,c.keyPanSpeed),c.update();break;case c.keys.BOTTOM:D(0,-c.keyPanSpeed),c.update();break;case c.keys.LEFT:D(c.keyPanSpeed,0),c.update();break;case c.keys.RIGHT:D(-c.keyPanSpeed,0),c.update()}}(e)}function I(e){if(!1!==c.enabled){switch(e.touches.length){case 1:if(!1===c.enableRotate)return;!function(e){O.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=l.TOUCH_ROTATE;break;case 2:if(!1===c.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);R.set(0,o)}(e),h=l.TOUCH_DOLLY;break;case 3:if(!1===c.enablePan)return;!function(e){P.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=l.TOUCH_PAN;break;default:h=l.NONE}h!==l.NONE&&c.dispatchEvent(m)}}function X(e){if(!1!==c.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===c.enableRotate)return;if(h!==l.TOUCH_ROTATE)return;!function(e){y.set(e.touches[0].pageX,e.touches[0].pageY),w.subVectors(y,O);var t=c.domElement===document?c.domElement.body:c.domElement;A(2*Math.PI*w.x/t.clientWidth*c.rotateSpeed),C(2*Math.PI*w.y/t.clientHeight*c.rotateSpeed),O.copy(y),c.update()}(e);break;case 2:if(!1===c.enableZoom)return;if(h!==l.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);M.set(0,o),L.subVectors(M,R),L.y>0?V(N()):L.y<0&&U(N()),R.copy(M),c.update()}(e);break;case 3:if(!1===c.enablePan)return;if(h!==l.TOUCH_PAN)return;!function(e){T.set(e.touches[0].pageX,e.touches[0].pageY),j.subVectors(T,P),D(j.x,j.y),P.copy(T),c.update()}(e);break;default:h=l.NONE}}function K(e){!1!==c.enabled&&(c.dispatchEvent(d),h=l.NONE)}function _(e){e.preventDefault()}c.domElement.addEventListener("contextmenu",_,!1),c.domElement.addEventListener("mousedown",S,!1),c.domElement.addEventListener("wheel",z,!1),c.domElement.addEventListener("touchstart",I,!1),c.domElement.addEventListener("touchend",K,!1),c.domElement.addEventListener("touchmove",X,!1),window.addEventListener("keydown",F,!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t};
},{}],"+aaM":[function(require,module,exports) {

},{}],"HLGr":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"CjBA":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(r){return e.exec(r).slice(1)};function s(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var i=o>=0?arguments[o]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,n="/"===i.charAt(0))}return(n?"/":"")+(e=t(s(e.split("/"),function(r){return!!r}),!n).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),n="/"===o(r,-1);return(r=t(s(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&n&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(s(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),o=Math.min(n.length,s.length),i=o,u=0;u<o;u++)if(n[u]!==s[u]){i=u;break}var l=[];for(u=i;u<n.length;u++)l.push("..");return(l=l.concat(s.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=n(r),e=t[0],s=t[1];return e||s?(s&&(s=s.substr(0,s.length-1)),e+s):"."},exports.basename=function(r,t){var e=n(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return n(r)[3]};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"HLGr"}],"Ez7E":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){for(var n,o=h(r),a=o[0],u=o[1],i=new e(c(r,a,u)),f=0,A=u>0?a-4:a,d=0;d<A;d+=4)n=t[r.charCodeAt(d)]<<18|t[r.charCodeAt(d+1)]<<12|t[r.charCodeAt(d+2)]<<6|t[r.charCodeAt(d+3)],i[f++]=n>>16&255,i[f++]=n>>8&255,i[f++]=255&n;return 2===u&&(n=t[r.charCodeAt(d)]<<2|t[r.charCodeAt(d+1)]>>4,i[f++]=255&n),1===u&&(n=t[r.charCodeAt(d)]<<10|t[r.charCodeAt(d+1)]<<4|t[r.charCodeAt(d+2)]>>2,i[f++]=n>>8&255,i[f++]=255&n),i}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"plTI":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"3HqZ":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"eKIq":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"Ez7E","ieee754":"plTI","isarray":"3HqZ","buffer":"eKIq"}],"7/vb":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"eKIq"}],"GkF8":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var r=arguments[3],e=require("process");function o(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var n=require("safe-buffer").Buffer,t=r.crypto||r.msCrypto;function u(o,u){if(o>65536)throw new Error("requested too many random bytes");var s=new r.Uint8Array(o);o>0&&t.getRandomValues(s);var a=n.from(s.buffer);return"function"==typeof u?e.nextTick(function(){u(null,a)}):a}t&&t.getRandomValues?module.exports=u:module.exports=o;
},{"safe-buffer":"7/vb","process":"HLGr"}],"9q8B":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"h/3/":[function(require,module,exports) {
function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function t(e){return"function"==typeof e}function s(e){return"number"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}module.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},e.prototype.emit=function(e){var s,r,o,h,v,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((s=arguments[1])instanceof Error)throw s;var u=new Error('Uncaught, unspecified "error" event. ('+s+")");throw u.context=s,u}if(i(r=this._events[e]))return!1;if(t(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),r.apply(this,h)}else if(n(r))for(h=Array.prototype.slice.call(arguments,1),o=(l=r.slice()).length,v=0;v<o;v++)l[v].apply(this,h);return!0},e.prototype.addListener=function(s,r){var o;if(!t(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,t(r.listener)?r.listener:r),this._events[s]?n(this._events[s])?this._events[s].push(r):this._events[s]=[this._events[s],r]:this._events[s]=r,n(this._events[s])&&!this._events[s].warned&&(o=i(this._maxListeners)?e.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[s].length>o&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),"function"==typeof console.trace&&console.trace()),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,s){if(!t(s))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,s.apply(this,arguments))}return i.listener=s,this.on(e,i),this},e.prototype.removeListener=function(e,s){var i,r,o,h;if(!t(s))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(i=this._events[e]).length,r=-1,i===s||t(i.listener)&&i.listener===s)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,s);else if(n(i)){for(h=o;h-- >0;)if(i[h]===s||i[h].listener&&i[h].listener===s){r=h;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,s)}return this},e.prototype.removeAllListeners=function(e){var s,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(s in this._events)"removeListener"!==s&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events={},this}if(t(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},e.prototype.listeners=function(e){return this._events&&this._events[e]?t(this._events[e])?[this._events[e]]:this._events[e].slice():[]},e.prototype.listenerCount=function(e){if(this._events){var s=this._events[e];if(t(s))return 1;if(s)return s.length}return 0},e.listenerCount=function(e,t){return e.listenerCount(t)};
},{}],"ac5A":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"HLGr"}],"lmqM":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"h/3/"}],"+0TZ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"eKIq"}],"9Zzr":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"7/vb","util":"+aaM"}],"LzEt":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"ac5A"}],"cv7s":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(r){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"hraH":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:n.nextTick;g.WritableState=y;var f=require("core-util-is");f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,d=t.Uint8Array||function(){};function l(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof d}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function R(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(R(n),t)x(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||B(e,t),t.pendingcb--,r(),T(e,t)}function B(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,d=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=l(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||j(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"ac5A","core-util-is":"+0TZ","inherits":"9q8B","util-deprecate":"cv7s","./internal/streams/stream":"lmqM","safe-buffer":"7/vb","./internal/streams/destroy":"LzEt","./_stream_duplex":"G9A7","process":"HLGr"}],"G9A7":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("core-util-is");r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"ac5A","core-util-is":"+0TZ","inherits":"9q8B","./_stream_readable":"n+oJ","./_stream_writable":"hraH"}],"9rVa":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"7/vb"}],"n+oJ":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=require("core-util-is");p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"ac5A","isarray":"3HqZ","events":"h/3/","./internal/streams/stream":"lmqM","safe-buffer":"7/vb","core-util-is":"+0TZ","inherits":"9q8B","util":"+aaM","./internal/streams/BufferList":"9Zzr","./internal/streams/destroy":"LzEt","./_stream_duplex":"G9A7","string_decoder/":"9rVa","process":"HLGr"}],"/xjk":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=require("core-util-is");function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"G9A7","core-util-is":"+0TZ","inherits":"9q8B"}],"tFUO":[function(require,module,exports) {
"use strict";module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"/xjk","core-util-is":"+0TZ","inherits":"9q8B"}],"+ljT":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"n+oJ","./lib/_stream_writable.js":"hraH","./lib/_stream_duplex.js":"G9A7","./lib/_stream_transform.js":"/xjk","./lib/_stream_passthrough.js":"tFUO"}],"zUQZ":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"hraH"}],"6/5a":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"G9A7"}],"kN6G":[function(require,module,exports) {
module.exports=require("./readable").Transform;
},{"./readable":"+ljT"}],"SGpk":[function(require,module,exports) {
module.exports=require("./readable").PassThrough;
},{"./readable":"+ljT"}],"Rhfi":[function(require,module,exports) {
module.exports=n;var e=require("events").EventEmitter,r=require("inherits");function n(){e.call(this)}r(n,e),n.Readable=require("readable-stream/readable.js"),n.Writable=require("readable-stream/writable.js"),n.Duplex=require("readable-stream/duplex.js"),n.Transform=require("readable-stream/transform.js"),n.PassThrough=require("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(r,n){var o=this;function t(e){r.writable&&!1===r.write(e)&&o.pause&&o.pause()}function s(){o.readable&&o.resume&&o.resume()}o.on("data",t),r.on("drain",s),r._isStdio||n&&!1===n.end||(o.on("end",a),o.on("close",u));var i=!1;function a(){i||(i=!0,r.end())}function u(){i||(i=!0,"function"==typeof r.destroy&&r.destroy())}function d(r){if(l(),0===e.listenerCount(this,"error"))throw r}function l(){o.removeListener("data",t),r.removeListener("drain",s),o.removeListener("end",a),o.removeListener("close",u),o.removeListener("error",d),r.removeListener("error",d),o.removeListener("end",l),o.removeListener("close",l),r.removeListener("close",l)}return o.on("error",d),r.on("error",d),o.on("end",l),o.on("close",l),r.on("close",l),r.emit("pipe",o),r};
},{"events":"h/3/","inherits":"9q8B","readable-stream/readable.js":"+ljT","readable-stream/writable.js":"zUQZ","readable-stream/duplex.js":"6/5a","readable-stream/transform.js":"kN6G","readable-stream/passthrough.js":"SGpk"}],"7k3r":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=require("stream").Transform,i=require("inherits");function r(e,i){if(!t.isBuffer(e)&&"string"!=typeof e)throw new TypeError(i+" must be a string or a buffer")}function o(i){e.call(this),this._block=t.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(o,e),o.prototype._transform=function(t,e,i){var r=null;try{this.update(t,e)}catch(t){r=t}i(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(e,i){if(r(e,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=t.from(e,i));for(var o=this._block,s=0;this._blockOffset+e.length-s>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)o[f++]=e[s++];this._update(),this._blockOffset=0}for(;s<e.length;)o[this._blockOffset++]=e[s++];for(var n=0,h=8*e.length;h>0;++n)this._length[n]+=h,(h=this._length[n]/4294967296|0)>0&&(this._length[n]-=4294967296*h);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},module.exports=o;
},{"safe-buffer":"7/vb","stream":"Rhfi","inherits":"9q8B"}],"RkNY":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,i=require("inherits"),s=require("hash-base"),h=new Array(16);function e(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function r(t,i){return t<<i|t>>>32-i}function _(t,i,s,h,e,_,n){return r(t+(i&s|~i&h)+e+_|0,n)+i|0}function n(t,i,s,h,e,_,n){return r(t+(i&h|s&~h)+e+_|0,n)+i|0}function o(t,i,s,h,e,_,n){return r(t+(i^s^h)+e+_|0,n)+i|0}function c(t,i,s,h,e,_,n){return r(t+(s^(i|~h))+e+_|0,n)+i|0}i(e,s),e.prototype._update=function(){for(var t=h,i=0;i<16;++i)t[i]=this._block.readInt32LE(4*i);var s=this._a,e=this._b,r=this._c,f=this._d;s=_(s,e,r,f,t[0],3614090360,7),f=_(f,s,e,r,t[1],3905402710,12),r=_(r,f,s,e,t[2],606105819,17),e=_(e,r,f,s,t[3],3250441966,22),s=_(s,e,r,f,t[4],4118548399,7),f=_(f,s,e,r,t[5],1200080426,12),r=_(r,f,s,e,t[6],2821735955,17),e=_(e,r,f,s,t[7],4249261313,22),s=_(s,e,r,f,t[8],1770035416,7),f=_(f,s,e,r,t[9],2336552879,12),r=_(r,f,s,e,t[10],4294925233,17),e=_(e,r,f,s,t[11],2304563134,22),s=_(s,e,r,f,t[12],1804603682,7),f=_(f,s,e,r,t[13],4254626195,12),r=_(r,f,s,e,t[14],2792965006,17),s=n(s,e=_(e,r,f,s,t[15],1236535329,22),r,f,t[1],4129170786,5),f=n(f,s,e,r,t[6],3225465664,9),r=n(r,f,s,e,t[11],643717713,14),e=n(e,r,f,s,t[0],3921069994,20),s=n(s,e,r,f,t[5],3593408605,5),f=n(f,s,e,r,t[10],38016083,9),r=n(r,f,s,e,t[15],3634488961,14),e=n(e,r,f,s,t[4],3889429448,20),s=n(s,e,r,f,t[9],568446438,5),f=n(f,s,e,r,t[14],3275163606,9),r=n(r,f,s,e,t[3],4107603335,14),e=n(e,r,f,s,t[8],1163531501,20),s=n(s,e,r,f,t[13],2850285829,5),f=n(f,s,e,r,t[2],4243563512,9),r=n(r,f,s,e,t[7],1735328473,14),s=o(s,e=n(e,r,f,s,t[12],2368359562,20),r,f,t[5],4294588738,4),f=o(f,s,e,r,t[8],2272392833,11),r=o(r,f,s,e,t[11],1839030562,16),e=o(e,r,f,s,t[14],4259657740,23),s=o(s,e,r,f,t[1],2763975236,4),f=o(f,s,e,r,t[4],1272893353,11),r=o(r,f,s,e,t[7],4139469664,16),e=o(e,r,f,s,t[10],3200236656,23),s=o(s,e,r,f,t[13],681279174,4),f=o(f,s,e,r,t[0],3936430074,11),r=o(r,f,s,e,t[3],3572445317,16),e=o(e,r,f,s,t[6],76029189,23),s=o(s,e,r,f,t[9],3654602809,4),f=o(f,s,e,r,t[12],3873151461,11),r=o(r,f,s,e,t[15],530742520,16),s=c(s,e=o(e,r,f,s,t[2],3299628645,23),r,f,t[0],4096336452,6),f=c(f,s,e,r,t[7],1126891415,10),r=c(r,f,s,e,t[14],2878612391,15),e=c(e,r,f,s,t[5],4237533241,21),s=c(s,e,r,f,t[12],1700485571,6),f=c(f,s,e,r,t[3],2399980690,10),r=c(r,f,s,e,t[10],4293915773,15),e=c(e,r,f,s,t[1],2240044497,21),s=c(s,e,r,f,t[8],1873313359,6),f=c(f,s,e,r,t[15],4264355552,10),r=c(r,f,s,e,t[6],2734768916,15),e=c(e,r,f,s,t[13],1309151649,21),s=c(s,e,r,f,t[4],4149444226,6),f=c(f,s,e,r,t[11],3174756917,10),r=c(r,f,s,e,t[2],718787259,15),e=c(e,r,f,s,t[9],3951481745,21),this._a=this._a+s|0,this._b=this._b+e|0,this._c=this._c+r|0,this._d=this._d+f|0},e.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var i=new t(16);return i.writeInt32LE(this._a,0),i.writeInt32LE(this._b,4),i.writeInt32LE(this._c,8),i.writeInt32LE(this._d,12),i},module.exports=e;
},{"inherits":"9q8B","hash-base":"7k3r","buffer":"eKIq"}],"NbrI":[function(require,module,exports) {

"use strict";var t=require("buffer").Buffer,i=require("inherits"),s=require("hash-base"),h=new Array(16),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],r=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],o=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function u(t,i){return t<<i|t>>>32-i}function l(t,i,s,h,e,_,r,n){return u(t+(i^s^h)+_+r|0,n)+e|0}function a(t,i,s,h,e,_,r,n){return u(t+(i&s|~i&h)+_+r|0,n)+e|0}function b(t,i,s,h,e,_,r,n){return u(t+((i|~s)^h)+_+r|0,n)+e|0}function d(t,i,s,h,e,_,r,n){return u(t+(i&h|s&~h)+_+r|0,n)+e|0}function k(t,i,s,h,e,_,r,n){return u(t+(i^(s|~h))+_+r|0,n)+e|0}i(f,s),f.prototype._update=function(){for(var t=h,i=0;i<16;++i)t[i]=this._block.readInt32LE(4*i);for(var s=0|this._a,f=0|this._b,w=0|this._c,p=0|this._d,E=0|this._e,I=0|this._a,L=0|this._b,v=0|this._c,O=0|this._d,g=0|this._e,q=0;q<80;q+=1){var y,U;q<16?(y=l(s,f,w,p,E,t[e[q]],c[0],r[q]),U=k(I,L,v,O,g,t[_[q]],o[0],n[q])):q<32?(y=a(s,f,w,p,E,t[e[q]],c[1],r[q]),U=d(I,L,v,O,g,t[_[q]],o[1],n[q])):q<48?(y=b(s,f,w,p,E,t[e[q]],c[2],r[q]),U=b(I,L,v,O,g,t[_[q]],o[2],n[q])):q<64?(y=d(s,f,w,p,E,t[e[q]],c[3],r[q]),U=a(I,L,v,O,g,t[_[q]],o[3],n[q])):(y=k(s,f,w,p,E,t[e[q]],c[4],r[q]),U=l(I,L,v,O,g,t[_[q]],o[4],n[q])),s=E,E=p,p=u(w,10),w=f,f=y,I=g,g=O,O=u(v,10),v=L,L=U}var m=this._b+w+O|0;this._b=this._c+p+g|0,this._c=this._d+E+I|0,this._d=this._e+s+L|0,this._e=this._a+f+v|0,this._a=m},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var i=t.alloc?t.alloc(20):new t(20);return i.writeInt32LE(this._a,0),i.writeInt32LE(this._b,4),i.writeInt32LE(this._c,8),i.writeInt32LE(this._d,12),i.writeInt32LE(this._e,16),i},module.exports=f;
},{"buffer":"eKIq","inherits":"9q8B","hash-base":"7k3r"}],"d5fV":[function(require,module,exports) {

var t=require("safe-buffer").Buffer;function i(i,e){this._block=t.alloc(i),this._finalSize=e,this._blockSize=i,this._len=0}i.prototype.update=function(i,e){"string"==typeof i&&(e=e||"utf8",i=t.from(i,e));for(var s=this._block,o=this._blockSize,l=i.length,h=this._len,r=0;r<l;){for(var _=h%o,n=Math.min(l-r,o-_),c=0;c<n;c++)s[_+c]=i[r+c];r+=n,(h+=n)%o==0&&this._update(s)}return this._len+=l,this},i.prototype.digest=function(t){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var s=(4294967295&e)>>>0,o=(e-s)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var l=this._hash();return t?l.toString(t):l},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=i;
},{"safe-buffer":"7/vb"}],"CPYE":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),r=require("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);function e(){this.init(),this._w=h,i.call(this,64,56)}function n(t){return t<<5|t>>>27}function _(t){return t<<30|t>>>2}function a(t,i,r,s){return 0===t?i&r|~i&s:2===t?i&r|i&s|r&s:i^r^s}t(e,i),e.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},e.prototype._update=function(t){for(var i=this._w,r=0|this._a,h=0|this._b,e=0|this._c,o=0|this._d,u=0|this._e,f=0;f<16;++f)i[f]=t.readInt32BE(4*f);for(;f<80;++f)i[f]=i[f-3]^i[f-8]^i[f-14]^i[f-16];for(var c=0;c<80;++c){var d=~~(c/20),p=n(r)+a(d,h,e,o)+u+i[c]+s[d]|0;u=o,o=e,e=_(h),h=r,r=p}this._a=r+this._a|0,this._b=h+this._b|0,this._c=e+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},e.prototype._hash=function(){var t=r.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=e;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"p+dT":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),r=require("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function h(){this.init(),this._w=e,i.call(this,64,56)}function n(t){return t<<1|t>>>31}function _(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function o(t,i,r,s){return 0===t?i&r|~i&s:2===t?i&r|i&s|r&s:i^r^s}t(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var i=this._w,r=0|this._a,e=0|this._b,h=0|this._c,a=0|this._d,f=0|this._e,c=0;c<16;++c)i[c]=t.readInt32BE(4*c);for(;c<80;++c)i[c]=n(i[c-3]^i[c-8]^i[c-14]^i[c-16]);for(var d=0;d<80;++d){var p=~~(d/20),w=_(r)+o(p,e,h,a)+f+i[d]+s[p]|0;f=a,a=h,h=u(e),e=r,r=w}this._a=r+this._a|0,this._b=e+this._b|0,this._c=h+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},h.prototype._hash=function(){var t=r.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=h;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"WoeF":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),h=require("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new Array(64);function _(){this.init(),this._w=r,i.call(this,64,56)}function n(t,i,h){return h^t&(i^h)}function e(t,i,h){return t&i|h&(t|i)}function u(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function o(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function a(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}t(_,i),_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},_.prototype._update=function(t){for(var i=this._w,h=0|this._a,r=0|this._b,_=0|this._c,c=0|this._d,w=0|this._e,B=0|this._f,E=0|this._g,I=0|this._h,d=0;d<16;++d)i[d]=t.readInt32BE(4*d);for(;d<64;++d)i[d]=a(i[d-2])+i[d-7]+o(i[d-15])+i[d-16]|0;for(var p=0;p<64;++p){var b=I+f(w)+n(w,B,E)+s[p]+i[p]|0,g=u(h)+e(h,r,_)|0;I=E,E=B,B=w,w=c+b|0,c=_,_=r,r=h,h=b+g|0}this._a=h+this._a|0,this._b=r+this._b|0,this._c=_+this._c|0,this._d=c+this._d|0,this._e=w+this._e|0,this._f=B+this._f|0,this._g=E+this._g|0,this._h=I+this._h|0},_.prototype._hash=function(){var t=h.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},module.exports=_;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"pKck":[function(require,module,exports) {

var t=require("inherits"),i=require("./sha256"),e=require("./hash"),r=require("safe-buffer").Buffer,h=new Array(64);function s(){this.init(),this._w=h,e.call(this,64,56)}t(s,i),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var t=r.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},module.exports=s;
},{"inherits":"9q8B","./sha256":"WoeF","./hash":"d5fV","safe-buffer":"7/vb"}],"mQrp":[function(require,module,exports) {

var h=require("inherits"),t=require("./hash"),i=require("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=new Array(160);function l(){this.init(),this._w=_,t.call(this,128,112)}function r(h,t,i){return i^h&(t^i)}function n(h,t,i){return h&t|i&(h|t)}function e(h,t){return(h>>>28|t<<4)^(t>>>2|h<<30)^(t>>>7|h<<25)}function f(h,t){return(h>>>14|t<<18)^(h>>>18|t<<14)^(t>>>9|h<<23)}function u(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^h>>>7}function a(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^(h>>>7|t<<25)}function c(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^h>>>6}function o(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^(h>>>6|t<<26)}function d(h,t){return h>>>0<t>>>0?1:0}h(l,t),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(h){for(var t=this._w,i=0|this._ah,_=0|this._bh,l=0|this._ch,b=0|this._dh,g=0|this._eh,p=0|this._fh,v=0|this._gh,w=0|this._hh,B=0|this._al,y=0|this._bl,E=0|this._cl,I=0|this._dl,q=0|this._el,m=0|this._fl,x=0|this._gl,A=0|this._hl,U=0;U<32;U+=2)t[U]=h.readInt32BE(4*U),t[U+1]=h.readInt32BE(4*U+4);for(;U<160;U+=2){var j=t[U-30],k=t[U-30+1],z=u(j,k),C=a(k,j),D=c(j=t[U-4],k=t[U-4+1]),F=o(k,j),G=t[U-14],H=t[U-14+1],J=t[U-32],K=t[U-32+1],L=C+H|0,M=z+G+d(L,C)|0;M=(M=M+D+d(L=L+F|0,F)|0)+J+d(L=L+K|0,K)|0,t[U]=M,t[U+1]=L}for(var N=0;N<160;N+=2){M=t[N],L=t[N+1];var O=n(i,_,l),P=n(B,y,E),Q=e(i,B),R=e(B,i),S=f(g,q),T=f(q,g),V=s[N],W=s[N+1],X=r(g,p,v),Y=r(q,m,x),Z=A+T|0,$=w+S+d(Z,A)|0;$=($=($=$+X+d(Z=Z+Y|0,Y)|0)+V+d(Z=Z+W|0,W)|0)+M+d(Z=Z+L|0,L)|0;var hh=R+P|0,th=Q+O+d(hh,R)|0;w=v,A=x,v=p,x=m,p=g,m=q,g=b+$+d(q=I+Z|0,I)|0,b=l,I=E,l=_,E=y,_=i,y=B,i=$+th+d(B=Z+hh|0,Z)|0}this._al=this._al+B|0,this._bl=this._bl+y|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+q|0,this._fl=this._fl+m|0,this._gl=this._gl+x|0,this._hl=this._hl+A|0,this._ah=this._ah+i+d(this._al,B)|0,this._bh=this._bh+_+d(this._bl,y)|0,this._ch=this._ch+l+d(this._cl,E)|0,this._dh=this._dh+b+d(this._dl,I)|0,this._eh=this._eh+g+d(this._el,q)|0,this._fh=this._fh+p+d(this._fl,m)|0,this._gh=this._gh+v+d(this._gl,x)|0,this._hh=this._hh+w+d(this._hl,A)|0},l.prototype._hash=function(){var h=i.allocUnsafe(64);function t(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),h},module.exports=l;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"t3j3":[function(require,module,exports) {

var h=require("inherits"),t=require("./sha512"),i=require("./hash"),s=require("safe-buffer").Buffer,_=new Array(160);function e(){this.init(),this._w=_,i.call(this,128,112)}h(e,t),e.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},e.prototype._hash=function(){var h=s.allocUnsafe(48);function t(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),h},module.exports=e;
},{"inherits":"9q8B","./sha512":"mQrp","./hash":"d5fV","safe-buffer":"7/vb"}],"xNS+":[function(require,module,exports) {
var e=module.exports=function(r){r=r.toLowerCase();var s=e[r];if(!s)throw new Error(r+" is not supported (we accept pull requests)");return new s};e.sha=require("./sha"),e.sha1=require("./sha1"),e.sha224=require("./sha224"),e.sha256=require("./sha256"),e.sha384=require("./sha384"),e.sha512=require("./sha512");
},{"./sha":"CPYE","./sha1":"p+dT","./sha224":"pKck","./sha256":"WoeF","./sha384":"t3j3","./sha512":"mQrp"}],"+b7B":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,i=require("stream").Transform,r=require("string_decoder").StringDecoder,e=require("inherits");function n(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e(n,i),n.prototype.update=function(i,r,e){"string"==typeof i&&(i=t.from(i,r));var n=this._update(i);return this.hashMode?this:(e&&(n=this._toString(n,e)),n)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(t,i,r){var e;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){e=t}finally{r(e)}},n.prototype._flush=function(t){var i;try{this.push(this.__final())}catch(t){i=t}t(i)},n.prototype._finalOrDigest=function(i){var r=this.__final()||t.alloc(0);return i&&(r=this._toString(r,i,!0)),r},n.prototype._toString=function(t,i,e){if(this._decoder||(this._decoder=new r(i),this._encoding=i),this._encoding!==i)throw new Error("can't switch encodings");var n=this._decoder.write(t);return e&&(n+=this._decoder.end()),n},module.exports=n;
},{"safe-buffer":"7/vb","stream":"Rhfi","string_decoder":"9rVa","inherits":"9q8B"}],"Uj4C":[function(require,module,exports) {
"use strict";var e=require("inherits"),r=require("md5.js"),t=require("ripemd160"),i=require("sha.js"),s=require("cipher-base");function n(e){s.call(this,"digest"),this._hash=e}e(n,s),n.prototype._update=function(e){this._hash.update(e)},n.prototype._final=function(){return this._hash.digest()},module.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new t:new n(i(e))};
},{"inherits":"9q8B","md5.js":"RkNY","ripemd160":"NbrI","sha.js":"xNS+","cipher-base":"+b7B"}],"nAwb":[function(require,module,exports) {

"use strict";var t=require("inherits"),e=require("safe-buffer").Buffer,a=require("cipher-base"),i=e.alloc(128),s=64;function h(t,h){a.call(this,"digest"),"string"==typeof h&&(h=e.from(h)),this._alg=t,this._key=h,h.length>s?h=t(h):h.length<s&&(h=e.concat([h,i],s));for(var r=this._ipad=e.allocUnsafe(s),o=this._opad=e.allocUnsafe(s),n=0;n<s;n++)r[n]=54^h[n],o[n]=92^h[n];this._hash=[r]}t(h,a),h.prototype._update=function(t){this._hash.push(t)},h.prototype._final=function(){var t=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,t]))},module.exports=h;
},{"inherits":"9q8B","safe-buffer":"7/vb","cipher-base":"+b7B"}],"c1Dd":[function(require,module,exports) {
var e=require("md5.js");module.exports=function(r){return(new e).update(r).digest()};
},{"md5.js":"RkNY"}],"ki/q":[function(require,module,exports) {

"use strict";var e=require("inherits"),t=require("./legacy"),r=require("cipher-base"),a=require("safe-buffer").Buffer,i=require("create-hash/md5"),s=require("ripemd160"),h=require("sha.js"),n=a.alloc(128);function d(e,t){r.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new s:h(e)).update(t).digest():t.length<i&&(t=a.concat([t,n],i));for(var d=this._ipad=a.allocUnsafe(i),u=this._opad=a.allocUnsafe(i),o=0;o<i;o++)d[o]=54^t[o],u[o]=92^t[o];this._hash="rmd160"===e?new s:h(e),this._hash.update(d)}e(d,r),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new s:h(this._alg)).update(this._opad).update(e).digest()},module.exports=function(e,r){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",r):"md5"===e?new t(i,r):new d(e,r)};
},{"inherits":"9q8B","./legacy":"nAwb","cipher-base":"+b7B","safe-buffer":"7/vb","create-hash/md5":"c1Dd","ripemd160":"NbrI","sha.js":"xNS+"}],"sXju":[function(require,module,exports) {
module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};
},{}],"e+N1":[function(require,module,exports) {
module.exports=require("./browser/algorithms.json");
},{"./browser/algorithms.json":"sXju"}],"/eyl":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=Math.pow(2,30)-1;function o(e,o){if("string"!=typeof e&&!r.isBuffer(e))throw new TypeError(o+" must be a buffer or string")}module.exports=function(r,t,n,f){if(o(r,"Password"),o(t,"Salt"),"number"!=typeof n)throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if("number"!=typeof f)throw new TypeError("Key length not a number");if(f<0||f>e||f!=f)throw new TypeError("Bad key length")};
},{"buffer":"eKIq"}],"w/zF":[function(require,module,exports) {
var process = require("process");
var e,r=require("process");if(r.browser)e="utf-8";else{var s=parseInt(r.version.split(".")[0].slice(1),10);e=s>=6?"utf-8":"binary"}module.exports=e;
},{"process":"HLGr"}],"MPMQ":[function(require,module,exports) {

var e=require("create-hash/md5"),r=require("ripemd160"),a=require("sha.js"),i=require("./precondition"),s=require("./default-encoding"),t=require("safe-buffer").Buffer,h=t.alloc(128),o={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function n(e,r,a){var i=f(e),s="sha512"===e||"sha384"===e?128:64;r.length>s?r=i(r):r.length<s&&(r=t.concat([r,h],s));for(var n=t.allocUnsafe(s+o[e]),c=t.allocUnsafe(s+o[e]),l=0;l<s;l++)n[l]=54^r[l],c[l]=92^r[l];var u=t.allocUnsafe(s+a+4);n.copy(u,0,0,s),this.ipad1=u,this.ipad2=n,this.opad=c,this.alg=e,this.blocksize=s,this.hash=i,this.size=o[e]}function f(i){return"rmd160"===i||"ripemd160"===i?r:"md5"===i?e:function(e){return a(i).update(e).digest()}}function c(e,r,a,h,f){i(e,r,a,h),t.isBuffer(e)||(e=t.from(e,s)),t.isBuffer(r)||(r=t.from(r,s));var c=new n(f=f||"sha1",e,r.length),l=t.allocUnsafe(h),u=t.allocUnsafe(r.length+4);r.copy(u,0,0,r.length);for(var d=0,p=o[f],m=Math.ceil(h/p),g=1;g<=m;g++){u.writeUInt32BE(g,r.length);for(var v=c.run(u,c.ipad1),q=v,y=1;y<a;y++){q=c.run(q,c.ipad2);for(var U=0;U<p;U++)v[U]^=q[U]}v.copy(l,d),d+=p}return l}n.prototype.run=function(e,r){return e.copy(r,this.blocksize),this.hash(r).copy(this.opad,this.blocksize),this.hash(this.opad)},module.exports=c;
},{"create-hash/md5":"c1Dd","ripemd160":"NbrI","sha.js":"xNS+","./precondition":"/eyl","./default-encoding":"w/zF","safe-buffer":"7/vb"}],"zoZe":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var r,e=arguments[3],n=require("process"),t=require("./precondition"),o=require("./default-encoding"),i=require("./sync"),u=require("safe-buffer").Buffer,f=e.crypto&&e.crypto.subtle,s={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[];function a(n){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==c[n])return c[n];var t=h(r=r||u.alloc(8),r,10,128,n).then(function(){return!0}).catch(function(){return!1});return c[n]=t,t}function h(r,e,n,t,o){return f.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]).then(function(r){return f.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:o}},r,t<<3)}).then(function(r){return u.from(r)})}function l(r,e){r.then(function(r){n.nextTick(function(){e(null,r)})},function(r){n.nextTick(function(){e(r)})})}module.exports=function(r,f,c,p,m,d){"function"==typeof m&&(d=m,m=void 0);var v=s[(m=m||"sha1").toLowerCase()];if(!v||"function"!=typeof e.Promise)return n.nextTick(function(){var e;try{e=i(r,f,c,p,m)}catch(r){return d(r)}d(null,e)});if(t(r,f,c,p),"function"!=typeof d)throw new Error("No callback provided to pbkdf2");u.isBuffer(r)||(r=u.from(r,o)),u.isBuffer(f)||(f=u.from(f,o)),l(a(v).then(function(e){return e?h(r,f,c,p,v):i(r,f,c,p,m)}),d)};
},{"./precondition":"/eyl","./default-encoding":"w/zF","./sync":"MPMQ","safe-buffer":"7/vb","process":"HLGr"}],"1oZ5":[function(require,module,exports) {
exports.pbkdf2=require("./lib/async"),exports.pbkdf2Sync=require("./lib/sync");
},{"./lib/async":"zoZe","./lib/sync":"MPMQ"}],"7Kpu":[function(require,module,exports) {
"use strict";exports.readUInt32BE=function(r,o){return(r[0+o]<<24|r[1+o]<<16|r[2+o]<<8|r[3+o])>>>0},exports.writeUInt32BE=function(r,o,t){r[0+t]=o>>>24,r[1+t]=o>>>16&255,r[2+t]=o>>>8&255,r[3+t]=255&o},exports.ip=function(r,o,t,f){for(var n=0,e=0,u=6;u>=0;u-=2){for(var i=0;i<=24;i+=8)n<<=1,n|=o>>>i+u&1;for(i=0;i<=24;i+=8)n<<=1,n|=r>>>i+u&1}for(u=6;u>=0;u-=2){for(i=1;i<=25;i+=8)e<<=1,e|=o>>>i+u&1;for(i=1;i<=25;i+=8)e<<=1,e|=r>>>i+u&1}t[f+0]=n>>>0,t[f+1]=e>>>0},exports.rip=function(r,o,t,f){for(var n=0,e=0,u=0;u<4;u++)for(var i=24;i>=0;i-=8)n<<=1,n|=o>>>i+u&1,n<<=1,n|=r>>>i+u&1;for(u=4;u<8;u++)for(i=24;i>=0;i-=8)e<<=1,e|=o>>>i+u&1,e<<=1,e|=r>>>i+u&1;t[f+0]=n>>>0,t[f+1]=e>>>0},exports.pc1=function(r,o,t,f){for(var n=0,e=0,u=7;u>=5;u--){for(var i=0;i<=24;i+=8)n<<=1,n|=o>>i+u&1;for(i=0;i<=24;i+=8)n<<=1,n|=r>>i+u&1}for(i=0;i<=24;i+=8)n<<=1,n|=o>>i+u&1;for(u=1;u<=3;u++){for(i=0;i<=24;i+=8)e<<=1,e|=o>>i+u&1;for(i=0;i<=24;i+=8)e<<=1,e|=r>>i+u&1}for(i=0;i<=24;i+=8)e<<=1,e|=r>>i+u&1;t[f+0]=n>>>0,t[f+1]=e>>>0},exports.r28shl=function(r,o){return r<<o&268435455|r>>>28-o};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(o,t,f,n){for(var e=0,u=0,i=r.length>>>1,p=0;p<i;p++)e<<=1,e|=o>>>r[p]&1;for(p=i;p<r.length;p++)u<<=1,u|=t>>>r[p]&1;f[n+0]=e>>>0,f[n+1]=u>>>0},exports.expand=function(r,o,t){var f=0,n=0;f=(1&r)<<5|r>>>27;for(var e=23;e>=15;e-=4)f<<=6,f|=r>>>e&63;for(e=11;e>=3;e-=4)n|=r>>>e&63,n<<=6;n|=(31&r)<<1|r>>>31,o[t+0]=f>>>0,o[t+1]=n>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(r,t){for(var f=0,n=0;n<4;n++){f<<=4,f|=o[64*n+(r>>>18-6*n&63)]}for(n=0;n<4;n++){f<<=4,f|=o[256+64*n+(t>>>18-6*n&63)]}return f>>>0};var t=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(r){for(var o=0,f=0;f<t.length;f++)o<<=1,o|=r>>>t[f]&1;return o>>>0},exports.padSplit=function(r,o,t){for(var f=r.toString(2);f.length<o;)f="0"+f;for(var n=[],e=0;e<o;e+=t)n.push(f.slice(e,e+t));return n.join(" ")};
},{}],"iHaQ":[function(require,module,exports) {
function r(r,o){if(!r)throw new Error(o||"Assertion failed")}module.exports=r,r.equal=function(r,o,e){if(r!=o)throw new Error(e||"Assertion failed: "+r+" != "+o)};
},{}],"F9qQ":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert");function f(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}module.exports=f,f.prototype._init=function(){},f.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},f.prototype._buffer=function(t,f){for(var e=Math.min(this.buffer.length-this.bufferOff,t.length-f),r=0;r<e;r++)this.buffer[this.bufferOff+r]=t[f+r];return this.bufferOff+=e,e},f.prototype._flushBuffer=function(t,f){return this._update(this.buffer,0,t,f),this.bufferOff=0,this.blockSize},f.prototype._updateEncrypt=function(t){var f=0,e=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(f+=this._buffer(t,f),this.bufferOff===this.buffer.length&&(e+=this._flushBuffer(i,e)));for(var h=t.length-(t.length-f)%this.blockSize;f<h;f+=this.blockSize)this._update(t,f,i,e),e+=this.blockSize;for(;f<t.length;f++,this.bufferOff++)this.buffer[this.bufferOff]=t[f];return i},f.prototype._updateDecrypt=function(t){for(var f=0,e=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)f+=this._buffer(t,f),e+=this._flushBuffer(i,e);return f+=this._buffer(t,f),i},f.prototype.final=function(t){var f,e;return t&&(f=this.update(t)),e="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),f?f.concat(e):e},f.prototype._pad=function(t,f){if(0===f)return!1;for(;f<t.length;)t[f++]=0;return!0},f.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},f.prototype._unpad=function(t){return t},f.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var f=new Array(this.blockSize);return this._flushBuffer(f,0),this._unpad(f)};
},{"minimalistic-assert":"iHaQ"}],"w49A":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert"),e=require("inherits"),r=require("../des"),n=r.utils,p=r.Cipher;function i(){this.tmp=new Array(2),this.keys=null}function s(t){p.call(this,t);var e=new i;this._desState=e,this.deriveKeys(e,t.key)}e(s,p),module.exports=s,s.create=function(t){return new s(t)};var a=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(e,r){e.keys=new Array(32),t.equal(r.length,this.blockSize,"Invalid key length");var p=n.readUInt32BE(r,0),i=n.readUInt32BE(r,4);n.pc1(p,i,e.tmp,0),p=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=a[s>>>1];p=n.r28shl(p,o),i=n.r28shl(i,o),n.pc2(p,i,e.keys,s)}},s.prototype._update=function(t,e,r,p){var i=this._desState,s=n.readUInt32BE(t,e),a=n.readUInt32BE(t,e+4);n.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],n.writeUInt32BE(r,s,p),n.writeUInt32BE(r,a,p+4)},s.prototype._pad=function(t,e){for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},s.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)t.equal(e[n],r);return e.slice(0,e.length-r)},s.prototype._encrypt=function(t,e,r,p,i){for(var s=e,a=r,o=0;o<t.keys.length;o+=2){var u=t.keys[o],y=t.keys[o+1];n.expand(a,t.tmp,0),u^=t.tmp[0],y^=t.tmp[1];var h=n.substitute(u,y),l=a;a=(s^n.permute(h))>>>0,s=l}n.rip(a,s,p,i)},s.prototype._decrypt=function(t,e,r,p,i){for(var s=r,a=e,o=t.keys.length-2;o>=0;o-=2){var u=t.keys[o],y=t.keys[o+1];n.expand(s,t.tmp,0),u^=t.tmp[0],y^=t.tmp[1];var h=n.substitute(u,y),l=s;s=(a^n.permute(h))>>>0,a=l}n.rip(s,a,p,i)};
},{"minimalistic-assert":"iHaQ","inherits":"9q8B","../des":"LXRX"}],"0mQv":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert"),i=require("inherits"),e={};function r(i){t.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=i[e]}function n(t){function r(i){t.call(this,i),this._cbcInit()}i(r,t);for(var n=Object.keys(e),s=0;s<n.length;s++){var c=n[s];r.prototype[c]=e[c]}return r.create=function(t){return new r(t)},r}exports.instantiate=n,e._cbcInit=function(){var t=new r(this.options.iv);this._cbcState=t},e._update=function(t,i,e,r){var n=this._cbcState,s=this.constructor.super_.prototype,c=n.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)c[o]^=t[i+o];s._update.call(this,c,0,e,r);for(o=0;o<this.blockSize;o++)c[o]=e[r+o]}else{s._update.call(this,t,i,e,r);for(o=0;o<this.blockSize;o++)e[r+o]^=c[o];for(o=0;o<this.blockSize;o++)c[o]=t[i+o]}};
},{"minimalistic-assert":"iHaQ","inherits":"9q8B"}],"bwIV":[function(require,module,exports) {
"use strict";var e=require("minimalistic-assert"),t=require("inherits"),r=require("../des"),p=r.Cipher,i=r.DES;function c(t,r){e.equal(r.length,24,"Invalid key length");var p=r.slice(0,8),c=r.slice(8,16),y=r.slice(16,24);this.ciphers="encrypt"===t?[i.create({type:"encrypt",key:p}),i.create({type:"decrypt",key:c}),i.create({type:"encrypt",key:y})]:[i.create({type:"decrypt",key:y}),i.create({type:"encrypt",key:c}),i.create({type:"decrypt",key:p})]}function y(e){p.call(this,e);var t=new c(this.type,this.options.key);this._edeState=t}t(y,p),module.exports=y,y.create=function(e){return new y(e)},y.prototype._update=function(e,t,r,p){var i=this._edeState;i.ciphers[0]._update(e,t,r,p),i.ciphers[1]._update(r,p,r,p),i.ciphers[2]._update(r,p,r,p)},y.prototype._pad=i.prototype._pad,y.prototype._unpad=i.prototype._unpad;
},{"minimalistic-assert":"iHaQ","inherits":"9q8B","../des":"LXRX"}],"LXRX":[function(require,module,exports) {
"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede");
},{"./des/utils":"7Kpu","./des/cipher":"F9qQ","./des/des":"w49A","./des/cbc":"0mQv","./des/ede":"bwIV"}],"cONZ":[function(require,module,exports) {

var e=require("cipher-base"),r=require("des.js"),t=require("inherits"),s=require("safe-buffer").Buffer,d={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function i(r){e.call(this);var t,i=r.mode.toLowerCase(),c=d[i];t=r.decrypt?"decrypt":"encrypt";var a=r.key;s.isBuffer(a)||(a=s.from(a)),"des-ede"!==i&&"des-ede-cbc"!==i||(a=s.concat([a,a.slice(0,8)]));var n=r.iv;s.isBuffer(n)||(n=s.from(n)),this._des=c.create({key:a,iv:n,type:t})}d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],module.exports=i,t(i,e),i.prototype._update=function(e){return s.from(this._des.update(e))},i.prototype._final=function(){return s.from(this._des.final())};
},{"cipher-base":"+b7B","des.js":"LXRX","inherits":"9q8B","safe-buffer":"7/vb"}],"LsLc":[function(require,module,exports) {
exports.encrypt=function(r,c){return r._cipher.encryptBlock(c)},exports.decrypt=function(r,c){return r._cipher.decryptBlock(c)};
},{}],"m3IW":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;module.exports=function(r,n){for(var f=Math.min(r.length,n.length),t=new e(f),u=0;u<f;++u)t[u]=r[u]^n[u];return t};
},{"buffer":"eKIq"}],"150a":[function(require,module,exports) {
var r=require("buffer-xor");exports.encrypt=function(e,p){var c=r(p,e._prev);return e._prev=e._cipher.encryptBlock(c),e._prev},exports.decrypt=function(e,p){var c=e._prev;e._prev=p;var t=e._cipher.decryptBlock(p);return r(t,c)};
},{"buffer-xor":"m3IW"}],"S8R6":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,c=require("buffer-xor");function r(r,a,n){var t=a.length,h=c(a,r._cache);return r._cache=r._cache.slice(t),r._prev=e.concat([r._prev,n?a:h]),h}exports.encrypt=function(c,a,n){for(var t,h=e.allocUnsafe(0);a.length;){if(0===c._cache.length&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=e.allocUnsafe(0)),!(c._cache.length<=a.length)){h=e.concat([h,r(c,a,n)]);break}t=c._cache.length,h=e.concat([h,r(c,a.slice(0,t),n)]),a=a.slice(t)}return h};
},{"safe-buffer":"7/vb","buffer-xor":"m3IW"}],"1xqm":[function(require,module,exports) {

var r=require("safe-buffer").Buffer;function e(e,n,c){var f=e._cipher.encryptBlock(e._prev)[0]^n;return e._prev=r.concat([e._prev.slice(1),r.from([c?n:f])]),f}exports.encrypt=function(n,c,f){for(var t=c.length,o=r.allocUnsafe(t),a=-1;++a<t;)o[a]=e(n,c[a],f);return o};
},{"safe-buffer":"7/vb"}],"yWOL":[function(require,module,exports) {

var r=require("safe-buffer").Buffer;function e(r,e,f){for(var t,o,c=-1,a=0;++c<8;)t=e&1<<7-c?128:0,a+=(128&(o=r._cipher.encryptBlock(r._prev)[0]^t))>>c%8,r._prev=n(r._prev,f?t:o);return a}function n(e,n){var f=e.length,t=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([n])]);++t<f;)o[t]=e[t]<<1|e[t+1]>>7;return o}exports.encrypt=function(n,f,t){for(var o=f.length,c=r.allocUnsafe(o),a=-1;++a<o;)c[a]=e(n,f[a],t);return c};
},{"safe-buffer":"7/vb"}],"aZXJ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,c=require("buffer-xor");function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}exports.encrypt=function(n,t){for(;n._cache.length<t.length;)n._cache=e.concat([n._cache,r(n)]);var h=n._cache.slice(0,t.length);return n._cache=n._cache.slice(t.length),c(t,h)};
},{"buffer-xor":"m3IW","buffer":"eKIq"}],"EZQx":[function(require,module,exports) {
function t(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}module.exports=t;
},{}],"qsTk":[function(require,module,exports) {

var e=require("buffer-xor"),c=require("safe-buffer").Buffer,r=require("../incr32");function a(e){var c=e._cipher.encryptBlockRaw(e._prev);return r(e._prev),c}var t=16;exports.encrypt=function(r,n){var h=Math.ceil(n.length/t),i=r._cache.length;r._cache=c.concat([r._cache,c.allocUnsafe(h*t)]);for(var _=0;_<h;_++){var f=a(r),l=i+_*t;r._cache.writeUInt32BE(f[0],l+0),r._cache.writeUInt32BE(f[1],l+4),r._cache.writeUInt32BE(f[2],l+8),r._cache.writeUInt32BE(f[3],l+12)}var u=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),e(n,u)};
},{"buffer-xor":"m3IW","safe-buffer":"7/vb","../incr32":"EZQx"}],"UQlp":[function(require,module,exports) {
module.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};
},{}],"CFOH":[function(require,module,exports) {
var r={ECB:require("./ecb"),CBC:require("./cbc"),CFB:require("./cfb"),CFB8:require("./cfb8"),CFB1:require("./cfb1"),OFB:require("./ofb"),CTR:require("./ctr"),GCM:require("./ctr")},e=require("./list.json");for(var i in e)e[i].module=r[e[i].mode];module.exports=e;
},{"./ecb":"LsLc","./cbc":"150a","./cfb":"S8R6","./cfb8":"1xqm","./cfb1":"yWOL","./ofb":"aZXJ","./ctr":"qsTk","./list.json":"UQlp"}],"XFXp":[function(require,module,exports) {

var e=require("safe-buffer").Buffer;function t(t){e.isBuffer(t)||(t=e.from(t));for(var r=t.length/4|0,n=new Array(r),o=0;o<r;o++)n[o]=t.readUInt32BE(4*o);return n}function r(e){for(;0<e.length;e++)e[0]=0}function n(e,t,r,n,o){for(var i,B,S,u,c=r[0],_=r[1],f=r[2],a=r[3],s=e[0]^t[0],y=e[1]^t[1],I=e[2]^t[2],X=e[3]^t[3],h=4,l=1;l<o;l++)i=c[s>>>24]^_[y>>>16&255]^f[I>>>8&255]^a[255&X]^t[h++],B=c[y>>>24]^_[I>>>16&255]^f[X>>>8&255]^a[255&s]^t[h++],S=c[I>>>24]^_[X>>>16&255]^f[s>>>8&255]^a[255&y]^t[h++],u=c[X>>>24]^_[s>>>16&255]^f[y>>>8&255]^a[255&I]^t[h++],s=i,y=B,I=S,X=u;return i=(n[s>>>24]<<24|n[y>>>16&255]<<16|n[I>>>8&255]<<8|n[255&X])^t[h++],B=(n[y>>>24]<<24|n[I>>>16&255]<<16|n[X>>>8&255]<<8|n[255&s])^t[h++],S=(n[I>>>24]<<24|n[X>>>16&255]<<16|n[s>>>8&255]<<8|n[255&y])^t[h++],u=(n[X>>>24]<<24|n[s>>>16&255]<<16|n[y>>>8&255]<<8|n[255&I])^t[h++],[i>>>=0,B>>>=0,S>>>=0,u>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],o=[[],[],[],[]],i=[[],[],[],[]],B=0,S=0,u=0;u<256;++u){var c=S^S<<1^S<<2^S<<3^S<<4;c=c>>>8^255&c^99,r[B]=c,n[c]=B;var _=e[B],f=e[_],a=e[f],s=257*e[c]^16843008*c;o[0][B]=s<<24|s>>>8,o[1][B]=s<<16|s>>>16,o[2][B]=s<<8|s>>>24,o[3][B]=s,s=16843009*a^65537*f^257*_^16843008*B,i[0][c]=s<<24|s>>>8,i[1][c]=s<<16|s>>>16,i[2][c]=s<<8|s>>>24,i[3][c]=s,0===B?B=S=1:(B=_^e[e[e[a^_]]],S^=e[e[S]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:o,INV_SUB_MIX:i}}();function B(e){this._key=t(e),this._reset()}B.blockSize=16,B.keySize=32,B.prototype.blockSize=B.blockSize,B.prototype.keySize=B.keySize,B.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),B=[],S=0;S<t;S++)B[S]=e[S];for(S=t;S<n;S++){var u=B[S-1];S%t==0?(u=u<<8|u>>>24,u=i.SBOX[u>>>24]<<24|i.SBOX[u>>>16&255]<<16|i.SBOX[u>>>8&255]<<8|i.SBOX[255&u],u^=o[S/t|0]<<24):t>6&&S%t==4&&(u=i.SBOX[u>>>24]<<24|i.SBOX[u>>>16&255]<<16|i.SBOX[u>>>8&255]<<8|i.SBOX[255&u]),B[S]=B[S-t]^u}for(var c=[],_=0;_<n;_++){var f=n-_,a=B[f-(_%4?0:4)];c[_]=_<4||f<=4?a:i.INV_SUB_MIX[0][i.SBOX[a>>>24]]^i.INV_SUB_MIX[1][i.SBOX[a>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[a>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&a]]}this._nRounds=r,this._keySchedule=B,this._invKeySchedule=c},B.prototype.encryptBlockRaw=function(e){return n(e=t(e),this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},B.prototype.encryptBlock=function(t){var r=this.encryptBlockRaw(t),n=e.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},B.prototype.decryptBlock=function(r){var o=(r=t(r))[1];r[1]=r[3],r[3]=o;var B=n(r,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),S=e.allocUnsafe(16);return S.writeUInt32BE(B[0],0),S.writeUInt32BE(B[3],4),S.writeUInt32BE(B[2],8),S.writeUInt32BE(B[1],12),S},B.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},module.exports.AES=B;
},{"safe-buffer":"7/vb"}],"bJg2":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,e=t.alloc(16,0);function h(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function a(e){var h=t.allocUnsafe(16);return h.writeUInt32BE(e[0]>>>0,0),h.writeUInt32BE(e[1]>>>0,4),h.writeUInt32BE(e[2]>>>0,8),h.writeUInt32BE(e[3]>>>0,12),h}function i(e){this.h=e,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}i.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},i.prototype._multiply=function(){for(var t,e,i=h(this.h),c=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(c[0]^=i[0],c[1]^=i[1],c[2]^=i[2],c[3]^=i[3]),e=0!=(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,e&&(i[0]=i[0]^225<<24)}this.state=a(c)},i.prototype.update=function(e){var h;for(this.cache=t.concat([this.cache,e]);this.cache.length>=16;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},i.prototype.final=function(h,i){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(a([0,h,0,i])),this.state},module.exports=i;
},{"safe-buffer":"7/vb"}],"ehNT":[function(require,module,exports) {

var t=require("./aes"),e=require("safe-buffer").Buffer,r=require("cipher-base"),h=require("inherits"),a=require("./ghash"),i=require("buffer-xor"),n=require("./incr32");function s(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),a=0;a<h;++a)r+=t[a]^e[a];return r}function o(t,r,h){if(12===r.length)return t._finID=e.concat([r,e.from([0,0,0,1])]),e.concat([r,e.from([0,0,0,2])]);var i=new a(h),s=r.length,o=s%16;i.update(r),o&&(o=16-o,i.update(e.alloc(o,0))),i.update(e.alloc(8,0));var u=8*s,l=e.alloc(8);l.writeUIntBE(u,0,8),i.update(l),t._finID=i.state;var c=e.from(t._finID);return n(c),c}function u(h,i,n,s){r.call(this);var u=e.alloc(4,0);this._cipher=new t.AES(i);var l=this._cipher.encryptBlock(u);this._ghash=new a(l),n=o(this,n,l),this._prev=e.from(n),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}h(u,r),u.prototype._update=function(t){if(!this._called&&this._alen){var r=16-this._alen%16;r<16&&(r=e.alloc(r,0),this._ghash.update(r))}this._called=!0;var h=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(h),this._len+=t.length,h},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&s(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},u.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},module.exports=u;
},{"./aes":"XFXp","safe-buffer":"7/vb","cipher-base":"+b7B","inherits":"9q8B","./ghash":"bJg2","buffer-xor":"m3IW","./incr32":"EZQx"}],"57y3":[function(require,module,exports) {

var e=require("./aes"),r=require("safe-buffer").Buffer,t=require("cipher-base"),i=require("inherits");function s(i,s,c,h){t.call(this),this._cipher=new e.AES(s),this._prev=r.from(c),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=h,this._mode=i}i(s,t),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},module.exports=s;
},{"./aes":"XFXp","safe-buffer":"7/vb","cipher-base":"+b7B","inherits":"9q8B"}],"M/sc":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,r=require("md5.js");function t(t,a,f,l){if(e.isBuffer(t)||(t=e.from(t,"binary")),a&&(e.isBuffer(a)||(a=e.from(a,"binary")),8!==a.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=f/8,i=e.alloc(n),o=e.alloc(l||0),u=e.alloc(0);n>0||l>0;){var h=new r;h.update(u),h.update(t),a&&h.update(a),u=h.digest();var g=0;if(n>0){var s=i.length-n;g=Math.min(n,u.length),u.copy(i,s,0,g),n-=g}if(g<u.length&&l>0){var d=o.length-l,v=Math.min(l,u.length-g);u.copy(o,d,g,g+v),l-=v}}return u.fill(0),{key:i,iv:o}}module.exports=t;
},{"safe-buffer":"7/vb","md5.js":"RkNY"}],"KlWT":[function(require,module,exports) {

var e=require("./modes"),t=require("./authCipher"),r=require("safe-buffer").Buffer,i=require("./streamCipher"),n=require("cipher-base"),h=require("./aes"),o=require("evp_bytestokey"),a=require("inherits");function c(e,t,i){n.call(this),this._cache=new u,this._cipher=new h.AES(t),this._prev=r.from(i),this._mode=e,this._autopadding=!0}a(c,n),c.prototype._update=function(e){var t,i;this._cache.add(e);for(var n=[];t=this._cache.get();)i=this._mode.encrypt(this,t),n.push(i);return r.concat(n)};var s=r.alloc(16,16);function u(){this.cache=r.allocUnsafe(0)}function p(n,h,o){var a=e[n.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof h&&(h=r.from(h)),h.length!==a.key/8)throw new TypeError("invalid key length "+h.length);if("string"==typeof o&&(o=r.from(o)),"GCM"!==a.mode&&o.length!==a.iv)throw new TypeError("invalid iv length "+o.length);return"stream"===a.type?new i(a.module,h,o):"auth"===a.type?new t(a.module,h,o):new c(a.module,h,o)}function f(t,r){var i=e[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=o(r,!1,i.key,i.iv);return p(t,n.key,n.iv)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(s))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=r.concat([this.cache,e])},u.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},u.prototype.flush=function(){for(var e=16-this.cache.length,t=r.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return r.concat([this.cache,t])},exports.createCipheriv=p,exports.createCipher=f;
},{"./modes":"CFOH","./authCipher":"ehNT","safe-buffer":"7/vb","./streamCipher":"57y3","cipher-base":"+b7B","./aes":"XFXp","evp_bytestokey":"M/sc","inherits":"9q8B"}],"uC2q":[function(require,module,exports) {

var e=require("./authCipher"),t=require("safe-buffer").Buffer,r=require("./modes"),i=require("./streamCipher"),h=require("cipher-base"),n=require("./aes"),o=require("evp_bytestokey"),a=require("inherits");function c(e,r,i){h.call(this),this._cache=new s,this._last=void 0,this._cipher=new n.AES(r),this._prev=t.from(i),this._mode=e,this._autopadding=!0}function s(){this.cache=t.allocUnsafe(0)}function u(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function p(h,n,o){var a=r[h.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof o&&(o=t.from(o)),"GCM"!==a.mode&&o.length!==a.iv)throw new TypeError("invalid iv length "+o.length);if("string"==typeof n&&(n=t.from(n)),n.length!==a.key/8)throw new TypeError("invalid key length "+n.length);return"stream"===a.type?new i(a.module,n,o,!0):"auth"===a.type?new e(a.module,n,o,!0):new c(a.module,n,o)}function f(e,t){var i=r[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var h=o(t,!1,i.key,i.iv);return p(e,h.key,h.iv)}a(c,h),c.prototype._update=function(e){var r,i;this._cache.add(e);for(var h=[];r=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,r),h.push(i);return t.concat(h)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},s.prototype.add=function(e){this.cache=t.concat([this.cache,e])},s.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},s.prototype.flush=function(){if(this.cache.length)return this.cache},exports.createDecipher=f,exports.createDecipheriv=p;
},{"./authCipher":"ehNT","safe-buffer":"7/vb","./modes":"CFOH","./streamCipher":"57y3","cipher-base":"+b7B","./aes":"XFXp","evp_bytestokey":"M/sc","inherits":"9q8B"}],"QG7D":[function(require,module,exports) {
var e=require("./encrypter"),r=require("./decrypter"),i=require("./modes/list.json");function p(){return Object.keys(i)}exports.createCipher=exports.Cipher=e.createCipher,exports.createCipheriv=exports.Cipheriv=e.createCipheriv,exports.createDecipher=exports.Decipher=r.createDecipher,exports.createDecipheriv=exports.Decipheriv=r.createDecipheriv,exports.listCiphers=exports.getCiphers=p;
},{"./encrypter":"KlWT","./decrypter":"uC2q","./modes/list.json":"UQlp"}],"5yAA":[function(require,module,exports) {
exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0};
},{}],"+IlK":[function(require,module,exports) {
var e=require("browserify-des"),r=require("browserify-aes/browser"),i=require("browserify-aes/modes"),t=require("browserify-des/modes"),o=require("evp_bytestokey");function s(e,r){var s,p;if(e=e.toLowerCase(),i[e])s=i[e].key,p=i[e].iv;else{if(!t[e])throw new TypeError("invalid suite type");s=8*t[e].key,p=t[e].iv}var v=o(r,!1,s,p);return n(e,v.key,v.iv)}function p(e,r){var s,p;if(e=e.toLowerCase(),i[e])s=i[e].key,p=i[e].iv;else{if(!t[e])throw new TypeError("invalid suite type");s=8*t[e].key,p=t[e].iv}var n=o(r,!1,s,p);return v(e,n.key,n.iv)}function n(o,s,p){if(o=o.toLowerCase(),i[o])return r.createCipheriv(o,s,p);if(t[o])return new e({key:s,iv:p,mode:o});throw new TypeError("invalid suite type")}function v(o,s,p){if(o=o.toLowerCase(),i[o])return r.createDecipheriv(o,s,p);if(t[o])return new e({key:s,iv:p,mode:o,decrypt:!0});throw new TypeError("invalid suite type")}function y(){return Object.keys(t).concat(r.getCiphers())}exports.createCipher=exports.Cipher=s,exports.createCipheriv=exports.Cipheriv=n,exports.createDecipher=exports.Decipher=p,exports.createDecipheriv=exports.Decipheriv=v,exports.listCiphers=exports.getCiphers=y;
},{"browserify-des":"cONZ","browserify-aes/browser":"QG7D","browserify-aes/modes":"CFOH","browserify-des/modes":"5yAA","evp_bytestokey":"M/sc"}],"FQk1":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function h(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,i,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(r=i,i=10),this._init(t||0,i||10,r||"be"))}var e;"object"==typeof t?t.exports=n:i.BN=n,n.BN=n,n.wordSize=26;try{e=require("buffer").Buffer}catch(t){}function o(t,i,r){for(var h=0,n=Math.min(t.length,r),e=i;e<n;e++){var o=t.charCodeAt(e)-48;h<<=4,h|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return h}function s(t,i,r,h){for(var n=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;n*=h,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,i){return t.cmp(i)>0?t:i},n.min=function(t,i){return t.cmp(i)<0?t:i},n.prototype._init=function(t,i,h){if("number"==typeof t)return this._initNumber(t,i,h);if("object"==typeof t)return this._initArray(t,i,h);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===i?this._parseHex(t,n):this._parseBase(t,i,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initNumber=function(t,i,h){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initArray=function(t,i,h){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var e,o,s=0;if("be"===h)for(n=t.length-1,e=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if("le"===h)for(n=0,e=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},n.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var h,n,e=0;for(r=t.length-6,h=0;r>=i;r-=6)n=o(t,r,r+6),this.words[h]|=n<<e&67108863,this.words[h+1]|=n>>>26-e&4194303,(e+=24)>=26&&(e-=26,h++);r+6!==i&&(n=o(t,i,r+6),this.words[h]|=n<<e&67108863,this.words[h+1]|=n>>>26-e&4194303),this.strip()},n.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var h=0,n=1;n<=67108863;n*=i)h++;h--,n=n/i|0;for(var e=t.length-r,o=e%h,u=Math.min(e,e-o)+r,a=0,l=r;l<u;l+=h)a=s(t,l,l+h,i),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=s(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(t,i,r){r.negative=i.negative^t.negative;var h=t.length+i.length|0;r.length=h,h=h-1|0;var n=0|t.words[0],e=0|i.words[0],o=n*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<h;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);d<=f;d++){var p=a-d|0;l+=(o=(n=0|t.words[p])*(e=0|i.words[d])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}n.prototype.toString=function(t,i){var h;if(i=0|i||1,16===(t=t||10)||"hex"===t){h="";for(var n=0,e=0,o=0;o<this.length;o++){var s=this.words[o],m=(16777215&(s<<n|e)).toString(16);h=0!==(e=s>>>24-n&16777215)||o!==this.length-1?u[6-m.length]+m+h:m+h,(n+=2)>=26&&(n-=26,o--)}for(0!==e&&(h=e.toString(16)+h);h.length%i!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(t===(0|t)&&t>=2&&t<=36){var f=a[t],d=l[t];h="";var p=this.clone();for(p.negative=0;!p.isZero();){var M=p.modn(d).toString(t);h=(p=p.idivn(d)).isZero()?M+h:u[f-M.length]+M+h}for(this.isZero()&&(h="0"+h);h.length%i!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},n.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},n.prototype.toArrayLike=function(t,i,h){var n=this.byteLength(),e=h||Math.max(1,n);r(n<=e,"byte array longer than desired length"),r(e>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-n;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},n.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var h=0;h<r.length;h++)this.words[h]=i.words[h]^r.words[h];if(this!==i)for(;h<i.length;h++)this.words[h]=i.words[h];return this.length=i.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),h=t%26;this._expand(i),h>0&&i--;for(var n=0;n<i;n++)this.words[n]=67108863&~this.words[n];return h>0&&(this.words[n]=~this.words[n]&67108863>>26-h),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);var h=t/26|0,n=t%26;return this._expand(h+1),this.words[h]=i?this.words[h]|1<<n:this.words[h]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var i,r,h;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,h=t):(r=t,h=this);for(var n=0,e=0;e<h.length;e++)i=(0|r.words[e])+(0|h.words[e])+n,this.words[e]=67108863&i,n=i>>>26;for(;0!==n&&e<r.length;e++)i=(0|r.words[e])+n,this.words[e]=67108863&i,n=i>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},n.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,h,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,h=t):(r=t,h=this);for(var e=0,o=0;o<h.length;o++)e=(i=(0|r.words[o])-(0|h.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,i,r){var h,n,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,d=0|o[1],p=8191&d,M=d>>>13,v=0|o[2],g=8191&v,c=v>>>13,w=0|o[3],y=8191&w,b=w>>>13,_=0|o[4],k=8191&_,A=_>>>13,x=0|o[5],S=8191&x,q=x>>>13,Z=0|o[6],R=8191&Z,B=Z>>>13,N=0|o[7],L=8191&N,I=N>>>13,z=0|o[8],T=8191&z,E=z>>>13,O=0|o[9],j=8191&O,K=O>>>13,P=0|s[0],F=8191&P,C=P>>>13,D=0|s[1],H=8191&D,J=D>>>13,U=0|s[2],G=8191&U,Q=U>>>13,V=0|s[3],W=8191&V,X=V>>>13,Y=0|s[4],$=8191&Y,tt=Y>>>13,it=0|s[5],rt=8191&it,ht=it>>>13,nt=0|s[6],et=8191&nt,ot=nt>>>13,st=0|s[7],ut=8191&st,at=st>>>13,lt=0|s[8],mt=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,Mt=dt>>>13;r.negative=t.negative^i.negative,r.length=19;var vt=(a+(h=Math.imul(m,F))|0)+((8191&(n=(n=Math.imul(m,C))+Math.imul(f,F)|0))<<13)|0;a=((e=Math.imul(f,C))+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,h=Math.imul(p,F),n=(n=Math.imul(p,C))+Math.imul(M,F)|0,e=Math.imul(M,C);var gt=(a+(h=h+Math.imul(m,H)|0)|0)+((8191&(n=(n=n+Math.imul(m,J)|0)+Math.imul(f,H)|0))<<13)|0;a=((e=e+Math.imul(f,J)|0)+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,h=Math.imul(g,F),n=(n=Math.imul(g,C))+Math.imul(c,F)|0,e=Math.imul(c,C),h=h+Math.imul(p,H)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(M,H)|0,e=e+Math.imul(M,J)|0;var ct=(a+(h=h+Math.imul(m,G)|0)|0)+((8191&(n=(n=n+Math.imul(m,Q)|0)+Math.imul(f,G)|0))<<13)|0;a=((e=e+Math.imul(f,Q)|0)+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,h=Math.imul(y,F),n=(n=Math.imul(y,C))+Math.imul(b,F)|0,e=Math.imul(b,C),h=h+Math.imul(g,H)|0,n=(n=n+Math.imul(g,J)|0)+Math.imul(c,H)|0,e=e+Math.imul(c,J)|0,h=h+Math.imul(p,G)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(M,G)|0,e=e+Math.imul(M,Q)|0;var wt=(a+(h=h+Math.imul(m,W)|0)|0)+((8191&(n=(n=n+Math.imul(m,X)|0)+Math.imul(f,W)|0))<<13)|0;a=((e=e+Math.imul(f,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,h=Math.imul(k,F),n=(n=Math.imul(k,C))+Math.imul(A,F)|0,e=Math.imul(A,C),h=h+Math.imul(y,H)|0,n=(n=n+Math.imul(y,J)|0)+Math.imul(b,H)|0,e=e+Math.imul(b,J)|0,h=h+Math.imul(g,G)|0,n=(n=n+Math.imul(g,Q)|0)+Math.imul(c,G)|0,e=e+Math.imul(c,Q)|0,h=h+Math.imul(p,W)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(M,W)|0,e=e+Math.imul(M,X)|0;var yt=(a+(h=h+Math.imul(m,$)|0)|0)+((8191&(n=(n=n+Math.imul(m,tt)|0)+Math.imul(f,$)|0))<<13)|0;a=((e=e+Math.imul(f,tt)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,h=Math.imul(S,F),n=(n=Math.imul(S,C))+Math.imul(q,F)|0,e=Math.imul(q,C),h=h+Math.imul(k,H)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(A,H)|0,e=e+Math.imul(A,J)|0,h=h+Math.imul(y,G)|0,n=(n=n+Math.imul(y,Q)|0)+Math.imul(b,G)|0,e=e+Math.imul(b,Q)|0,h=h+Math.imul(g,W)|0,n=(n=n+Math.imul(g,X)|0)+Math.imul(c,W)|0,e=e+Math.imul(c,X)|0,h=h+Math.imul(p,$)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(M,$)|0,e=e+Math.imul(M,tt)|0;var bt=(a+(h=h+Math.imul(m,rt)|0)|0)+((8191&(n=(n=n+Math.imul(m,ht)|0)+Math.imul(f,rt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,h=Math.imul(R,F),n=(n=Math.imul(R,C))+Math.imul(B,F)|0,e=Math.imul(B,C),h=h+Math.imul(S,H)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(q,H)|0,e=e+Math.imul(q,J)|0,h=h+Math.imul(k,G)|0,n=(n=n+Math.imul(k,Q)|0)+Math.imul(A,G)|0,e=e+Math.imul(A,Q)|0,h=h+Math.imul(y,W)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,W)|0,e=e+Math.imul(b,X)|0,h=h+Math.imul(g,$)|0,n=(n=n+Math.imul(g,tt)|0)+Math.imul(c,$)|0,e=e+Math.imul(c,tt)|0,h=h+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(M,rt)|0,e=e+Math.imul(M,ht)|0;var _t=(a+(h=h+Math.imul(m,et)|0)|0)+((8191&(n=(n=n+Math.imul(m,ot)|0)+Math.imul(f,et)|0))<<13)|0;a=((e=e+Math.imul(f,ot)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,h=Math.imul(L,F),n=(n=Math.imul(L,C))+Math.imul(I,F)|0,e=Math.imul(I,C),h=h+Math.imul(R,H)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(B,H)|0,e=e+Math.imul(B,J)|0,h=h+Math.imul(S,G)|0,n=(n=n+Math.imul(S,Q)|0)+Math.imul(q,G)|0,e=e+Math.imul(q,Q)|0,h=h+Math.imul(k,W)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(A,W)|0,e=e+Math.imul(A,X)|0,h=h+Math.imul(y,$)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,$)|0,e=e+Math.imul(b,tt)|0,h=h+Math.imul(g,rt)|0,n=(n=n+Math.imul(g,ht)|0)+Math.imul(c,rt)|0,e=e+Math.imul(c,ht)|0,h=h+Math.imul(p,et)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(M,et)|0,e=e+Math.imul(M,ot)|0;var kt=(a+(h=h+Math.imul(m,ut)|0)|0)+((8191&(n=(n=n+Math.imul(m,at)|0)+Math.imul(f,ut)|0))<<13)|0;a=((e=e+Math.imul(f,at)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,h=Math.imul(T,F),n=(n=Math.imul(T,C))+Math.imul(E,F)|0,e=Math.imul(E,C),h=h+Math.imul(L,H)|0,n=(n=n+Math.imul(L,J)|0)+Math.imul(I,H)|0,e=e+Math.imul(I,J)|0,h=h+Math.imul(R,G)|0,n=(n=n+Math.imul(R,Q)|0)+Math.imul(B,G)|0,e=e+Math.imul(B,Q)|0,h=h+Math.imul(S,W)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(q,W)|0,e=e+Math.imul(q,X)|0,h=h+Math.imul(k,$)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(A,$)|0,e=e+Math.imul(A,tt)|0,h=h+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,rt)|0,e=e+Math.imul(b,ht)|0,h=h+Math.imul(g,et)|0,n=(n=n+Math.imul(g,ot)|0)+Math.imul(c,et)|0,e=e+Math.imul(c,ot)|0,h=h+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,at)|0)+Math.imul(M,ut)|0,e=e+Math.imul(M,at)|0;var At=(a+(h=h+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,ft)|0)+Math.imul(f,mt)|0))<<13)|0;a=((e=e+Math.imul(f,ft)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,h=Math.imul(j,F),n=(n=Math.imul(j,C))+Math.imul(K,F)|0,e=Math.imul(K,C),h=h+Math.imul(T,H)|0,n=(n=n+Math.imul(T,J)|0)+Math.imul(E,H)|0,e=e+Math.imul(E,J)|0,h=h+Math.imul(L,G)|0,n=(n=n+Math.imul(L,Q)|0)+Math.imul(I,G)|0,e=e+Math.imul(I,Q)|0,h=h+Math.imul(R,W)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(B,W)|0,e=e+Math.imul(B,X)|0,h=h+Math.imul(S,$)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(q,$)|0,e=e+Math.imul(q,tt)|0,h=h+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(A,rt)|0,e=e+Math.imul(A,ht)|0,h=h+Math.imul(y,et)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,et)|0,e=e+Math.imul(b,ot)|0,h=h+Math.imul(g,ut)|0,n=(n=n+Math.imul(g,at)|0)+Math.imul(c,ut)|0,e=e+Math.imul(c,at)|0,h=h+Math.imul(p,mt)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(M,mt)|0,e=e+Math.imul(M,ft)|0;var xt=(a+(h=h+Math.imul(m,pt)|0)|0)+((8191&(n=(n=n+Math.imul(m,Mt)|0)+Math.imul(f,pt)|0))<<13)|0;a=((e=e+Math.imul(f,Mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,h=Math.imul(j,H),n=(n=Math.imul(j,J))+Math.imul(K,H)|0,e=Math.imul(K,J),h=h+Math.imul(T,G)|0,n=(n=n+Math.imul(T,Q)|0)+Math.imul(E,G)|0,e=e+Math.imul(E,Q)|0,h=h+Math.imul(L,W)|0,n=(n=n+Math.imul(L,X)|0)+Math.imul(I,W)|0,e=e+Math.imul(I,X)|0,h=h+Math.imul(R,$)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(B,$)|0,e=e+Math.imul(B,tt)|0,h=h+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(q,rt)|0,e=e+Math.imul(q,ht)|0,h=h+Math.imul(k,et)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(A,et)|0,e=e+Math.imul(A,ot)|0,h=h+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,at)|0)+Math.imul(b,ut)|0,e=e+Math.imul(b,at)|0,h=h+Math.imul(g,mt)|0,n=(n=n+Math.imul(g,ft)|0)+Math.imul(c,mt)|0,e=e+Math.imul(c,ft)|0;var St=(a+(h=h+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,Mt)|0)+Math.imul(M,pt)|0))<<13)|0;a=((e=e+Math.imul(M,Mt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,h=Math.imul(j,G),n=(n=Math.imul(j,Q))+Math.imul(K,G)|0,e=Math.imul(K,Q),h=h+Math.imul(T,W)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(E,W)|0,e=e+Math.imul(E,X)|0,h=h+Math.imul(L,$)|0,n=(n=n+Math.imul(L,tt)|0)+Math.imul(I,$)|0,e=e+Math.imul(I,tt)|0,h=h+Math.imul(R,rt)|0,n=(n=n+Math.imul(R,ht)|0)+Math.imul(B,rt)|0,e=e+Math.imul(B,ht)|0,h=h+Math.imul(S,et)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(q,et)|0,e=e+Math.imul(q,ot)|0,h=h+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,at)|0)+Math.imul(A,ut)|0,e=e+Math.imul(A,at)|0,h=h+Math.imul(y,mt)|0,n=(n=n+Math.imul(y,ft)|0)+Math.imul(b,mt)|0,e=e+Math.imul(b,ft)|0;var qt=(a+(h=h+Math.imul(g,pt)|0)|0)+((8191&(n=(n=n+Math.imul(g,Mt)|0)+Math.imul(c,pt)|0))<<13)|0;a=((e=e+Math.imul(c,Mt)|0)+(n>>>13)|0)+(qt>>>26)|0,qt&=67108863,h=Math.imul(j,W),n=(n=Math.imul(j,X))+Math.imul(K,W)|0,e=Math.imul(K,X),h=h+Math.imul(T,$)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(E,$)|0,e=e+Math.imul(E,tt)|0,h=h+Math.imul(L,rt)|0,n=(n=n+Math.imul(L,ht)|0)+Math.imul(I,rt)|0,e=e+Math.imul(I,ht)|0,h=h+Math.imul(R,et)|0,n=(n=n+Math.imul(R,ot)|0)+Math.imul(B,et)|0,e=e+Math.imul(B,ot)|0,h=h+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,at)|0)+Math.imul(q,ut)|0,e=e+Math.imul(q,at)|0,h=h+Math.imul(k,mt)|0,n=(n=n+Math.imul(k,ft)|0)+Math.imul(A,mt)|0,e=e+Math.imul(A,ft)|0;var Zt=(a+(h=h+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,Mt)|0)+Math.imul(b,pt)|0))<<13)|0;a=((e=e+Math.imul(b,Mt)|0)+(n>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,h=Math.imul(j,$),n=(n=Math.imul(j,tt))+Math.imul(K,$)|0,e=Math.imul(K,tt),h=h+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,ht)|0)+Math.imul(E,rt)|0,e=e+Math.imul(E,ht)|0,h=h+Math.imul(L,et)|0,n=(n=n+Math.imul(L,ot)|0)+Math.imul(I,et)|0,e=e+Math.imul(I,ot)|0,h=h+Math.imul(R,ut)|0,n=(n=n+Math.imul(R,at)|0)+Math.imul(B,ut)|0,e=e+Math.imul(B,at)|0,h=h+Math.imul(S,mt)|0,n=(n=n+Math.imul(S,ft)|0)+Math.imul(q,mt)|0,e=e+Math.imul(q,ft)|0;var Rt=(a+(h=h+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,Mt)|0)+Math.imul(A,pt)|0))<<13)|0;a=((e=e+Math.imul(A,Mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h=Math.imul(j,rt),n=(n=Math.imul(j,ht))+Math.imul(K,rt)|0,e=Math.imul(K,ht),h=h+Math.imul(T,et)|0,n=(n=n+Math.imul(T,ot)|0)+Math.imul(E,et)|0,e=e+Math.imul(E,ot)|0,h=h+Math.imul(L,ut)|0,n=(n=n+Math.imul(L,at)|0)+Math.imul(I,ut)|0,e=e+Math.imul(I,at)|0,h=h+Math.imul(R,mt)|0,n=(n=n+Math.imul(R,ft)|0)+Math.imul(B,mt)|0,e=e+Math.imul(B,ft)|0;var Bt=(a+(h=h+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,Mt)|0)+Math.imul(q,pt)|0))<<13)|0;a=((e=e+Math.imul(q,Mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,h=Math.imul(j,et),n=(n=Math.imul(j,ot))+Math.imul(K,et)|0,e=Math.imul(K,ot),h=h+Math.imul(T,ut)|0,n=(n=n+Math.imul(T,at)|0)+Math.imul(E,ut)|0,e=e+Math.imul(E,at)|0,h=h+Math.imul(L,mt)|0,n=(n=n+Math.imul(L,ft)|0)+Math.imul(I,mt)|0,e=e+Math.imul(I,ft)|0;var Nt=(a+(h=h+Math.imul(R,pt)|0)|0)+((8191&(n=(n=n+Math.imul(R,Mt)|0)+Math.imul(B,pt)|0))<<13)|0;a=((e=e+Math.imul(B,Mt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,h=Math.imul(j,ut),n=(n=Math.imul(j,at))+Math.imul(K,ut)|0,e=Math.imul(K,at),h=h+Math.imul(T,mt)|0,n=(n=n+Math.imul(T,ft)|0)+Math.imul(E,mt)|0,e=e+Math.imul(E,ft)|0;var Lt=(a+(h=h+Math.imul(L,pt)|0)|0)+((8191&(n=(n=n+Math.imul(L,Mt)|0)+Math.imul(I,pt)|0))<<13)|0;a=((e=e+Math.imul(I,Mt)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h=Math.imul(j,mt),n=(n=Math.imul(j,ft))+Math.imul(K,mt)|0,e=Math.imul(K,ft);var It=(a+(h=h+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,Mt)|0)+Math.imul(E,pt)|0))<<13)|0;a=((e=e+Math.imul(E,Mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863;var zt=(a+(h=Math.imul(j,pt))|0)+((8191&(n=(n=Math.imul(j,Mt))+Math.imul(K,pt)|0))<<13)|0;return a=((e=Math.imul(K,Mt))+(n>>>13)|0)+(zt>>>26)|0,zt&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=xt,u[10]=St,u[11]=qt,u[12]=Zt,u[13]=Rt,u[14]=Bt,u[15]=Nt,u[16]=Lt,u[17]=It,u[18]=zt,0!==a&&(u[19]=a,r.length++),r};function d(t,i,r){return(new p).mulp(t,i,r)}function p(t,i){this.x=t,this.y=i}Math.imul||(f=m),n.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?f(this,t,i):r<63?m(this,t,i):r<1024?function(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var h=0,n=0,e=0;e<r.length-1;e++){var o=n;n=0;for(var s=67108863&h,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),n+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,h=o,o=n}return 0!==h?r.words[e]=h:r.length--,r.strip()}(this,t,i):d(this,t,i)},p.prototype.makeRBT=function(t){for(var i=new Array(t),r=n.prototype._countBits(t)-1,h=0;h<t;h++)i[h]=this.revBin(h,r,t);return i},p.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var h=0,n=0;n<i;n++)h|=(1&t)<<i-n-1,t>>=1;return h},p.prototype.permute=function(t,i,r,h,n,e){for(var o=0;o<e;o++)h[o]=i[t[o]],n[o]=r[t[o]]},p.prototype.transform=function(t,i,r,h,n,e){this.permute(e,t,i,r,h,n);for(var o=1;o<n;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<n;l+=s)for(var m=u,f=a,d=0;d<o;d++){var p=r[l+d],M=h[l+d],v=r[l+d+o],g=h[l+d+o],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,h[l+d]=M+g,r[l+d+o]=p-v,h[l+d+o]=M-g,d!==s&&(c=u*m-a*f,f=u*f+a*m,m=c)}},p.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),h=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+h},p.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var h=0;h<r/2;h++){var n=t[h];t[h]=t[r-h-1],t[r-h-1]=n,n=i[h],i[h]=-i[r-h-1],i[r-h-1]=-n}},p.prototype.normalize13b=function(t,i){for(var r=0,h=0;h<i/2;h++){var n=8192*Math.round(t[2*h+1]/i)+Math.round(t[2*h]/i)+r;t[h]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,i,h,n){for(var e=0,o=0;o<i;o++)e+=0|t[o],h[2*o]=8191&e,e>>>=13,h[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<n;++o)h[o]=0;r(0===e),r(0==(-8192&e))},p.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},p.prototype.mulp=function(t,i,r){var h=2*this.guessLen13b(t.length,i.length),n=this.makeRBT(h),e=this.stub(h),o=new Array(h),s=new Array(h),u=new Array(h),a=new Array(h),l=new Array(h),m=new Array(h),f=r.words;f.length=h,this.convert13b(t.words,t.length,o,h),this.convert13b(i.words,i.length,a,h),this.transform(o,e,s,u,h,n),this.transform(a,e,l,m,h,n);for(var d=0;d<h;d++){var p=s[d]*l[d]-u[d]*m[d];u[d]=s[d]*m[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,h),this.transform(s,u,f,e,h,n),this.conjugate(f,e,h),this.normalize13b(f,h),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},n.prototype.mul=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},n.prototype.mulf=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),d(this,t,i)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var i=0,h=0;h<this.length;h++){var n=(0|this.words[h])*t,e=(67108863&n)+(67108863&i);i>>=26,i+=n/67108864|0,i+=e>>>26,this.words[h]=67108863&e}return 0!==i&&(this.words[h]=i,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var i=function(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var h=r/26|0,n=r%26;i[r]=(t.words[h]&1<<n)>>>n}return i}(t);if(0===i.length)return new n(1);for(var r=this,h=0;h<i.length&&0===i[h];h++,r=r.sqr());if(++h<i.length)for(var e=r.sqr();h<i.length;h++,e=e.sqr())0!==i[h]&&(r=r.mul(e));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,h=t%26,n=(t-h)/26,e=67108863>>>26-h<<26-h;if(0!==h){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<h;this.words[i]=u|o,o=s>>>26-h}o&&(this.words[i]=o,this.length++)}if(0!==n){for(i=this.length-1;i>=0;i--)this.words[i+n]=this.words[i];for(i=0;i<n;i++)this.words[i]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,i,h){var n;r("number"==typeof t&&t>=0),n=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=h;if(n-=o,n=Math.max(0,n),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=n);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,i,h){return r(0===this.negative),this.iushrn(t,i,h)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26,n=1<<i;return!(this.length<=h)&&!!(this.words[h]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=h)return this;if(0!==i&&h++,this.length=Math.min(h,this.length),0!==i){var n=67108863^67108863>>>i<<i;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,i,h){var n,e,o=t.length+h;this._expand(o);var s=0;for(n=0;n<t.length;n++){e=(0|this.words[n+h])+s;var u=(0|t.words[n])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[n+h]=67108863&e}for(;n<this.length-h;n++)s=(e=(0|this.words[n+h])+s)>>26,this.words[n+h]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(e=-(0|this.words[n])+s)>>26,this.words[n]=67108863&e;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,i){var r=(this.length,t.length),h=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),h.iushln(r),o=0|e.words[e.length-1]);var s,u=h.length-e.length;if("mod"!==i){(s=new n(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=h.clone()._ishlnsubmul(e,1,u);0===l.negative&&(h=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|h.words[e.length+m])+(0|h.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),h._ishlnsubmul(e,f,m);0!==h.negative;)f--,h.negative=0,h._ishlnsubmul(e,1,m),h.isZero()||(h.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),h.strip(),"div"!==i&&0!==r&&h.iushrn(r),{div:s||null,mod:h}},n.prototype.divmod=function(t,i,h){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),"mod"!==i&&(e=s.div.neg()),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),"mod"!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,h=t.ushrn(1),n=t.andln(1),e=r.cmp(h);return e<0||1===n&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var i=(1<<26)%t,h=0,n=this.length-1;n>=0;n--)h=(i*h+(0|this.words[n]))%t;return h},n.prototype.idivn=function(t){r(t<=67108863);for(var i=0,h=this.length-1;h>=0;h--){var n=(0|this.words[h])+67108864*i;this.words[h]=n/t|0,i=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),o=new n(0),s=new n(0),u=new n(1),a=0;i.isEven()&&h.isEven();)i.iushrn(1),h.iushrn(1),++a;for(var l=h.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0==(i.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var p=0,M=1;0==(h.words[0]&M)&&p<26;++p,M<<=1);if(p>0)for(h.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(s),o.isub(u)):(h.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:h.iushln(a)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new n(1),s=new n(0),u=h.clone();i.cmpn(1)>0&&h.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(h.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(h.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(h)>=0?(i.isub(h),o.isub(s)):(h.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var h=0;i.isEven()&&r.isEven();h++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=i.cmp(r);if(n<0){var e=i;i=r,r=e}else if(0===n||0===r.cmpn(1))break;i.isub(r)}return r.iushln(h)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,h=(t-i)/26,n=1<<i;if(this.length<=h)return this._expand(h+1),this.words[h]|=n,this;for(var e=n,o=h;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var i,h=t<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)i=1;else{h&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];i=n===t?0:n<t?-1:1}return 0!==this.negative?0|-i:i},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var h=0|this.words[r],n=0|t.words[r];if(h!==n){h<n?i=-1:h>n&&(i=1);break}}return i},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new b(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var M={k256:null,p224:null,p192:null,p25519:null};function v(t,i){this.name=t,this.p=new n(i,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function c(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function y(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function b(t){if("string"==typeof t){var i=n._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){b.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var h=i<this.n?-1:r.ucmp(this.p);return 0===h?(r.words[0]=0,r.length=1):h>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,i){t.iushrn(this.n,0,i)},v.prototype.imulK=function(t){return t.imul(this.k)},h(g,v),g.prototype.split=function(t,i){for(var r=Math.min(t.length,9),h=0;h<r;h++)i.words[h]=t.words[h];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(i.words[i.length++]=4194303&n,h=10;h<t.length;h++){var e=0|t.words[h];t.words[h-10]=(4194303&e)<<4|n>>>22,n=e}n>>>=22,t.words[h-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},g.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var h=0|t.words[r];i+=977*h,t.words[r]=67108863&i,i=64*h+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},h(c,v),h(w,v),h(y,v),y.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var h=19*(0|t.words[r])+i,n=67108863&h;h>>>=26,t.words[r]=n,i=h}return 0!==i&&(t.words[t.length++]=i),t},n._prime=function(t){if(M[t])return M[t];var i;if("k256"===t)i=new g;else if("p224"===t)i=new c;else if("p192"===t)i=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new y}return M[t]=i,i},b.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},b.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},b.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},b.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},b.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},b.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},b.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},b.prototype.isqr=function(t){return this.imul(t,t.clone())},b.prototype.sqr=function(t){return this.mul(t,t)},b.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var h=this.m.add(new n(1)).iushrn(2);return this.pow(t,h)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new n(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=o;0!==d.cmp(s);){for(var M=d,v=0;0!==M.cmp(s);v++)M=M.redSqr();r(v<p);var g=this.pow(m,new n(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},b.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},b.prototype.pow=function(t,i){if(i.isZero())return new n(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var h=2;h<r.length;h++)r[h]=this.mul(r[h-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),h=i.length-1;h>=0;h--){for(var a=i.words[h],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===h&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},b.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},b.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},n.mont=function(t){return new _(t)},h(_,b),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},_.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(h).iushrn(this.shift),e=n;return n.cmp(this.m)>=0?e=n.isub(this.m):n.cmpn(0)<0&&(e=n.iadd(this.m)),e._forceRed(this)},_.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new n(0)._forceRed(this);var r=t.mul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(h).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"==typeof module||module,this);
},{"buffer":"+aaM"}],"Kn4N":[function(require,module,exports) {
var t;function e(t){this.rand=t}if(module.exports=function(r){return t||(t=new e(null)),t.generate(r)},module.exports.Rand=e,e.prototype.generate=function(t){return this._rand(t)},e.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=require("crypto");if("function"!=typeof r.randomBytes)throw new Error("Not supported");e.prototype._rand=function(t){return r.randomBytes(t)}}catch(t){}
},{"crypto":"+aaM"}],"YOb+":[function(require,module,exports) {
var r=require("bn.js"),e=require("brorand");function n(r){this.rand=r||new e.Rand}module.exports=n,n.create=function(r){return new n(r)},n.prototype._randbelow=function(e){var n=e.bitLength(),t=Math.ceil(n/8);do{var o=new r(this.rand.generate(t))}while(o.cmp(e)>=0);return o},n.prototype._randrange=function(r,e){var n=e.sub(r);return r.add(this._randbelow(n))},n.prototype.test=function(e,n,t){var o=e.bitLength(),a=r.mont(e),d=new r(1).toRed(a);n||(n=Math.max(1,o/48|0));for(var i=e.subn(1),u=0;!i.testn(u);u++);for(var f=e.shrn(u),c=i.toRed(a);n>0;n--){var p=this._randrange(new r(2),i);t&&t(p);var s=p.toRed(a).redPow(f);if(0!==s.cmp(d)&&0!==s.cmp(c)){for(var m=1;m<u;m++){if(0===(s=s.redSqr()).cmp(d))return!1;if(0===s.cmp(c))break}if(m===u)return!1}}return!0},n.prototype.getDivisor=function(e,n){var t=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);n||(n=Math.max(1,t/48|0));for(var d=e.subn(1),i=0;!d.testn(i);i++);for(var u=e.shrn(i),f=d.toRed(o);n>0;n--){var c=this._randrange(new r(2),d),p=e.gcd(c);if(0!==p.cmpn(1))return p;var s=c.toRed(o).redPow(u);if(0!==s.cmp(a)&&0!==s.cmp(f)){for(var m=1;m<i;m++){if(0===(s=s.redSqr()).cmp(a))return s.fromRed().subn(1).gcd(e);if(0===s.cmp(f))break}if(m===i)return(s=s.redSqr()).fromRed().subn(1).gcd(e)}}return!1};
},{"bn.js":"FQk1","brorand":"Kn4N"}],"Aiq5":[function(require,module,exports) {
var e=require("randombytes");module.exports=M,M.simpleSieve=b,M.fermatTest=q;var n=require("bn.js"),r=new n(24),t=require("miller-rabin"),i=new t,o=new n(1),f=new n(2),a=new n(5),u=new n(16),w=new n(8),d=new n(10),m=new n(3),s=new n(7),c=new n(11),l=new n(4),v=new n(12),p=null;function h(){if(null!==p)return p;var e=[];e[0]=2;for(var n=1,r=3;r<1048576;r+=2){for(var t=Math.ceil(Math.sqrt(r)),i=0;i<n&&e[i]<=t&&r%e[i]!=0;i++);n!==i&&e[i]<=t||(e[n++]=r)}return p=e,e}function b(e){for(var n=h(),r=0;r<n.length;r++)if(0===e.modn(n[r]))return 0===e.cmpn(n[r]);return!0}function q(e){var r=n.mont(e);return 0===f.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function M(t,u){if(t<16)return new n(2===u||5===u?[140,123]:[140,39]);var w,s;for(u=new n(u);;){for(w=new n(e(Math.ceil(t/8)));w.bitLength()>t;)w.ishrn(1);if(w.isEven()&&w.iadd(o),w.testn(1)||w.iadd(f),u.cmp(f)){if(!u.cmp(a))for(;w.mod(d).cmp(m);)w.iadd(l)}else for(;w.mod(r).cmp(c);)w.iadd(l);if(b(s=w.shrn(1))&&b(w)&&q(s)&&q(w)&&i.test(s)&&i.test(w))return w}}
},{"randombytes":"GkF8","bn.js":"FQk1","miller-rabin":"YOb+"}],"k3Zj":[function(require,module,exports) {
module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}};
},{}],"+UId":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("bn.js"),r=require("miller-rabin"),i=new r,n=new t(24),o=new t(11),s=new t(10),u=new t(3),p=new t(7),h=require("./generatePrime"),f=require("randombytes");function _(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this._pub=new t(r),this}function m(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this._priv=new t(r),this}module.exports=g;var c={};function a(e,t){var r=t.toString("hex"),f=[r,e.toString(16)].join("_");if(f in c)return c[f];var _,m=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!i.test(e))return m+=1,m+="02"===r||"05"===r?8:4,c[f]=m,m;switch(i.test(e.shrn(1))||(m+=2),r){case"02":e.mod(n).cmp(o)&&(m+=8);break;case"05":(_=e.mod(s)).cmp(u)&&_.cmp(p)&&(m+=8);break;default:m+=4}return c[f]=m,m}function g(e,r,i){this.setGenerator(r),this.__prime=new t(e),this._prime=t.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=_,this.setPrivateKey=m):this._primeCode=8}function v(t,r){var i=new e(t.toArray());return r?i.toString(r):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=a(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new t(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(r){var i=(r=(r=new t(r)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new e(i.toArray()),o=this.getPrime();if(n.length<o.length){var s=new e(o.length-n.length);s.fill(0),n=e.concat([s,n])}return n},g.prototype.getPublicKey=function(e){return v(this._pub,e)},g.prototype.getPrivateKey=function(e){return v(this._priv,e)},g.prototype.getPrime=function(e){return v(this.__prime,e)},g.prototype.getGenerator=function(e){return v(this._gen,e)},g.prototype.setGenerator=function(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this.__gen=r,this._gen=new t(r),this};
},{"bn.js":"FQk1","miller-rabin":"YOb+","./generatePrime":"Aiq5","randombytes":"GkF8","buffer":"eKIq"}],"u5qG":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./lib/generatePrime"),i=require("./lib/primes.json"),n=require("./lib/dh");function f(r){var f=new e(i[r].prime,"hex"),a=new e(i[r].gen,"hex");return new n(f,a)}var a={binary:!0,hex:!0,base64:!0};function u(i,f,t,l){return e.isBuffer(f)||void 0===a[f]?u(i,"binary",f,t):(f=f||"binary",l=l||"binary",t=t||new e([2]),e.isBuffer(t)||(t=new e(t,l)),"number"==typeof i?new n(r(i,t),t,!0):(e.isBuffer(i)||(i=new e(i,f)),new n(i,t,!0)))}exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=f,exports.createDiffieHellman=exports.DiffieHellman=u;
},{"./lib/generatePrime":"Aiq5","./lib/primes.json":"k3Zj","./lib/dh":"+UId","buffer":"eKIq"}],"in/U":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("bn.js"),u=require("randombytes");function o(e){var u=m(e);return{blinder:u.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:u.invm(e.modulus)}}function n(u,n){var m=o(n),d=n.modulus.byteLength(),i=(r.mont(n.modulus),new r(u).mul(m.blinder).umod(n.modulus)),t=i.toRed(r.mont(n.prime1)),l=i.toRed(r.mont(n.prime2)),f=n.coefficient,p=n.prime1,s=n.prime2,b=t.redPow(n.exponent1),a=l.redPow(n.exponent2);b=b.fromRed(),a=a.fromRed();var w=b.isub(a).imul(f).umod(p);return w.imul(s),a.iadd(w),new e(a.imul(m.unblinder).umod(n.modulus).toArray(!1,d))}function m(e){for(var o=e.modulus.byteLength(),n=new r(u(o));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(u(o));return n}module.exports=n,n.getr=m;
},{"bn.js":"FQk1","randombytes":"GkF8","buffer":"eKIq"}],"Mk5q":[function(require,module,exports) {
module.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/parcel-bundler/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/parcel-bundler/browserify-sign","/parcel-bundler/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.0.0",_where:"/Users/silverdust/.nvm/versions/node/v10.7.0/lib/node_modules/parcel-bundler/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"};
},{}],"3hql":[function(require,module,exports) {
"use strict";var r=exports;function e(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)t[n]=0|r[n];return t}if("hex"===e){(r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r);for(n=0;n<r.length;n+=2)t.push(parseInt(r[n]+r[n+1],16))}else for(n=0;n<r.length;n++){var o=r.charCodeAt(n),u=o>>8,i=255&o;u?t.push(u,i):t.push(i)}return t}function t(r){return 1===r.length?"0"+r:r}function n(r){for(var e="",n=0;n<r.length;n++)e+=t(r[n].toString(16));return e}r.toArray=e,r.zero2=t,r.toHex=n,r.encode=function(r,e){return"hex"===e?n(r):r};
},{}],"OE/f":[function(require,module,exports) {
"use strict";var r=exports,n=require("bn.js"),e=require("minimalistic-assert"),t=require("minimalistic-crypto-utils");function i(r,n){for(var e=[],t=1<<n+1,i=r.clone();i.cmpn(1)>=0;){var s;if(i.isOdd()){var o=i.andln(t-1);s=o>(t>>1)-1?(t>>1)-o:o,i.isubn(s)}else s=0;e.push(s);for(var a=0!==i.cmpn(0)&&0===i.andln(t-1)?n+1:1,u=1;u<a;u++)e.push(0);i.iushrn(a)}return e}function s(r,n){var e=[[],[]];r=r.clone(),n=n.clone();for(var t=0,i=0;r.cmpn(-t)>0||n.cmpn(-i)>0;){var s,o,a,u=r.andln(3)+t&3,c=n.andln(3)+i&3;if(3===u&&(u=-1),3===c&&(c=-1),0==(1&u))s=0;else s=3!==(a=r.andln(7)+t&7)&&5!==a||2!==c?u:-u;if(e[0].push(s),0==(1&c))o=0;else o=3!==(a=n.andln(7)+i&7)&&5!==a||2!==u?c:-c;e[1].push(o),2*t===s+1&&(t=1-t),2*i===o+1&&(i=1-i),r.iushrn(1),n.iushrn(1)}return e}function o(r,n,e){var t="_"+n;r.prototype[n]=function(){return void 0!==this[t]?this[t]:this[t]=e.call(this)}}function a(n){return"string"==typeof n?r.toArray(n,"hex"):n}function u(r){return new n(r,"hex","le")}r.assert=e,r.toArray=t.toArray,r.zero2=t.zero2,r.toHex=t.toHex,r.encode=t.encode,r.getNAF=i,r.getJSF=s,r.cachedProperty=o,r.parseBytes=a,r.intFromLE=u;
},{"bn.js":"FQk1","minimalistic-assert":"iHaQ","minimalistic-crypto-utils":"3hql"}],"Vs2v":[function(require,module,exports) {
"use strict";var t=require("bn.js"),e=require("../../elliptic"),n=e.utils,r=n.getNAF,o=n.getJSF,i=n.assert;function s(e,n){this.type=e,this.p=new t(n.p,16),this.red=n.prime?t.red(n.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=n.n&&new t(n.n,16),this.g=n.g&&this.pointFromJSON(n.g,n.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(t,e){this.curve=t,this.type=e,this.precomputed=null}module.exports=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(t,e){i(t.precomputed);var n=t._getDoubles(),o=r(e,1),s=(1<<n.step+1)-(n.step%2==0?2:1);s/=3;for(var p=[],d=0;d<o.length;d+=n.step){var u=0;for(e=d+n.step-1;e>=d;e--)u=(u<<1)+o[e];p.push(u)}for(var h=this.jpoint(null,null,null),l=this.jpoint(null,null,null),a=s;a>0;a--){for(d=0;d<p.length;d++){(u=p[d])===a?l=l.mixedAdd(n.points[d]):u===-a&&(l=l.mixedAdd(n.points[d].neg()))}h=h.add(l)}return h.toP()},s.prototype._wnafMul=function(t,e){var n=4,o=t._getNAFPoints(n);n=o.wnd;for(var s=o.points,p=r(e,n),d=this.jpoint(null,null,null),u=p.length-1;u>=0;u--){for(e=0;u>=0&&0===p[u];u--)e++;if(u>=0&&e++,d=d.dblp(e),u<0)break;var h=p[u];i(0!==h),d="affine"===t.type?h>0?d.mixedAdd(s[h-1>>1]):d.mixedAdd(s[-h-1>>1].neg()):h>0?d.add(s[h-1>>1]):d.add(s[-h-1>>1].neg())}return"affine"===t.type?d.toP():d},s.prototype._wnafMulAdd=function(t,e,n,i,s){for(var p=this._wnafT1,d=this._wnafT2,u=this._wnafT3,h=0,l=0;l<i;l++){var a=(P=e[l])._getNAFPoints(t);p[l]=a.wnd,d[l]=a.points}for(l=i-1;l>=1;l-=2){var f=l-1,c=l;if(1===p[f]&&1===p[c]){var m=[e[f],null,null,e[c]];0===e[f].y.cmp(e[c].y)?(m[1]=e[f].add(e[c]),m[2]=e[f].toJ().mixedAdd(e[c].neg())):0===e[f].y.cmp(e[c].y.redNeg())?(m[1]=e[f].toJ().mixedAdd(e[c]),m[2]=e[f].add(e[c].neg())):(m[1]=e[f].toJ().mixedAdd(e[c]),m[2]=e[f].toJ().mixedAdd(e[c].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=o(n[f],n[c]);h=Math.max(y[0].length,h),u[f]=new Array(h),u[c]=new Array(h);for(var v=0;v<h;v++){var w=0|y[0][v],b=0|y[1][v];u[f][v]=g[3*(w+1)+(b+1)],u[c][v]=0,d[f]=m}}else u[f]=r(n[f],p[f]),u[c]=r(n[c],p[c]),h=Math.max(u[f].length,h),h=Math.max(u[c].length,h)}var A=this.jpoint(null,null,null),_=this._wnafT4;for(l=h;l>=0;l--){for(var x=0;l>=0;){var N=!0;for(v=0;v<i;v++)_[v]=0|u[v][l],0!==_[v]&&(N=!1);if(!N)break;x++,l--}if(l>=0&&x++,A=A.dblp(x),l<0)break;for(v=0;v<i;v++){var P,T=_[v];0!==T&&(T>0?P=d[v][T-1>>1]:T<0&&(P=d[v][-T-1>>1].neg()),A="affine"===P.type?A.mixedAdd(P):A.add(P))}}for(l=0;l<i;l++)d[l]=null;return s?A:A.toP()},s.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?i(t[t.length-1]%2==0):7===t[0]&&i(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(t){return this.encode(t,!0)},p.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},p.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},p.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},p.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},p.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,o=0;o<e;o+=t){for(var i=0;i<t;i++)r=r.dbl();n.push(r)}return{step:t,points:n}},p.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),o=1;o<n;o++)e[o]=e[o-1].add(r);return{wnd:t,points:e}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e};
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"5pWM":[function(require,module,exports) {
"use strict";var r=require("../curve"),e=require("../../elliptic"),t=require("bn.js"),d=require("inherits"),i=r.base,n=e.utils.assert;function u(r){i.call(this,"short",r),this.a=new t(r.a,16).toRed(this.red),this.b=new t(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function s(r,e,d,n){i.BasePoint.call(this,r,"affine"),null===e&&null===d?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(e,16),this.y=new t(d,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(r,e,d,n){i.BasePoint.call(this,r,"jacobian"),null===e&&null===d&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(e,16),this.y=new t(d,16),this.z=new t(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}d(u,i),module.exports=u,u.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,d;if(r.beta)e=new t(r.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(r.lambda)d=new t(r.lambda,16);else{var u=this._getEndoRoots(this.n);0===this.g.mul(u[0]).x.cmp(this.g.x.redMul(e))?d=u[0]:(d=u[1],n(0===this.g.mul(d).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:d,basis:r.basis?r.basis.map(function(r){return{a:new t(r.a,16),b:new t(r.b,16)}}):this._getEndoBasis(d)}}},u.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:t.mont(r),d=new t(2).toRed(e).redInvm(),i=d.redNeg(),n=new t(3).toRed(e).redNeg().redSqrt().redMul(d);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},u.prototype._getEndoBasis=function(r){for(var e,d,i,n,u,s,o,h,p,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=r,f=this.n.clone(),c=new t(1),S=new t(0),b=new t(0),v=new t(1),I=0;0!==a.cmpn(0);){var y=f.div(a);h=f.sub(y.mul(a)),p=b.sub(y.mul(c));var A=v.sub(y.mul(S));if(!i&&h.cmp(l)<0)e=o.neg(),d=c,i=h.neg(),n=p;else if(i&&2==++I)break;o=h,f=a,a=h,b=c,c=p,v=S,S=A}u=h.neg(),s=p;var m=i.sqr().add(n.sqr());return u.sqr().add(s.sqr()).cmp(m)>=0&&(u=e,s=d),i.negative&&(i=i.neg(),n=n.neg()),u.negative&&(u=u.neg(),s=s.neg()),[{a:i,b:n},{a:u,b:s}]},u.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],d=e[1],i=d.b.mul(r).divRound(this.n),n=t.b.neg().mul(r).divRound(this.n),u=i.mul(t.a),s=n.mul(d.a),o=i.mul(t.b),h=n.mul(d.b);return{k1:r.sub(u).sub(s),k2:o.add(h).neg()}},u.prototype.pointFromX=function(r,e){(r=new t(r,16)).red||(r=r.toRed(this.red));var d=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),i=d.redSqrt();if(0!==i.redSqr().redSub(d).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(r,i)},u.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,d=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(r,e,t){for(var d=this._endoWnafT1,i=this._endoWnafT2,n=0;n<r.length;n++){var u=this._endoSplit(e[n]),s=r[n],o=s._getBeta();u.k1.negative&&(u.k1.ineg(),s=s.neg(!0)),u.k2.negative&&(u.k2.ineg(),o=o.neg(!0)),d[2*n]=s,d[2*n+1]=o,i[2*n]=u.k1,i[2*n+1]=u.k2}for(var h=this._wnafMulAdd(1,d,i,2*n,t),p=0;p<2*n;p++)d[p]=null,i[p]=null;return h},d(s,i.BasePoint),u.prototype.point=function(r,e,t){return new s(this,r,e,t)},u.prototype.pointFromJSON=function(r,e){return s.fromJSON(this,r,e)},s.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,d=function(r){return t.point(r.x.redMul(t.endo.beta),r.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return e}},s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},s.fromJSON=function(r,e,t){"string"==typeof e&&(e=JSON.parse(e));var d=r.point(e[0],e[1],t);if(!e[2])return d;function i(e){return r.point(e[0],e[1],t)}var n=e[2];return d.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[d].concat(n.doubles.points.map(i))},naf:n.naf&&{wnd:n.naf.wnd,points:[d].concat(n.naf.points.map(i))}},d},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.inf},s.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),d=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,d)},s.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),d=r.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),n=i.redSqr().redISub(this.x.redAdd(this.x)),u=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,u)},s.prototype.getX=function(){return this.x.fromRed()},s.prototype.getY=function(){return this.y.fromRed()},s.prototype.mul=function(r){return r=new t(r,16),this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},s.prototype.mulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i):this.curve._wnafMulAdd(1,d,i,2)},s.prototype.jmulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i,!0):this.curve._wnafMulAdd(1,d,i,2,!0)},s.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},s.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,d=function(r){return r.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return e},s.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},d(o,i.BasePoint),u.prototype.jpoint=function(r,e,t){return new o(this,r,e,t)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),d=this.y.redMul(e).redMul(r);return this.curve.point(t,d)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),d=this.x.redMul(e),i=r.x.redMul(t),n=this.y.redMul(e.redMul(r.z)),u=r.y.redMul(t.redMul(this.z)),s=d.redSub(i),o=n.redSub(u);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),p=h.redMul(s),l=d.redMul(h),a=o.redSqr().redIAdd(p).redISub(l).redISub(l),f=o.redMul(l.redISub(a)).redISub(n.redMul(p)),c=this.z.redMul(r.z).redMul(s);return this.curve.jpoint(a,f,c)},o.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,d=r.x.redMul(e),i=this.y,n=r.y.redMul(e).redMul(this.z),u=t.redSub(d),s=i.redSub(n);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=u.redSqr(),h=o.redMul(u),p=t.redMul(o),l=s.redSqr().redIAdd(h).redISub(p).redISub(p),a=s.redMul(p.redISub(l)).redISub(i.redMul(h)),f=this.z.redMul(u);return this.curve.jpoint(l,a,f)},o.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,t=0;t<r;t++)e=e.dbl();return e}var d=this.curve.a,i=this.curve.tinv,n=this.x,u=this.y,s=this.z,o=s.redSqr().redSqr(),h=u.redAdd(u);for(t=0;t<r;t++){var p=n.redSqr(),l=h.redSqr(),a=l.redSqr(),f=p.redAdd(p).redIAdd(p).redIAdd(d.redMul(o)),c=n.redMul(l),S=f.redSqr().redISub(c.redAdd(c)),b=c.redISub(S),v=f.redMul(b);v=v.redIAdd(v).redISub(a);var I=h.redMul(s);t+1<r&&(o=o.redMul(a)),n=S,s=I,h=v}return this.curve.jpoint(n,h.redMul(i),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d),o=s.redSqr().redISub(u).redISub(u),h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),r=o,e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),l=this.y.redSqr(),a=l.redSqr(),f=this.x.redAdd(l).redSqr().redISub(p).redISub(a);f=f.redIAdd(f);var c=p.redAdd(p).redIAdd(p),S=c.redSqr(),b=a.redIAdd(a);b=(b=b.redIAdd(b)).redIAdd(b),r=S.redISub(f).redISub(f),e=c.redMul(f.redISub(r)).redISub(b),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(r,e,t)},o.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),o=s.redSqr().redISub(u).redISub(u);r=o;var h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),l=this.y.redSqr(),a=this.x.redMul(l),f=this.x.redSub(p).redMul(this.x.redAdd(p));f=f.redAdd(f).redIAdd(f);var c=a.redIAdd(a),S=(c=c.redIAdd(c)).redAdd(c);r=f.redSqr().redISub(S),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(p);var b=l.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),e=f.redMul(c.redISub(r)).redISub(b)}return this.curve.jpoint(r,e,t)},o.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,d=this.z,i=d.redSqr().redSqr(),n=e.redSqr(),u=t.redSqr(),s=n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),o=e.redAdd(e),h=(o=o.redIAdd(o)).redMul(u),p=s.redSqr().redISub(h.redAdd(h)),l=h.redISub(p),a=u.redSqr();a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=s.redMul(l).redISub(a),c=t.redAdd(t).redMul(d);return this.curve.jpoint(p,f,c)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),d=e.redSqr(),i=r.redAdd(r).redIAdd(r),n=i.redSqr(),u=this.x.redAdd(e).redSqr().redISub(r).redISub(d),s=(u=(u=(u=u.redIAdd(u)).redAdd(u).redIAdd(u)).redISub(n)).redSqr(),o=d.redIAdd(d);o=(o=(o=o.redIAdd(o)).redIAdd(o)).redIAdd(o);var h=i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),p=e.redMul(h);p=(p=p.redIAdd(p)).redIAdd(p);var l=this.x.redMul(s).redISub(p);l=(l=l.redIAdd(l)).redIAdd(l);var a=this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=this.z.redAdd(u).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,a,f)},o.prototype.mul=function(r,e){return r=new t(r,e),this.curve._wnafMul(this,r)},o.prototype.eq=function(r){if("affine"===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var d=e.redMul(this.z),i=t.redMul(r.z);return 0===this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)},o.prototype.eqXToP=function(r){var e=this.z.redSqr(),t=r.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(t))return!0;for(var d=r.clone(),i=this.curve.redN.redMul(e);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}return!1},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};
},{"../curve":"W91T","../../elliptic":"rfaM","bn.js":"FQk1","inherits":"9q8B"}],"U0yt":[function(require,module,exports) {
"use strict";var t=require("../curve"),r=require("bn.js"),e=require("inherits"),i=t.base,o=require("../../elliptic"),n=o.utils;function d(t){i.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,o){i.BasePoint.call(this,t,"projective"),null===e&&null===o?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}e(d,i),module.exports=d,d.prototype.validate=function(t){var r=t.normalize().x,e=r.redSqr(),i=e.redMul(r).redAdd(e.redMul(this.a)).redAdd(r);return 0===i.redSqrt().redSqr().cmp(i)},e(u,i.BasePoint),d.prototype.decodePoint=function(t,r){return this.point(n.toArray(t,r),1)},d.prototype.point=function(t,r){return new u(this,t,r)},d.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,r){return new u(t,r[0],r[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),r=this.x.redSub(this.z).redSqr(),e=t.redSub(r),i=t.redMul(r),o=e.redMul(r.redAdd(this.curve.a24.redMul(e)));return this.curve.point(i,o)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,r){var e=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=t.x.redAdd(t.z),n=t.x.redSub(t.z).redMul(e),d=o.redMul(i),u=r.z.redMul(n.redAdd(d).redSqr()),s=r.x.redMul(n.redISub(d).redSqr());return this.curve.point(u,s)},u.prototype.mul=function(t){for(var r=t.clone(),e=this,i=this.curve.point(null,null),o=[];0!==r.cmpn(0);r.iushrn(1))o.push(r.andln(1));for(var n=o.length-1;n>=0;n--)0===o[n]?(e=e.diffAdd(i,this),i=i.dbl()):(i=e.diffAdd(i,this),e=e.dbl());return i},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()};
},{"../curve":"W91T","bn.js":"FQk1","inherits":"9q8B","../../elliptic":"rfaM"}],"VlOY":[function(require,module,exports) {
"use strict";var t=require("../curve"),e=require("../../elliptic"),r=require("bn.js"),i=require("inherits"),d=t.base,s=e.utils.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,d.call(this,"edwards",t),this.a=new r(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function h(t,e,i,s,u){d.BasePoint.call(this,t,"projective"),null===e&&null===i&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(e,16),this.y=new r(i,16),this.z=s?new r(s,16):this.curve.one,this.t=u&&new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(u,d),module.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},u.prototype.pointFromX=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),d=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),u=d.redMul(s.redInvm()),h=u.redSqrt();if(0!==h.redSqr().redSub(u).cmp(this.zero))throw new Error("invalid point");var n=h.fromRed().isOdd();return(e&&!n||!e&&n)&&(h=h.redNeg()),this.point(t,h)},u.prototype.pointFromY=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),d=i.redSub(this.one),s=i.redMul(this.d).redAdd(this.one),u=d.redMul(s.redInvm());if(0===u.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var h=u.redSqrt();if(0!==h.redSqr().redSub(u).cmp(this.zero))throw new Error("invalid point");return h.isOdd()!==e&&(h=h.redNeg()),this.point(h,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),d=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(d)},i(h,d.BasePoint),u.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},u.prototype.point=function(t,e,r,i){return new h(this,t,e,r,i)},h.fromJSON=function(t,e){return new h(t,e[0],e[1],e[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},h.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),d=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=i.redAdd(e),u=s.redSub(r),h=i.redSub(e),n=d.redMul(u),o=s.redMul(h),l=d.redMul(h),c=u.redMul(s);return this.curve.point(n,o,c,l)},h.prototype._projDbl=function(){var t,e,r,i=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var u=(o=this.curve._mulA(d)).redAdd(s);if(this.zOne)t=i.redSub(d).redSub(s).redMul(u.redSub(this.curve.two)),e=u.redMul(o.redSub(s)),r=u.redSqr().redSub(u).redSub(u);else{var h=this.z.redSqr(),n=u.redSub(h).redISub(h);t=i.redSub(d).redISub(s).redMul(n),e=u.redMul(o.redSub(s)),r=u.redMul(n)}}else{var o=d.redAdd(s);h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),n=o.redSub(h).redSub(h);t=this.curve._mulC(i.redISub(o)).redMul(n),e=this.curve._mulC(o).redMul(d.redISub(s)),r=o.redMul(n)}return this.curve.point(t,e,r)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),d=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),u=d.redSub(i),h=d.redAdd(i),n=r.redAdd(e),o=s.redMul(u),l=h.redMul(n),c=s.redMul(n),p=u.redMul(h);return this.curve.point(o,l,p,c)},h.prototype._projAdd=function(t){var e,r,i=this.z.redMul(t.z),d=i.redSqr(),s=this.x.redMul(t.x),u=this.y.redMul(t.y),h=this.curve.d.redMul(s).redMul(u),n=d.redSub(h),o=d.redAdd(h),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(u),c=i.redMul(n).redMul(l);return this.curve.twisted?(e=i.redMul(o).redMul(u.redSub(this.curve._mulA(s))),r=n.redMul(o)):(e=i.redMul(o).redMul(u.redSub(s)),r=this.curve._mulC(n).redMul(o)),this.curve.point(c,e,r)},h.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},h.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},h.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},h.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}return!1},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add;
},{"../curve":"W91T","../../elliptic":"rfaM","bn.js":"FQk1","inherits":"9q8B"}],"W91T":[function(require,module,exports) {
"use strict";var r=exports;r.base=require("./base"),r.short=require("./short"),r.mont=require("./mont"),r.edwards=require("./edwards");
},{"./base":"Vs2v","./short":"5pWM","./mont":"U0yt","./edwards":"VlOY"}],"i+pT":[function(require,module,exports) {
"use strict";var r=require("minimalistic-assert"),t=require("inherits");function n(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var n=[];if("string"==typeof r)if(t){if("hex"===t)for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),e=0;e<r.length;e+=2)n.push(parseInt(r[e]+r[e+1],16))}else for(var e=0;e<r.length;e++){var o=r.charCodeAt(e),u=o>>8,i=255&o;u?n.push(u,i):n.push(i)}else for(e=0;e<r.length;e++)n[e]=0|r[e];return n}function e(r){for(var t="",n=0;n<r.length;n++)t+=i(r[n].toString(16));return t}function o(r){return(r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24)>>>0}function u(r,t){for(var n="",e=0;e<r.length;e++){var u=r[e];"little"===t&&(u=o(u)),n+=s(u.toString(16))}return n}function i(r){return 1===r.length?"0"+r:r}function s(r){return 7===r.length?"0"+r:6===r.length?"00"+r:5===r.length?"000"+r:4===r.length?"0000"+r:3===r.length?"00000"+r:2===r.length?"000000"+r:1===r.length?"0000000"+r:r}function f(t,n,e,o){var u=e-n;r(u%4==0);for(var i=new Array(u/4),s=0,f=n;s<i.length;s++,f+=4){var p;p="big"===o?t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],i[s]=p>>>0}return i}function p(r,t){for(var n=new Array(4*r.length),e=0,o=0;e<r.length;e++,o+=4){var u=r[e];"big"===t?(n[o]=u>>>24,n[o+1]=u>>>16&255,n[o+2]=u>>>8&255,n[o+3]=255&u):(n[o+3]=u>>>24,n[o+2]=u>>>16&255,n[o+1]=u>>>8&255,n[o]=255&u)}return n}function h(r,t){return r>>>t|r<<32-t}function l(r,t){return r<<t|r>>>32-t}function c(r,t){return r+t>>>0}function x(r,t,n){return r+t+n>>>0}function a(r,t,n,e){return r+t+n+e>>>0}function g(r,t,n,e,o){return r+t+n+e+o>>>0}function _(r,t,n,e){var o=r[t],u=e+r[t+1]>>>0,i=(u<e?1:0)+n+o;r[t]=i>>>0,r[t+1]=u}function v(r,t,n,e){return(t+e>>>0<t?1:0)+r+n>>>0}function m(r,t,n,e){return t+e>>>0}function y(r,t,n,e,o,u,i,s){var f=0,p=t;return f+=(p=p+e>>>0)<t?1:0,f+=(p=p+u>>>0)<u?1:0,r+n+o+i+(f+=(p=p+s>>>0)<s?1:0)>>>0}function A(r,t,n,e,o,u,i,s){return t+e+u+s>>>0}function z(r,t,n,e,o,u,i,s,f,p){var h=0,l=t;return h+=(l=l+e>>>0)<t?1:0,h+=(l=l+u>>>0)<u?1:0,h+=(l=l+s>>>0)<s?1:0,r+n+o+i+f+(h+=(l=l+p>>>0)<p?1:0)>>>0}function b(r,t,n,e,o,u,i,s,f,p){return t+e+u+s+p>>>0}function q(r,t,n){return(t<<32-n|r>>>n)>>>0}function w(r,t,n){return(r<<32-n|t>>>n)>>>0}function H(r,t,n){return r>>>n}function S(r,t,n){return(r<<32-n|t>>>n)>>>0}exports.inherits=t,exports.toArray=n,exports.toHex=e,exports.htonl=o,exports.toHex32=u,exports.zero2=i,exports.zero8=s,exports.join32=f,exports.split32=p,exports.rotr32=h,exports.rotl32=l,exports.sum32=c,exports.sum32_3=x,exports.sum32_4=a,exports.sum32_5=g,exports.sum64=_,exports.sum64_hi=v,exports.sum64_lo=m,exports.sum64_4_hi=y,exports.sum64_4_lo=A,exports.sum64_5_hi=z,exports.sum64_5_lo=b,exports.rotr64_hi=q,exports.rotr64_lo=w,exports.shr64_hi=H,exports.shr64_lo=S;
},{"minimalistic-assert":"iHaQ","inherits":"9q8B"}],"y5f6":[function(require,module,exports) {
"use strict";var t=require("./utils"),i=require("minimalistic-assert");function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}exports.BlockHash=n,n.prototype.update=function(i,n){if(i=t.toArray(i,n),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var e=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-e,i.length),0===this.pending.length&&(this.pending=null),i=t.join32(i,0,i.length-e,this.endian);for(var h=0;h<i.length;h+=this._delta32)this._update(i,h,h+this._delta32)}return this},n.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},n.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,n=i-(t+this.padLength)%i,e=new Array(n+this.padLength);e[0]=128;for(var h=1;h<n;h++)e[h]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)e[h++]=0;e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=t>>>24&255,e[h++]=t>>>16&255,e[h++]=t>>>8&255,e[h++]=255&t}else for(e[h++]=255&t,e[h++]=t>>>8&255,e[h++]=t>>>16&255,e[h++]=t>>>24&255,e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=0,s=8;s<this.padLength;s++)e[h++]=0;return e};
},{"./utils":"i+pT","minimalistic-assert":"iHaQ"}],"gdaJ":[function(require,module,exports) {
"use strict";var r=require("../utils"),t=r.rotr32;function n(r,t,n,s){return 0===r?e(t,n,s):1===r||3===r?o(t,n,s):2===r?u(t,n,s):void 0}function e(r,t,n){return r&t^~r&n}function u(r,t,n){return r&t^r&n^t&n}function o(r,t,n){return r^t^n}function s(r){return t(r,2)^t(r,13)^t(r,22)}function i(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^r>>>3}function f(r){return t(r,17)^t(r,19)^r>>>10}exports.ft_1=n,exports.ch32=e,exports.maj32=u,exports.p32=o,exports.s0_256=s,exports.s1_256=i,exports.g0_256=c,exports.g1_256=f;
},{"../utils":"i+pT"}],"7qTw":[function(require,module,exports) {
"use strict";var t=require("../utils"),h=require("../common"),i=require("./common"),s=t.rotl32,e=t.sum32,r=t.sum32_5,o=i.ft_1,n=h.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}t.inherits(a,n),module.exports=a,a.blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(t,h){for(var i=this.W,n=0;n<16;n++)i[n]=t[h+n];for(;n<i.length;n++)i[n]=s(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var a=this.h[0],c=this.h[1],l=this.h[2],f=this.h[3],m=this.h[4];for(n=0;n<i.length;n++){var p=~~(n/20),g=r(s(a,5),o(p,c,l,f),m,i[n],u[p]);m=f,f=l,l=s(c,30),c=a,a=g}this.h[0]=e(this.h[0],a),this.h[1]=e(this.h[1],c),this.h[2]=e(this.h[2],l),this.h[3]=e(this.h[3],f),this.h[4]=e(this.h[4],m)},a.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"big"):t.split32(this.h,"big")};
},{"../utils":"i+pT","../common":"y5f6","./common":"gdaJ"}],"9z72":[function(require,module,exports) {
"use strict";var h=require("../utils"),t=require("../common"),i=require("./common"),s=require("minimalistic-assert"),e=h.sum32,r=h.sum32_4,n=h.sum32_5,o=i.ch32,u=i.maj32,a=i.s0_256,c=i.s1_256,l=i.g0_256,m=i.g1_256,g=t.BlockHash,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function p(){if(!(this instanceof p))return new p;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=f,this.W=new Array(64)}h.inherits(p,g),module.exports=p,p.blockSize=512,p.outSize=256,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(h,t){for(var i=this.W,g=0;g<16;g++)i[g]=h[t+g];for(;g<i.length;g++)i[g]=r(m(i[g-2]),i[g-7],l(i[g-15]),i[g-16]);var f=this.h[0],p=this.h[1],_=this.h[2],k=this.h[3],d=this.h[4],q=this.h[5],v=this.h[6],b=this.h[7];for(s(this.k.length===i.length),g=0;g<i.length;g++){var x=n(b,c(d),o(d,q,v),this.k[g],i[g]),y=e(a(f),u(f,p,_));b=v,v=q,q=d,d=e(k,x),k=_,_=p,p=f,f=e(x,y)}this.h[0]=e(this.h[0],f),this.h[1]=e(this.h[1],p),this.h[2]=e(this.h[2],_),this.h[3]=e(this.h[3],k),this.h[4]=e(this.h[4],d),this.h[5]=e(this.h[5],q),this.h[6]=e(this.h[6],v),this.h[7]=e(this.h[7],b)},p.prototype._digest=function(t){return"hex"===t?h.toHex32(this.h,"big"):h.split32(this.h,"big")};
},{"../utils":"i+pT","../common":"y5f6","./common":"gdaJ","minimalistic-assert":"iHaQ"}],"Od20":[function(require,module,exports) {
"use strict";var t=require("../utils"),i=require("./256");function e(){if(!(this instanceof e))return new e;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}t.inherits(e,i),module.exports=e,e.blockSize=512,e.outSize=224,e.hmacStrength=192,e.padLength=64,e.prototype._digest=function(i){return"hex"===i?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")};
},{"../utils":"i+pT","./256":"9z72"}],"+34E":[function(require,module,exports) {
"use strict";var t=require("../utils"),h=require("../common"),i=require("minimalistic-assert"),r=t.rotr64_hi,n=t.rotr64_lo,s=t.shr64_hi,e=t.shr64_lo,u=t.sum64,o=t.sum64_hi,a=t.sum64_lo,c=t.sum64_4_hi,f=t.sum64_4_lo,l=t.sum64_5_hi,v=t.sum64_5_lo,_=h.BlockHash,p=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=p,this.W=new Array(160)}function g(t,h,i,r,n){var s=t&i^~t&n;return s<0&&(s+=4294967296),s}function k(t,h,i,r,n,s){var e=h&r^~h&s;return e<0&&(e+=4294967296),e}function d(t,h,i,r,n){var s=t&i^t&n^i&n;return s<0&&(s+=4294967296),s}function y(t,h,i,r,n,s){var e=h&r^h&s^r&s;return e<0&&(e+=4294967296),e}function b(t,h){var i=r(t,h,28)^r(h,t,2)^r(h,t,7);return i<0&&(i+=4294967296),i}function q(t,h){var i=n(t,h,28)^n(h,t,2)^n(h,t,7);return i<0&&(i+=4294967296),i}function x(t,h){var i=r(t,h,14)^r(t,h,18)^r(h,t,9);return i<0&&(i+=4294967296),i}function B(t,h){var i=n(t,h,14)^n(t,h,18)^n(h,t,9);return i<0&&(i+=4294967296),i}function S(t,h){var i=r(t,h,1)^r(t,h,8)^s(t,h,7);return i<0&&(i+=4294967296),i}function W(t,h){var i=n(t,h,1)^n(t,h,8)^e(t,h,7);return i<0&&(i+=4294967296),i}function w(t,h){var i=r(t,h,19)^r(h,t,29)^s(t,h,6);return i<0&&(i+=4294967296),i}function z(t,h){var i=n(t,h,19)^n(h,t,29)^e(t,h,6);return i<0&&(i+=4294967296),i}t.inherits(m,_),module.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(t,h){for(var i=this.W,r=0;r<32;r++)i[r]=t[h+r];for(;r<i.length;r+=2){var n=w(i[r-4],i[r-3]),s=z(i[r-4],i[r-3]),e=i[r-14],u=i[r-13],o=S(i[r-30],i[r-29]),a=W(i[r-30],i[r-29]),l=i[r-32],v=i[r-31];i[r]=c(n,s,e,u,o,a,l,v),i[r+1]=f(n,s,e,u,o,a,l,v)}},m.prototype._update=function(t,h){this._prepareBlock(t,h);var r=this.W,n=this.h[0],s=this.h[1],e=this.h[2],c=this.h[3],f=this.h[4],_=this.h[5],p=this.h[6],m=this.h[7],S=this.h[8],W=this.h[9],w=this.h[10],z=this.h[11],H=this.h[12],A=this.h[13],L=this.h[14],j=this.h[15];i(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var D=L,E=j,F=x(S,W),G=B(S,W),I=g(S,W,w,z,H,A),J=k(S,W,w,z,H,A),K=this.k[C],M=this.k[C+1],N=r[C],O=r[C+1],P=l(D,E,F,G,I,J,K,M,N,O),Q=v(D,E,F,G,I,J,K,M,N,O);D=b(n,s),E=q(n,s),F=d(n,s,e,c,f,_),G=y(n,s,e,c,f,_);var R=o(D,E,F,G),T=a(D,E,F,G);L=H,j=A,H=w,A=z,w=S,z=W,S=o(p,m,P,Q),W=a(m,m,P,Q),p=f,m=_,f=e,_=c,e=n,c=s,n=o(P,Q,R,T),s=a(P,Q,R,T)}u(this.h,0,n,s),u(this.h,2,e,c),u(this.h,4,f,_),u(this.h,6,p,m),u(this.h,8,S,W),u(this.h,10,w,z),u(this.h,12,H,A),u(this.h,14,L,j)},m.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"big"):t.split32(this.h,"big")};
},{"../utils":"i+pT","../common":"y5f6","minimalistic-assert":"iHaQ"}],"Ljiz":[function(require,module,exports) {
"use strict";var t=require("../utils"),i=require("./512");function e(){if(!(this instanceof e))return new e;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}t.inherits(e,i),module.exports=e,e.blockSize=1024,e.outSize=384,e.hmacStrength=192,e.padLength=128,e.prototype._digest=function(i){return"hex"===i?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")};
},{"../utils":"i+pT","./512":"+34E"}],"HSnF":[function(require,module,exports) {
"use strict";exports.sha1=require("./sha/1"),exports.sha224=require("./sha/224"),exports.sha256=require("./sha/256"),exports.sha384=require("./sha/384"),exports.sha512=require("./sha/512");
},{"./sha/1":"7qTw","./sha/224":"Od20","./sha/256":"9z72","./sha/384":"Ljiz","./sha/512":"+34E"}],"+ENA":[function(require,module,exports) {
"use strict";var t=require("./utils"),h=require("./common"),i=t.rotl32,s=t.sum32,e=t.sum32_3,r=t.sum32_4,n=h.BlockHash;function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(t,h,i,s){return t<=15?h^i^s:t<=31?h&i|~h&s:t<=47?(h|~i)^s:t<=63?h&s|i&~s:h^(i|~s)}function c(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function l(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}t.inherits(o,n),exports.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(t,h){for(var n=this.h[0],o=this.h[1],d=this.h[2],v=this.h[3],_=this.h[4],g=n,x=o,S=d,k=v,q=_,y=0;y<80;y++){var z=s(i(r(n,u(y,o,d,v),t[a[y]+h],c(y)),p[y]),_);n=_,_=v,v=i(d,10),d=o,o=z,z=s(i(r(g,u(79-y,x,S,k),t[f[y]+h],l(y)),m[y]),q),g=q,q=k,k=i(S,10),S=x,x=z}z=e(this.h[1],d,k),this.h[1]=e(this.h[2],v,q),this.h[2]=e(this.h[3],_,g),this.h[3]=e(this.h[4],n,x),this.h[4]=e(this.h[0],o,S),this.h[0]=z},o.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"little"):t.split32(this.h,"little")};var a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];
},{"./utils":"i+pT","./common":"y5f6"}],"+ZYv":[function(require,module,exports) {
"use strict";var t=require("./utils"),i=require("minimalistic-assert");function e(i,s,n){if(!(this instanceof e))return new e(i,s,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,n))}module.exports=e,e.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},e.prototype.update=function(t,i){return this.inner.update(t,i),this},e.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};
},{"./utils":"i+pT","minimalistic-assert":"iHaQ"}],"C9ow":[function(require,module,exports) {
var h=exports;h.utils=require("./hash/utils"),h.common=require("./hash/common"),h.sha=require("./hash/sha"),h.ripemd=require("./hash/ripemd"),h.hmac=require("./hash/hmac"),h.sha1=h.sha.sha1,h.sha256=h.sha.sha256,h.sha224=h.sha.sha224,h.sha384=h.sha.sha384,h.sha512=h.sha.sha512,h.ripemd160=h.ripemd.ripemd160;
},{"./hash/utils":"i+pT","./hash/common":"y5f6","./hash/sha":"HSnF","./hash/ripemd":"+ENA","./hash/hmac":"+ZYv"}],"fAAa":[function(require,module,exports) {
module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};
},{}],"eM7+":[function(require,module,exports) {
"use strict";var f,e=exports,a=require("hash.js"),b=require("../elliptic"),c=b.utils.assert;function d(f){"short"===f.type?this.curve=new b.curve.short(f):"edwards"===f.type?this.curve=new b.curve.edwards(f):this.curve=new b.curve.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function r(f,a){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var b=new d(a);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:b}),b}})}e.PresetCurve=d,r("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),r("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),r("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),r("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),r("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),r("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),r("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{f=require("./precomputed/secp256k1")}catch(e){f=void 0}r("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]});
},{"hash.js":"C9ow","../elliptic":"rfaM","./precomputed/secp256k1":"fAAa"}],"kgXl":[function(require,module,exports) {
"use strict";var t=require("hash.js"),e=require("minimalistic-crypto-utils"),i=require("minimalistic-assert");function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=e.toArray(t.entropy,t.entropyEnc||"hex"),r=e.toArray(t.nonce,t.nonceEnc||"hex"),n=e.toArray(t.pers,t.persEnc||"hex");i(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,r,n)}module.exports=s,s.prototype._init=function(t,e,i){var s=t.concat(e).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,s,h,r){"string"!=typeof s&&(r=h,h=s,s=null),t=e.toArray(t,s),h=e.toArray(h,r),i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(h||[])),this._reseed=1},s.prototype.generate=function(t,i,s,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof i&&(h=s,s=i,i=null),s&&(s=e.toArray(s,h||"hex"),this._update(s));for(var r=[];r.length<t;)this.V=this._hmac().update(this.V).digest(),r=r.concat(this.V);var n=r.slice(0,t);return this._update(s),this._reseed++,e.encode(n,i)};
},{"hash.js":"C9ow","minimalistic-crypto-utils":"3hql","minimalistic-assert":"iHaQ"}],"Cs0L":[function(require,module,exports) {
"use strict";var t=require("bn.js"),i=require("../../elliptic"),e=i.utils,r=e.assert;function n(t,i){this.ec=t,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}module.exports=n,n.fromPublic=function(t,i,e){return i instanceof n?i:new n(t,{pub:i,pubEnc:e})},n.fromPrivate=function(t,i,e){return i instanceof n?i:new n(t,{priv:i,privEnc:e})},n.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(t,i){return"string"==typeof t&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub},n.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(i,e){this.priv=new t(i,e||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(t,i){if(t.x||t.y)return"mont"===this.ec.curve.type?r(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,i)},n.prototype.derive=function(t){return t.mul(this.priv).getX()},n.prototype.sign=function(t,i,e){return this.ec.sign(t,this,i,e)},n.prototype.verify=function(t,i){return this.ec.verify(t,i,this)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"mKf4":[function(require,module,exports) {
"use strict";var r=require("bn.js"),e=require("../../elliptic"),t=e.utils,a=t.assert;function n(e,t){if(e instanceof n)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function c(){this.place=0}function i(r,e){var t=r[e.place++];if(!(128&t))return t;for(var a=15&t,n=0,c=0,i=e.place;c<a;c++,i++)n<<=8,n|=r[i];return e.place=i,n}function o(r){for(var e=0,t=r.length-1;!r[e]&&!(128&r[e+1])&&e<t;)e++;return 0===e?r:r.slice(e)}function s(r,e){if(e<128)r.push(e);else{var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(128|t);--t;)r.push(e>>>(t<<3)&255);r.push(e)}}module.exports=n,n.prototype._importDER=function(e,a){e=t.toArray(e,a);var n=new c;if(48!==e[n.place++])return!1;if(i(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=i(e,n),s=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var l=i(e,n);if(e.length!==l+n.place)return!1;var u=e.slice(n.place,l+n.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new r(s),this.s=new r(u),this.recoveryParam=null,!0},n.prototype.toDER=function(r){var e=this.r.toArray(),a=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&a[0]&&(a=[0].concat(a)),e=o(e),a=o(a);!(a[0]||128&a[1]);)a=a.slice(1);var n=[2];s(n,e.length),(n=n.concat(e)).push(2),s(n,a.length);var c=n.concat(a),i=[48];return s(i,c.length),i=i.concat(c),t.encode(i,r)};
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"tdbd":[function(require,module,exports) {
"use strict";var e=require("bn.js"),t=require("hmac-drbg"),r=require("../../elliptic"),n=r.utils,i=n.assert,s=require("./key"),o=require("./signature");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(i(r.curves.hasOwnProperty(e),"Unknown curve "+e),e=r.curves[e]),e instanceof r.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}module.exports=u,u.prototype.keyPair=function(e){return new s(this,e)},u.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},u.prototype.genKeyPair=function(n){n||(n={});for(var i=new t({hash:this.hash,pers:n.pers,persEnc:n.persEnc||"utf8",entropy:n.entropy||r.rand(this.hash.hmacStrength),entropyEnc:n.entropy&&n.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),o=this.n.sub(new e(2));;){var u=new e(i.generate(s));if(!(u.cmp(o)>0))return u.iaddn(1),this.keyFromPrivate(u)}},u.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(r,n,i,s){"object"==typeof i&&(s=i,i=null),s||(s={}),n=this.keyFromPrivate(n,i),r=this._truncateToN(new e(r,16));for(var u=this.n.byteLength(),h=n.getPrivate().toArray("be",u),c=r.toArray("be",u),a=new t({hash:this.hash,entropy:h,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),p=this.n.sub(new e(1)),m=0;;m++){var v=s.k?s.k(m):new e(a.generate(this.n.byteLength()));if(!((v=this._truncateToN(v,!0)).cmpn(1)<=0||v.cmp(p)>=0)){var y=this.g.mul(v);if(!y.isInfinity()){var f=y.getX(),g=f.umod(this.n);if(0!==g.cmpn(0)){var d=v.invm(this.n).mul(g.mul(n.getPrivate()).iadd(r));if(0!==(d=d.umod(this.n)).cmpn(0)){var l=(y.getY().isOdd()?1:0)|(0!==f.cmp(g)?2:0);return s.canonical&&d.cmp(this.nh)>0&&(d=this.n.sub(d),l^=1),new o({r:g,s:d,recoveryParam:l})}}}}}},u.prototype.verify=function(t,r,n,i){t=this._truncateToN(new e(t,16)),n=this.keyFromPublic(n,i);var s=(r=new o(r,"hex")).r,u=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var h,c=u.invm(this.n),a=c.mul(t).umod(this.n),p=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(h=this.g.jmulAdd(a,n.getPublic(),p)).isInfinity()&&h.eqXToP(s):!(h=this.g.mulAdd(a,n.getPublic(),p)).isInfinity()&&0===h.getX().umod(this.n).cmp(s)},u.prototype.recoverPubKey=function(t,r,n,s){i((3&n)===n,"The recovery param is more than two bits"),r=new o(r,s);var u=this.n,h=new e(t),c=r.r,a=r.s,p=1&n,m=n>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");c=m?this.curve.pointFromX(c.add(this.curve.n),p):this.curve.pointFromX(c,p);var v=r.r.invm(u),y=u.sub(h).mul(v).umod(u),f=a.mul(v).umod(u);return this.g.mulAdd(y,c,f)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new o(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};
},{"bn.js":"FQk1","hmac-drbg":"kgXl","../../elliptic":"rfaM","./key":"Cs0L","./signature":"mKf4"}],"B5/b":[function(require,module,exports) {
"use strict";var t=require("../../elliptic"),e=t.utils,s=e.assert,i=e.parseBytes,n=e.cachedProperty;function r(t,e){this.eddsa=t,this._secret=i(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=i(e.pub)}r.fromPublic=function(t,e){return e instanceof r?e:new r(t,{pub:e})},r.fromSecret=function(t,e){return e instanceof r?e:new r(t,{secret:e})},r.prototype.secret=function(){return this._secret},n(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(r,"privBytes",function(){var t=this.eddsa,e=this.hash(),s=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[s]&=127,i[s]|=64,i}),n(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(t){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},r.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},r.prototype.getSecret=function(t){return s(this._secret,"KeyPair is public only"),e.encode(this.secret(),t)},r.prototype.getPublic=function(t){return e.encode(this.pubBytes(),t)},module.exports=r;
},{"../../elliptic":"rfaM"}],"s533":[function(require,module,exports) {
"use strict";var e=require("bn.js"),t=require("../../elliptic"),n=t.utils,o=n.assert,i=n.cachedProperty,d=n.parseBytes;function r(t,n){this.eddsa=t,"object"!=typeof n&&(n=d(n)),Array.isArray(n)&&(n={R:n.slice(0,t.encodingLength),S:n.slice(t.encodingLength)}),o(n.R&&n.S,"Signature without R or S"),t.isPoint(n.R)&&(this._R=n.R),n.S instanceof e&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}i(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},module.exports=r;
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"2z/3":[function(require,module,exports) {
"use strict";var t=require("hash.js"),e=require("../../elliptic"),n=e.utils,r=n.assert,i=n.parseBytes,o=require("./key"),s=require("./signature");function u(n){if(r("ed25519"===n,"only tested with ed25519 so far"),!(this instanceof u))return new u(n);n=e.curves[n].curve;this.curve=n,this.g=n.g,this.g.precompute(n.n.bitLength()+1),this.pointClass=n.point().constructor,this.encodingLength=Math.ceil(n.n.bitLength()/8),this.hash=t.sha512}module.exports=u,u.prototype.sign=function(t,e){t=i(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),o=this.g.mul(r),s=this.encodePoint(o),u=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),h=r.add(u).umod(this.curve.n);return this.makeSignature({R:o,S:h,Rencoded:s})},u.prototype.verify=function(t,e,n){t=i(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),o=this.hashInt(e.Rencoded(),r.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(r.pub().mul(o)).eq(s)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return n.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return o.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return o.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof s?t:new s(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=n.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),o=n.intFromLE(r);return this.curve.pointFromY(o,i)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return n.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass};
},{"hash.js":"C9ow","../../elliptic":"rfaM","./key":"B5/b","./signature":"s533"}],"rfaM":[function(require,module,exports) {
"use strict";var e=exports;e.version=require("../package.json").version,e.utils=require("./elliptic/utils"),e.rand=require("brorand"),e.curve=require("./elliptic/curve"),e.curves=require("./elliptic/curves"),e.ec=require("./elliptic/ec"),e.eddsa=require("./elliptic/eddsa");
},{"../package.json":"Mk5q","./elliptic/utils":"OE/f","brorand":"Kn4N","./elliptic/curve":"W91T","./elliptic/curves":"eM7+","./elliptic/ec":"tdbd","./elliptic/eddsa":"2z/3"}],"a7so":[function(require,module,exports) {
var r=[].indexOf;module.exports=function(e,n){if(r)return e.indexOf(n);for(var f=0;f<e.length;++f)if(e[f]===n)return f;return-1};
},{}],"hYzZ":[function(require,module,exports) {
var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,o=r.execScript;!n&&o&&(o.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var c=Object_keys(r),i=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(c,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t};
},{"indexof":"a7so"}],"QF3g":[function(require,module,exports) {
var e=require("../asn1"),t=require("inherits"),n=exports;function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}n.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(e){var n;try{n=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){n=function(e){this._initNamed(e)}}return t(n,e),n.prototype._initNamed=function(t){e.call(this,t)},new n(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(e.decoders[t])),this.decoders[t]},r.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(e.encoders[t])),this.encoders[t]},r.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)};
},{"../asn1":"MIic","inherits":"9q8B","vm":"hYzZ"}],"IJ1h":[function(require,module,exports) {
var t=require("inherits");function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function e(t,r){this.path=t,this.rethrow(r)}exports.Reporter=r,r.prototype.isError=function(t){return t instanceof e},r.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},r.prototype.restore=function(t){var r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.exitKey=function(t){var r=this._reporterState;r.path=r.path.slice(0,t-1)},r.prototype.leaveKey=function(t,r,e){var o=this._reporterState;this.exitKey(t),null!==o.obj&&(o.obj[r]=e)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var t=this._reporterState,r=t.obj;return t.obj={},r},r.prototype.leaveObject=function(t){var r=this._reporterState,e=r.obj;return r.obj=t,e},r.prototype.error=function(t){var r,o=this._reporterState,p=t instanceof e;if(r=p?t:new e(o.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!o.options.partial)throw r;return p||o.errors.push(r),r},r.prototype.wrapResult=function(t){var r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t},t(e,Error),e.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,e),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};
},{"inherits":"9q8B"}],"nkB4":[function(require,module,exports) {

var t=require("inherits"),e=require("../base").Reporter,r=require("buffer").Buffer;function s(t,s){e.call(this,s),r.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function i(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof i||(t=new i(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=r.byteLength(t);else{if(!r.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}t(s,e),exports.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},s.prototype.restore=function(t){var r=new s(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,e.prototype.restore.call(this,t.reporter),r},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},exports.EncoderBuffer=i,i.prototype.join=function(t,e){return t||(t=new r(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):r.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)};
},{"inherits":"9q8B","../base":"BpOt","buffer":"eKIq"}],"eHuW":[function(require,module,exports) {
var e=require("../base").Reporter,t=require("../base").EncoderBuffer,r=require("../base").DecoderBuffer,i=require("minimalistic-assert"),n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n),s=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}module.exports=c;var a=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};a.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},c.prototype._wrap=function(){var e=this._baseState;o.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},c.prototype._init=function(e){var t=this._baseState;i(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),i.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(i(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(i(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var i=e[r];t[i]=r}),t}))},s.forEach(function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),n.forEach(function(e){c.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return i(null===t.tag),t.tag=e,this._useArgs(r),this}}),c.prototype.use=function(e){i(e);var t=this._baseState;return i(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return i(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return i(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return i(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},c.prototype.contains=function(e){var t=this._baseState;return i(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var n,o=i.default,s=!0,c=null;if(null!==i.key&&(c=e.enterKey(i.key)),i.optional){var a=null;if(null!==i.explicit?a=i.explicit:null!==i.implicit?a=i.implicit:null!==i.tag&&(a=i.tag),null!==a||i.any){if(s=this._peekTag(e,a,i.any),e.isError(s))return s}else{var l=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(l)}}if(i.obj&&s&&(n=e.enterObject()),s){if(null!==i.explicit){var u=this._decodeTag(e,i.explicit);if(e.isError(u))return u;e=u}var d=e.offset;if(null===i.use&&null===i.choice){if(i.any)l=e.save();var h=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(h))return h;i.any?o=e.raw(l):e=h}if(t&&t.track&&null!==i.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),o=i.any?o:null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),e.isError(o))return o;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(r){r._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var p=new r(o);o=this._getUse(i.contains,e._reporterState.obj)._decode(p,t)}}return i.obj&&s&&(o=e.leaveObject(n)),null===i.key||null===o&&!0!==s?null!==c&&e.exitKey(c):e.leaveKey(c,i.key,o),o},c.prototype._decodeGeneric=function(e,t,r){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),i(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(e,t){var r=this._baseState,i=null,n=!1;return Object.keys(r.choice).some(function(o){var s=e.save(),c=r.choice[o];try{var a=c._decode(e,t);if(e.isError(a))return!1;i={type:o,value:a},n=!0}catch(t){return e.restore(s),!1}return!0},this),n?i:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new t(e,this.reporter)},c.prototype._encode=function(e,t,r){var i=this._baseState;if(null===i.default||i.default!==e){var n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},c.prototype._encodeValue=function(t,r,i){var n=this._baseState;if(null===n.parent)return n.children[0]._encode(t,r||new e);var o=null;if(this.reporter=r,n.optional&&void 0===t){if(null===n.default)return;t=n.default}var s=null,c=!1;if(n.any)o=this._createEncoderBuffer(t);else if(n.choice)o=this._encodeChoice(t,r);else if(n.contains)s=this._getUse(n.contains,i)._encode(t,r),c=!0;else if(n.children)s=n.children.map(function(e){if("null_"===e._baseState.tag)return e._encode(null,r,t);if(null===e._baseState.key)return r.error("Child should have a key");var i=r.enterKey(e._baseState.key);if("object"!=typeof t)return r.error("Child expected, but input is not object");var n=e._encode(t[e._baseState.key],r,t);return r.leaveKey(i),n},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return r.error("Too many args for : "+n.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(e){var i=this._baseState;return this._getUse(i.args[0],t)._encode(e,r)},a))}else null!==n.use?o=this._getUse(n.use,i)._encode(t,r):(s=this._encodePrimitive(n.tag,t),c=!0);if(!n.any&&null===n.choice){var l=null!==n.implicit?n.implicit:n.tag,u=null===n.implicit?"universal":"context";null===l?null===n.use&&r.error("Tag could be omitted only for .use()"):null===n.use&&(o=this._encodeComposite(l,c,u,s))}return null!==n.explicit&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||i(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)};
},{"../base":"BpOt","minimalistic-assert":"iHaQ"}],"BpOt":[function(require,module,exports) {
var e=exports;e.Reporter=require("./reporter").Reporter,e.DecoderBuffer=require("./buffer").DecoderBuffer,e.EncoderBuffer=require("./buffer").EncoderBuffer,e.Node=require("./node");
},{"./reporter":"IJ1h","./buffer":"nkB4","./node":"eHuW"}],"fdJF":[function(require,module,exports) {
var t=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=t._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=t._reverse(exports.tag);
},{"../constants":"isbO"}],"isbO":[function(require,module,exports) {
var r=exports;r._reverse=function(r){var e={};return Object.keys(r).forEach(function(n){(0|n)==n&&(n|=0);var t=r[n];e[t]=n}),e},r.der=require("./der");
},{"./der":"fdJF"}],"O9a/":[function(require,module,exports) {
var r=require("inherits"),t=require("../../asn1"),e=t.base,i=t.bignum,o=t.constants.der;function n(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new s,this.tree._init(r.body)}function s(r){e.Node.call(this,"der",r)}function a(r,t){var e=r.readUInt8(t);if(r.isError(e))return e;var i=o.tagClass[e>>6],n=0==(32&e);if(31==(31&e)){var s=e;for(e=0;128==(128&s);){if(s=r.readUInt8(t),r.isError(s))return s;e<<=7,e|=127&s}}else e&=31;return{cls:i,primitive:n,tag:e,tagStr:o.tag[e]}}function u(r,t,e){var i=r.readUInt8(e);if(r.isError(i))return i;if(!t&&128===i)return null;if(0==(128&i))return i;var o=127&i;if(o>4)return r.error("length octect is too long");i=0;for(var n=0;n<o;n++){i<<=8;var s=r.readUInt8(e);if(r.isError(s))return s;i|=s}return i}module.exports=n,n.prototype.decode=function(r,t){return r instanceof e.DecoderBuffer||(r=new e.DecoderBuffer(r,t)),this.tree._decode(r,t)},r(s,e.Node),s.prototype._peekTag=function(r,t,e){if(r.isEmpty())return!1;var i=r.save(),o=a(r,'Failed to peek tag: "'+t+'"');return r.isError(o)?o:(r.restore(i),o.tag===t||o.tagStr===t||o.tagStr+"of"===t||e)},s.prototype._decodeTag=function(r,t,e){var i=a(r,'Failed to decode tag of "'+t+'"');if(r.isError(i))return i;var o=u(r,i.primitive,'Failed to get length of "'+t+'"');if(r.isError(o))return o;if(!e&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return r.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==o)return r.skip(o,'Failed to match body of: "'+t+'"');var n=r.save(),s=this._skipUntilEnd(r,'Failed to skip indefinite length body: "'+this.tag+'"');return r.isError(s)?s:(o=r.offset-n.offset,r.restore(n),r.skip(o,'Failed to match body of: "'+t+'"'))},s.prototype._skipUntilEnd=function(r,t){for(;;){var e=a(r,t);if(r.isError(e))return e;var i,o=u(r,e.primitive,t);if(r.isError(o))return o;if(i=e.primitive||null!==o?r.skip(o):this._skipUntilEnd(r,t),r.isError(i))return i;if("end"===e.tagStr)break}},s.prototype._decodeList=function(r,t,e,i){for(var o=[];!r.isEmpty();){var n=this._peekTag(r,"end");if(r.isError(n))return n;var s=e.decode(r,"der",i);if(r.isError(s)&&n)break;o.push(s)}return o},s.prototype._decodeStr=function(r,t){if("bitstr"===t){var e=r.readUInt8();return r.isError(e)?e:{unused:e,data:r.raw()}}if("bmpstr"===t){var i=r.raw();if(i.length%2==1)return r.error("Decoding of string type: bmpstr length mismatch");for(var o="",n=0;n<i.length/2;n++)o+=String.fromCharCode(i.readUInt16BE(2*n));return o}if("numstr"===t){var s=r.raw().toString("ascii");return this._isNumstr(s)?s:r.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return r.raw();if("objDesc"===t)return r.raw();if("printstr"===t){var a=r.raw().toString("ascii");return this._isPrintstr(a)?a:r.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?r.raw().toString():r.error("Decoding of string type: "+t+" unsupported")},s.prototype._decodeObjid=function(r,t,e){for(var i,o=[],n=0;!r.isEmpty();){var s=r.readUInt8();n<<=7,n|=127&s,0==(128&s)&&(o.push(n),n=0)}128&s&&o.push(n);var a=o[0]/40|0,u=o[0]%40;if(i=e?o:[a,u].concat(o.slice(1)),t){var d=t[i.join(" ")];void 0===d&&(d=t[i.join(".")]),void 0!==d&&(i=d)}return i},s.prototype._decodeTime=function(r,t){var e=r.raw().toString();if("gentime"===t)var i=0|e.slice(0,4),o=0|e.slice(4,6),n=0|e.slice(6,8),s=0|e.slice(8,10),a=0|e.slice(10,12),u=0|e.slice(12,14);else{if("utctime"!==t)return r.error("Decoding "+t+" time is not supported yet");i=0|e.slice(0,2),o=0|e.slice(2,4),n=0|e.slice(4,6),s=0|e.slice(6,8),a=0|e.slice(8,10),u=0|e.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,o-1,n,s,a,u,0)},s.prototype._decodeNull=function(r){return null},s.prototype._decodeBool=function(r){var t=r.readUInt8();return r.isError(t)?t:0!==t},s.prototype._decodeInt=function(r,t){var e=r.raw(),o=new i(e);return t&&(o=t[o.toString(10)]||o),o},s.prototype._use=function(r,t){return"function"==typeof r&&(r=r(t)),r._getDecoder("der").tree};
},{"inherits":"9q8B","../../asn1":"MIic"}],"MHHe":[function(require,module,exports) {

var e=require("inherits"),r=require("buffer").Buffer,i=require("./der");function t(e){i.call(this,e),this.enc="pem"}e(t,i),module.exports=t,t.prototype.decode=function(e,t){for(var o=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,l=-1,c=0;c<o.length;c++){var u=o[c].match(a);if(null!==u&&u[2]===n){if(-1!==f){if("END"!==u[1])break;l=c;break}if("BEGIN"!==u[1])break;f=c}}if(-1===f||-1===l)throw new Error("PEM section not found for: "+n);var p=o.slice(f+1,l).join("");p.replace(/[^a-z0-9\+\/=]+/gi,"");var s=new r(p,"base64");return i.prototype.decode.call(this,s,t)};
},{"inherits":"9q8B","buffer":"eKIq","./der":"O9a/"}],"O24T":[function(require,module,exports) {
var e=exports;e.der=require("./der"),e.pem=require("./pem");
},{"./der":"O9a/","./pem":"MHHe"}],"vQsD":[function(require,module,exports) {

var e=require("inherits"),r=require("buffer").Buffer,t=require("../../asn1"),n=t.base,o=t.constants.der;function i(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new s,this.tree._init(e.body)}function s(e){n.Node.call(this,"der",e)}function f(e){return e<10?"0"+e:e}function u(e,r,t,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(r||(i|=32),i|=o.tagClassByName[t||"universal"]<<6)}module.exports=i,i.prototype.encode=function(e,r){return this.tree._encode(e,r).join()},e(s,n.Node),s.prototype._encodeComposite=function(e,t,n,o){var i,s=u(e,t,n,this.reporter);if(o.length<128)return(i=new r(2))[0]=s,i[1]=o.length,this._createEncoderBuffer([i,o]);for(var f=1,a=o.length;a>=256;a>>=8)f++;(i=new r(2+f))[0]=s,i[1]=128|f;a=1+f;for(var c=o.length;c>0;a--,c>>=8)i[a]=255&c;return this._createEncoderBuffer([i,o])},s.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new r(2*e.length),o=0;o<e.length;o++)n.writeUInt16BE(e.charCodeAt(o),2*o);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},s.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var o=0;o<e.length;o++)e[o]|=0}else if(Array.isArray(e)){e=e.slice();for(o=0;o<e.length;o++)e[o]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var i=0;for(o=0;o<e.length;o++){var s=e[o];for(i++;s>=128;s>>=7)i++}var f=new r(i),u=f.length-1;for(o=e.length-1;o>=0;o--){s=e[o];for(f[u--]=127&s;(s>>=7)>0;)f[u--]=128|127&s}return this._createEncoderBuffer(f)},s.prototype._encodeTime=function(e,r){var t,n=new Date(e);return"gentime"===r?t=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===r?t=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(t,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!r.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new r(n)}if(r.isBuffer(e)){var o=e.length;0===e.length&&o++;var i=new r(o);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);o=1;for(var s=e;s>=256;s>>=8)o++;for(s=(i=new Array(o)).length-1;s>=0;s--)i[s]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new r(i))},s.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},s.prototype._use=function(e,r){return"function"==typeof e&&(e=e(r)),e._getEncoder("der").tree},s.prototype._skipDefault=function(e,r,t){var n,o=this._baseState;if(null===o.default)return!1;var i=e.join();if(void 0===o.defaultBuffer&&(o.defaultBuffer=this._encodeValue(o.default,r,t).join()),i.length!==o.defaultBuffer.length)return!1;for(n=0;n<i.length;n++)if(i[n]!==o.defaultBuffer[n])return!1;return!0};
},{"inherits":"9q8B","buffer":"eKIq","../../asn1":"MIic"}],"am7i":[function(require,module,exports) {
var e=require("inherits"),r=require("./der");function t(e){r.call(this,e),this.enc="pem"}e(t,r),module.exports=t,t.prototype.encode=function(e,t){for(var n=r.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+t.label+"-----"],i=0;i<n.length;i+=64)o.push(n.slice(i,i+64));return o.push("-----END "+t.label+"-----"),o.join("\n")};
},{"inherits":"9q8B","./der":"vQsD"}],"5PLH":[function(require,module,exports) {
var e=exports;e.der=require("./der"),e.pem=require("./pem");
},{"./der":"vQsD","./pem":"am7i"}],"MIic":[function(require,module,exports) {
var e=exports;e.bignum=require("bn.js"),e.define=require("./asn1/api").define,e.base=require("./asn1/base"),e.constants=require("./asn1/constants"),e.decoders=require("./asn1/decoders"),e.encoders=require("./asn1/encoders");
},{"bn.js":"FQk1","./asn1/api":"QF3g","./asn1/base":"BpOt","./asn1/constants":"isbO","./asn1/decoders":"O24T","./asn1/encoders":"5PLH"}],"sPFh":[function(require,module,exports) {
"use strict";var e=require("asn1.js"),i=e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),t=e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),n=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),o=e.define("RelativeDistinguishedName",function(){this.setof(t)}),u=e.define("RDNSequence",function(){this.seqof(o)}),h=e.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),c=e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),r=e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(h),this.key("validity").use(c),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),y=e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(r),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});module.exports=y;
},{"asn1.js":"MIic"}],"GI9q":[function(require,module,exports) {
"use strict";var e=require("asn1.js");exports.certificate=require("./certificate");var i=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=i;var t=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=t;var s=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});exports.PublicKey=s;var n=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=o;var r=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=r;var y=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=y,exports.DSAparam=e.define("DSAparam",function(){this.int()});var h=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(a),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=h;var a=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});
},{"asn1.js":"MIic","./certificate":"sPFh"}],"yojs":[function(require,module,exports) {
module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};
},{}],"lrQK":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,n=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,t=require("evp_bytestokey"),E=require("browserify-aes");module.exports=function(c,s){var i,u=c.toString(),p=u.match(r);if(p){var f="aes"+p[1],o=new e(p[2],"hex"),I=new e(p[3].replace(/[\r\n]/g,""),"base64"),h=t(s,o.slice(0,8),parseInt(p[1],10)).key,m=[],C=E.createDecipheriv(f,h,o);m.push(C.update(I)),m.push(C.final()),i=e.concat(m)}else{var l=u.match(n);i=new e(l[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(a)[1],data:i}};
},{"evp_bytestokey":"M/sc","browserify-aes":"QG7D","buffer":"eKIq"}],"7nSK":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./asn1"),a=require("./aesid.json"),t=require("./fixProc"),i=require("browserify-aes"),c=require("pbkdf2");function d(a){var i;"object"!=typeof a||e.isBuffer(a)||(i=a.passphrase,a=a.key),"string"==typeof a&&(a=new e(a));var c,d,o=t(a,i),u=o.tag,n=o.data;switch(u){case"CERTIFICATE":d=r.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(d||(d=r.PublicKey.decode(n,"der")),c=d.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(d.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return d.subjectPrivateKey=d.subjectPublicKey,{type:"ec",data:d};case"1.2.840.10040.4.1":return d.algorithm.params.pub_key=r.DSAparam.decode(d.subjectPublicKey.data,"der"),{type:"dsa",data:d.algorithm.params};default:throw new Error("unknown key id "+c)}throw new Error("unknown key type "+u);case"ENCRYPTED PRIVATE KEY":n=s(n=r.EncryptedPrivateKey.decode(n,"der"),i);case"PRIVATE KEY":switch(c=(d=r.PrivateKey.decode(n,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(d.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:d.algorithm.curve,privateKey:r.ECPrivateKey.decode(d.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return d.algorithm.params.priv_key=r.DSAparam.decode(d.subjectPrivateKey,"der"),{type:"dsa",params:d.algorithm.params};default:throw new Error("unknown key id "+c)}throw new Error("unknown key type "+u);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return{curve:(n=r.ECPrivateKey.decode(n,"der")).parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+u)}}function s(r,t){var d=r.algorithm.decrypt.kde.kdeparams.salt,s=parseInt(r.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[r.algorithm.decrypt.cipher.algo.join(".")],u=r.algorithm.decrypt.cipher.iv,n=r.subjectPrivateKey,y=parseInt(o.split("-")[1],10)/8,p=c.pbkdf2Sync(t,d,s,y),K=i.createDecipheriv(o,p,u),l=[];return l.push(K.update(n)),l.push(K.final()),e.concat(l)}module.exports=d,d.signature=r.signature;
},{"./asn1":"GI9q","./aesid.json":"yojs","./fixProc":"lrQK","browserify-aes":"QG7D","pbkdf2":"1oZ5","buffer":"eKIq"}],"Ya0X":[function(require,module,exports) {
module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};
},{}],"5Piz":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("create-hmac"),t=require("browserify-rsa"),n=require("elliptic").ec,a=require("bn.js"),u=require("parse-asn1"),o=require("./curves.json");function i(r,n,a,o,i){var c=u(n);if(c.curve){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");return d(r,c)}if("dsa"===c.type){if("dsa"!==o)throw new Error("wrong private key type");return p(r,c,a)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");r=e.concat([i,r]);for(var s=c.modulus.byteLength(),g=[0,1];r.length+g.length+1<s;)g.push(255);g.push(0);for(var v=-1;++v<r.length;)g.push(r[v]);return t(g,c)}function d(r,t){var a=o[t.curve.join(".")];if(!a)throw new Error("unknown curve "+t.curve.join("."));var u=new n(a).keyFromPrivate(t.privateKey).sign(r);return new e(u.toDER())}function p(e,r,t){for(var n,u=r.params.priv_key,o=r.params.p,i=r.params.q,d=r.params.g,p=new a(0),v=g(e,i).mod(i),l=!1,w=s(u,i,e,t);!1===l;)p=h(d,n=f(i,w,t),o,i),0===(l=n.invm(i).imul(v.add(u.mul(p))).mod(i)).cmpn(0)&&(l=!1,p=new a(0));return c(p,l)}function c(r,t){r=r.toArray(),t=t.toArray(),128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t));var n=[48,r.length+t.length+4,2,r.length];return n=n.concat(r,[2,t.length],t),new e(n)}function s(t,n,a,u){if((t=new e(t.toArray())).length<n.byteLength()){var o=new e(n.byteLength()-t.length);o.fill(0),t=e.concat([o,t])}var i=a.length,d=v(a,n),p=new e(i);p.fill(1);var c=new e(i);return c.fill(0),c=r(u,c).update(p).update(new e([0])).update(t).update(d).digest(),p=r(u,c).update(p).digest(),{k:c=r(u,c).update(p).update(new e([1])).update(t).update(d).digest(),v:p=r(u,c).update(p).digest()}}function g(e,r){var t=new a(e),n=(e.length<<3)-r.bitLength();return n>0&&t.ishrn(n),t}function v(r,t){r=(r=g(r,t)).mod(t);var n=new e(r.toArray());if(n.length<t.byteLength()){var a=new e(t.byteLength()-n.length);a.fill(0),n=e.concat([a,n])}return n}function f(t,n,a){var u,o;do{for(u=new e(0);8*u.length<t.bitLength();)n.v=r(a,n.k).update(n.v).digest(),u=e.concat([u,n.v]);o=g(u,t),n.k=r(a,n.k).update(n.v).update(new e([0])).digest(),n.v=r(a,n.k).update(n.v).digest()}while(-1!==o.cmp(t));return o}function h(e,r,t,n){return e.toRed(a.mont(t)).redPow(r).fromRed().mod(n)}module.exports=i,module.exports.getKey=s,module.exports.makeKey=f;
},{"create-hmac":"ki/q","browserify-rsa":"in/U","elliptic":"rfaM","bn.js":"FQk1","parse-asn1":"7nSK","./curves.json":"Ya0X","buffer":"eKIq"}],"Hx5b":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("bn.js"),n=require("elliptic").ec,t=require("parse-asn1"),o=require("./curves.json");function a(n,o,a,d,c){var w=t(a);if("ec"===w.type){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");return u(n,o,w)}if("dsa"===w.type){if("dsa"!==d)throw new Error("wrong public key type");return i(n,o,w)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");o=r.concat([c,o]);for(var s=w.modulus.byteLength(),f=[1],l=0;o.length+f.length+2<s;)f.push(255),l++;f.push(0);for(var m=-1;++m<o.length;)f.push(o[m]);f=new r(f);var p=e.mont(w.modulus);n=(n=new e(n).toRed(p)).redPow(new e(w.publicExponent)),n=new r(n.fromRed().toArray());var h=l<8?1:0;for(s=Math.min(n.length,f.length),n.length!==f.length&&(h=1),m=-1;++m<s;)h|=n[m]^f[m];return 0===h}function u(r,e,t){var a=o[t.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+t.data.algorithm.curve.join("."));var u=new n(a),i=t.data.subjectPrivateKey.data;return u.verify(e,r,i)}function i(r,n,o){var a=o.data.p,u=o.data.q,i=o.data.g,c=o.data.pub_key,w=t.signature.decode(r,"der"),s=w.s,f=w.r;d(s,u),d(f,u);var l=e.mont(a),m=s.invm(u);return 0===i.toRed(l).redPow(new e(n).mul(m).mod(u)).fromRed().mul(c.toRed(l).redPow(f.mul(m).mod(u)).fromRed()).mod(a).mod(u).cmp(f)}function d(r,e){if(r.cmpn(0)<=0)throw new Error("invalid sig");if(r.cmp(e)>=e)throw new Error("invalid sig")}module.exports=a;
},{"bn.js":"FQk1","elliptic":"rfaM","parse-asn1":"7nSK","./curves.json":"Ya0X","buffer":"eKIq"}],"JPzM":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("create-hash"),i=require("stream"),r=require("inherits"),s=require("./sign"),n=require("./verify"),h=require("./algorithms.json");function a(t){i.Writable.call(this);var r=h[t];if(!r)throw new Error("Unknown message digest");this._hashType=r.hash,this._hash=e(r.hash),this._tag=r.id,this._signType=r.sign}function o(t){i.Writable.call(this);var r=h[t];if(!r)throw new Error("Unknown message digest");this._hash=e(r.hash),this._tag=r.id,this._signType=r.sign}function u(t){return new a(t)}function p(t){return new o(t)}Object.keys(h).forEach(function(e){h[e].id=new t(h[e].id,"hex"),h[e.toLowerCase()]=h[e]}),r(a,i.Writable),a.prototype._write=function(t,e,i){this._hash.update(t),i()},a.prototype.update=function(e,i){return"string"==typeof e&&(e=new t(e,i)),this._hash.update(e),this},a.prototype.sign=function(t,e){this.end();var i=this._hash.digest(),r=s(i,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},r(o,i.Writable),o.prototype._write=function(t,e,i){this._hash.update(t),i()},o.prototype.update=function(e,i){return"string"==typeof e&&(e=new t(e,i)),this._hash.update(e),this},o.prototype.verify=function(e,i,r){"string"==typeof i&&(i=new t(i,r)),this.end();var s=this._hash.digest();return n(i,s,e,this._signType,this._tag)},module.exports={Sign:u,Verify:p,createSign:u,createVerify:p};
},{"create-hash":"Uj4C","stream":"Rhfi","inherits":"9q8B","./sign":"5Piz","./verify":"Hx5b","./algorithms.json":"sXju","buffer":"eKIq"}],"tnQ+":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("elliptic"),r=require("bn.js");module.exports=function(e){return new n(e)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(e){this.curveType=i[e],this.curveType||(this.curveType={name:e}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}function s(t,r,i){Array.isArray(t)||(t=t.toArray());var n=new e(t);if(i&&n.length<i){var s=new e(i-n.length);s.fill(0),n=e.concat([s,n])}return r?n.toString(r):n}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(t,r,i){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},n.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,e)},n.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.keys._importPublic(t),this},n.prototype.setPrivateKey=function(t,i){i=i||"utf8",e.isBuffer(t)||(t=new e(t,i));var n=new r(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this};
},{"elliptic":"rfaM","bn.js":"FQk1","buffer":"eKIq"}],"+kQA":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("create-hash");function t(r){var t=new e(4);return t.writeUInt32BE(r,0),t}module.exports=function(n,u){for(var a,f=new e(""),i=0;f.length<u;)a=t(i++),f=e.concat([f,r("sha1").update(n).update(a).digest()]);return f.slice(0,u)};
},{"create-hash":"Uj4C","buffer":"eKIq"}],"mhOQ":[function(require,module,exports) {
module.exports=function(r,e){for(var n=r.length,o=-1;++o<n;)r[o]^=e[o];return r};
},{}],"+U47":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("bn.js");function o(o,u){return new e(o.toRed(r.mont(u.modulus)).redPow(new r(u.publicExponent)).fromRed().toArray())}module.exports=o;
},{"bn.js":"FQk1","buffer":"eKIq"}],"4yNI":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("parse-asn1"),n=require("randombytes"),o=require("create-hash"),t=require("./mgf"),u=require("./xor"),i=require("bn.js"),a=require("./withPublic"),w=require("browserify-rsa"),f={RSA_PKCS1_OAEP_PADDING:4,RSA_PKCS1_PADDIN:1,RSA_NO_PADDING:3};function s(r,a){var w=r.modulus.byteLength(),f=a.length,s=o("sha1").update(new e("")).digest(),l=s.length,g=2*l;if(f>w-g-2)throw new Error("message too long");var d=new e(w-f-g-2);d.fill(0);var h=w-l-1,c=n(l),m=u(e.concat([s,d,new e([1]),a],h),t(c,h)),q=u(c,t(m,l));return new i(e.concat([new e([0]),q,m],w))}function l(r,n,o){var t,u=n.length,a=r.modulus.byteLength();if(u>a-11)throw new Error("message too long");return o?(t=new e(a-u-3)).fill(255):t=g(a-u-3),new i(e.concat([new e([0,o?1:2]),t,new e([0]),n],a))}function g(r,o){for(var t,u=new e(r),i=0,a=n(2*r),w=0;i<r;)w===a.length&&(a=n(2*r),w=0),(t=a[w++])&&(u[i++]=t);return u}module.exports=function(e,n,o){var t;t=e.padding?e.padding:o?1:4;var u,f=r(e);if(4===t)u=s(f,n);else if(1===t)u=l(f,n,o);else{if(3!==t)throw new Error("unknown padding");if((u=new i(n)).cmp(f.modulus)>=0)throw new Error("data too long for modulus")}return o?w(u,f):a(u,f)};
},{"parse-asn1":"7nSK","randombytes":"GkF8","create-hash":"Uj4C","./mgf":"+kQA","./xor":"mhOQ","bn.js":"FQk1","./withPublic":"+U47","browserify-rsa":"in/U","buffer":"eKIq"}],"hrGu":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("parse-asn1"),n=require("./mgf"),t=require("./xor"),i=require("bn.js"),o=require("browserify-rsa"),u=require("create-hash"),l=require("./withPublic");function h(e,i){e.modulus;var o=e.modulus.byteLength(),l=(i.length,u("sha1").update(new r("")).digest()),h=l.length;if(0!==i[0])throw new Error("decryption error");var a=i.slice(1,h+1),c=i.slice(h+1),s=t(a,n(c,h)),w=t(c,n(s,o-h-1));if(f(l,w.slice(0,h)))throw new Error("decryption error");for(var g=h;0===w[g];)g++;if(1!==w[g++])throw new Error("decryption error");return w.slice(g)}function a(r,e,n){for(var t=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var u=e.slice(2,i-1);e.slice(i-1,i);if(("0002"!==t.toString("hex")&&!n||"0001"!==t.toString("hex")&&n)&&o++,u.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function f(e,n){e=new r(e),n=new r(n);var t=0,i=e.length;e.length!==n.length&&(t++,i=Math.min(e.length,n.length));for(var o=-1;++o<i;)t+=e[o]^n[o];return t}module.exports=function(n,t,u){var f;f=n.padding?n.padding:u?1:4;var c,s=e(n),w=s.modulus.byteLength();if(t.length>w||new i(t).cmp(s.modulus)>=0)throw new Error("decryption error");c=u?l(new i(t),s):o(t,s);var g=new r(w-c.length);if(g.fill(0),c=r.concat([g,c],w),4===f)return h(s,c);if(1===f)return a(s,c,u);if(3===f)return c;throw new Error("unknown padding")};
},{"parse-asn1":"7nSK","./mgf":"+kQA","./xor":"mhOQ","bn.js":"FQk1","browserify-rsa":"in/U","create-hash":"Uj4C","./withPublic":"+U47","buffer":"eKIq"}],"uoFa":[function(require,module,exports) {
exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(r,p){return exports.publicEncrypt(r,p,!0)},exports.publicDecrypt=function(r,p){return exports.privateDecrypt(r,p,!0)};
},{"./publicEncrypt":"4yNI","./privateDecrypt":"hrGu"}],"BWvl":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var r=arguments[3],e=require("process");function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var t=require("safe-buffer"),o=require("randombytes"),f=t.Buffer,u=t.kMaxLength,i=r.crypto||r.msCrypto,a=Math.pow(2,32)-1;function s(r,e){if("number"!=typeof r||r!=r)throw new TypeError("offset must be a number");if(r>a||r<0)throw new TypeError("offset must be a uint32");if(r>u||r>e)throw new RangeError("offset out of range")}function m(r,e,n){if("number"!=typeof r||r!=r)throw new TypeError("size must be a number");if(r>a||r<0)throw new TypeError("size must be a uint32");if(r+e>n||r>u)throw new RangeError("buffer too small")}function l(e,n,t,o){if(!(f.isBuffer(e)||e instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)o=n,n=0,t=e.length;else if("function"==typeof t)o=t,t=e.length-n;else if("function"!=typeof o)throw new TypeError('"cb" argument must be a function');return s(n,e.length),m(t,n,e.length),p(e,n,t,o)}function p(r,n,t,f){if(e.browser){var u=r.buffer,a=new Uint8Array(u,n,t);return i.getRandomValues(a),f?void e.nextTick(function(){f(null,r)}):r}if(!f)return o(t).copy(r,n),r;o(t,function(e,t){if(e)return f(e);t.copy(r,n),f(null,r)})}function w(e,n,t){if(void 0===n&&(n=0),!(f.isBuffer(e)||e instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return s(n,e.length),void 0===t&&(t=e.length-n),m(t,n,e.length),p(e,n,t)}i&&i.getRandomValues||!e.browser?(exports.randomFill=l,exports.randomFillSync=w):(exports.randomFill=n,exports.randomFillSync=n);
},{"safe-buffer":"7/vb","randombytes":"GkF8","process":"HLGr"}],"3Cgj":[function(require,module,exports) {
"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var e=require("browserify-sign/algos"),r=Object.keys(e),t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);exports.getHashes=function(){return t};var i=require("pbkdf2");exports.pbkdf2=i.pbkdf2,exports.pbkdf2Sync=i.pbkdf2Sync;var p=require("browserify-cipher");exports.Cipher=p.Cipher,exports.createCipher=p.createCipher,exports.Cipheriv=p.Cipheriv,exports.createCipheriv=p.createCipheriv,exports.Decipher=p.Decipher,exports.createDecipher=p.createDecipher,exports.Decipheriv=p.Decipheriv,exports.createDecipheriv=p.createDecipheriv,exports.getCiphers=p.getCiphers,exports.listCiphers=p.listCiphers;var s=require("diffie-hellman");exports.DiffieHellmanGroup=s.DiffieHellmanGroup,exports.createDiffieHellmanGroup=s.createDiffieHellmanGroup,exports.getDiffieHellman=s.getDiffieHellman,exports.createDiffieHellman=s.createDiffieHellman,exports.DiffieHellman=s.DiffieHellman;var a=require("browserify-sign");exports.createSign=a.createSign,exports.Sign=a.Sign,exports.createVerify=a.createVerify,exports.Verify=a.Verify,exports.createECDH=require("create-ecdh");var o=require("public-encrypt");exports.publicEncrypt=o.publicEncrypt,exports.privateEncrypt=o.privateEncrypt,exports.publicDecrypt=o.publicDecrypt,exports.privateDecrypt=o.privateDecrypt;var c=require("randomfill");exports.randomFill=c.randomFill,exports.randomFillSync=c.randomFillSync,exports.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},exports.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6};
},{"randombytes":"GkF8","create-hash":"Uj4C","create-hmac":"ki/q","browserify-sign/algos":"e+N1","pbkdf2":"1oZ5","browserify-cipher":"+IlK","diffie-hellman":"u5qG","browserify-sign":"JPzM","create-ecdh":"tnQ+","public-encrypt":"uoFa","randomfill":"BWvl"}],"NFYL":[function(require,module,exports) {
var process = require("process");
var __dirname = "/Users/silverdust/Projects/Research/IML/wolf-ar/node_modules/ar.js/three.js/build";
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var define;
var process=require("process"),__dirname="/Users/silverdust/Projects/Research/IML/wolf-ar/node_modules/ar.js/three.js/build",Buffer=require("buffer").Buffer,global=arguments[3],define,Module;!function(){"use strict";var e=function(e,r,t){var a=e,n=r;if(this.orientation="landscape",this.listeners={},"number"!=typeof e){var o=e;t=r,a=o.videoWidth||o.width,n=o.videoHeight||o.height,this.image=o}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=n,this.ctx=this.canvas.getContext("2d"),this.videoWidth=a,this.videoHeight=n,"string"==typeof t){var s=this;this.cameraParam=new i(t,function(){s._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=t,this._initialize()};e.prototype.dispose=function(){for(var e in r.teardown(this.id),this)this[e]=null},e.prototype.process=function(e){this.detectMarker(e);var i,t,a=this.getMarkerNum();for(i in this.patternMarkers)(t=this.patternMarkers[i]).inPrevious=t.inCurrent,t.inCurrent=!1;for(i in this.barcodeMarkers)(t=this.barcodeMarkers[i]).inPrevious=t.inCurrent,t.inCurrent=!1;for(var n=0;n<a;n++){var o=this.getMarker(n),s=r.UNKNOWN_MARKER,f=this.trackPatternMarkerId(-1);o.idPatt>-1&&(o.id===o.idPatt||-1===o.idMatrix)?(f=this.trackPatternMarkerId(o.idPatt),s=r.PATTERN_MARKER,o.dir!==o.dirPatt&&this.setMarkerInfoDir(n,o.dirPatt)):o.idMatrix>-1&&(f=this.trackBarcodeMarkerId(o.idMatrix),s=r.BARCODE_MARKER,o.dir!==o.dirMatrix&&this.setMarkerInfoDir(n,o.dirMatrix)),s!==r.UNKNOWN_MARKER&&f.inPrevious?this.getTransMatSquareCont(n,f.markerWidth,f.matrix,f.matrix):this.getTransMatSquare(n,f.markerWidth,f.matrix),f.inCurrent=!0,this.transMatToGLMat(f.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:n,type:s,marker:o,matrix:this.transform_mat}})}var l=this.getMultiMarkerCount();for(n=0;n<l;n++){var u=this.getMultiMarkerPatternCount(n);f=!1;r.getTransMatMultiSquareRobust(this.id,n),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var c=0;c<u;c++){if((d=this.getMultiEachMarker(n,c)).visible>=0){f=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:n,matrix:this.transform_mat}});break}}if(f)for(c=0;c<u;c++){var d=this.getMultiEachMarker(n,c);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:n,markerIndex:c,marker:d,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},e.prototype.trackPatternMarkerId=function(e,i){var r=this.patternMarkers[e];return r||(this.patternMarkers[e]=r={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:i||this.defaultMarkerWidth}),i&&(r.markerWidth=i),r},e.prototype.trackBarcodeMarkerId=function(e,i){var r=this.barcodeMarkers[e];return r||(this.barcodeMarkers[e]=r={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:i||this.defaultMarkerWidth}),i&&(r.markerWidth=i),r},e.prototype.getMultiMarkerCount=function(){return r.getMultiMarkerCount(this.id)},e.prototype.getMultiMarkerPatternCount=function(e){return r.getMultiMarkerNum(this.id,e)},e.prototype.addEventListener=function(e,i){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(i)},e.prototype.removeEventListener=function(e,i){if(this.listeners[e]){var r=this.listeners[e].indexOf(i);r>-1&&this.listeners[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){var i=this.listeners[e.name];if(i)for(var r=0;r<i.length;r++)i[r].call(this,e)},e.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},e.prototype.loadMarker=function(e,i,t){return r.addMarker(this.id,e,i,t)},e.prototype.loadMultiMarker=function(e,i,t){return r.addMultiMarker(this.id,e,i,t)},e.prototype.getTransMatSquare=function(e,i,t){return r.getTransMatSquare(this.id,e,i),t.set(this.marker_transform_mat),t},e.prototype.getTransMatSquareCont=function(e,i,t,a){return this.marker_transform_mat.set(t),r.getTransMatSquareCont(this.id,e,i),a.set(this.marker_transform_mat),a},e.prototype.getTransMatMultiSquare=function(e,i){return r.getTransMatMultiSquare(this.id,e),i.set(this.marker_transform_mat),i},e.prototype.getTransMatMultiSquareRobust=function(e,i){return r.getTransMatMultiSquare(this.id,e),i.set(this.marker_transform_mat),i},e.prototype.transMatToGLMat=function(e,i,r){return i[0]=e[0],i[4]=e[1],i[8]=e[2],i[12]=e[3],i[1]=e[4],i[5]=e[5],i[9]=e[6],i[13]=e[7],i[2]=e[8],i[6]=e[9],i[10]=e[10],i[14]=e[11],i[3]=0,i[7]=0,i[11]=0,i[15]=1,null!=r&&0!==r&&(i[12]*=r,i[13]*=r,i[14]*=r),i},e.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?r.detectMarker(this.id):-99},e.prototype.getMarkerNum=function(){return r.getMarkerNum(this.id)},e.prototype.getMarker=function(e){if(0===r.getMarker(this.id,e))return r.markerInfo},e.prototype.setMarkerInfoVertex=function(e,i){for(var t=0;t<i.length;t++)this.marker_transform_mat[2*t+0]=i[t][0],this.marker_transform_mat[2*t+1]=i[t][1];return r.setMarkerInfoVertex(this.id,e)},e.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.getMultiEachMarker=function(e,i){if(0===r.getMultiEachMarker(this.id,e,i))return r.multiEachMarkerInfo},e.prototype.getTransformationMatrix=function(){return this.transform_mat},e.prototype.getCameraMatrix=function(){return this.camera_mat},e.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},e.prototype.setDebugMode=function(e){return r.setDebugMode(this.id,e)},e.prototype.getDebugMode=function(){return r.getDebugMode(this.id)},e.prototype.getProcessingImage=function(){return r.getProcessingImage(this.id)},e.prototype.setLogLevel=function(e){return r.setLogLevel(e)},e.prototype.getLogLevel=function(){return r.getLogLevel()},e.prototype.setMarkerInfoDir=function(e,i){return r.setMarkerInfoDir(this.id,e,i)},e.prototype.setProjectionNearPlane=function(e){return r.setProjectionNearPlane(this.id,e)},e.prototype.getProjectionNearPlane=function(){return r.getProjectionNearPlane(this.id)},e.prototype.setProjectionFarPlane=function(e){return r.setProjectionFarPlane(this.id,e)},e.prototype.getProjectionFarPlane=function(){return r.getProjectionFarPlane(this.id)},e.prototype.setThresholdMode=function(e){return r.setThresholdMode(this.id,e)},e.prototype.getThresholdMode=function(){return r.getThresholdMode(this.id)},e.prototype.setThreshold=function(e){return r.setThreshold(this.id,e)},e.prototype.getThreshold=function(){return r.getThreshold(this.id)},e.prototype.setPatternDetectionMode=function(e){return r.setPatternDetectionMode(this.id,e)},e.prototype.getPatternDetectionMode=function(){return r.getPatternDetectionMode(this.id)},e.prototype.setMatrixCodeType=function(e){return r.setMatrixCodeType(this.id,e)},e.prototype.getMatrixCodeType=function(){return r.getMatrixCodeType(this.id)},e.prototype.setLabelingMode=function(e){return r.setLabelingMode(this.id,e)},e.prototype.getLabelingMode=function(){return r.getLabelingMode(this.id)},e.prototype.setPattRatio=function(e){return r.setPattRatio(this.id,e)},e.prototype.getPattRatio=function(){return r.getPattRatio(this.id)},e.prototype.setImageProcMode=function(e){return r.setImageProcMode(this.id,e)},e.prototype.getImageProcMode=function(){return r.getImageProcMode(this.id)},e.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),i=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(i,0,0);for(var r=this.getMarkerNum(),t=0;t<r;t++)this._debugMarker(this.getMarker(t))},e.prototype._initialize=function(){this.id=r.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=r.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var i=this;setTimeout(function(){i.onload&&i.onload(),i.dispatchEvent({name:"load",target:i})},1)},e.prototype._copyImageToHeap=function(e){e||(e=this.image),this.ctx.save(),"portrait"===this.orientation?(this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width)):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height),this.ctx.restore();var i=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height).data;return!!this.dataHeap&&(this.dataHeap.set(i),!0)},e.prototype._debugMarker=function(e){var i,r;i=e.vertex;var t=this.ctx;t.strokeStyle="red",t.beginPath(),t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.stroke(),t.beginPath(),t.moveTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.stroke(),t.strokeStyle="green",t.beginPath(),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.stroke(),t.beginPath(),t.moveTo(i[3][0],i[3][1]),t.lineTo(i[0][0],i[0][1]),t.stroke(),r=e.pos,t.beginPath(),t.arc(r[0],r[1],8,0,2*Math.PI),t.fillStyle="red",t.fill()},e.getUserMedia=function(e){var i=e.facingMode||"environment",r=e.onSuccess,t=e.onError||function(e){console.error("ARController.getUserMedia",e)},a=document.createElement("video"),n=function(){0!==this.videoWidth&&r(a)},o=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],f=function(e){o&&(a.play(),a.paused||s.forEach(function(e){window.removeEventListener(e,f,!0)}))};s.forEach(function(e){window.addEventListener(e,f,!0)});var l=function(e){a.addEventListener("loadedmetadata",n,!1),a.src=window.URL.createObjectURL(e),o=!0,f()},u={},c={};e.width&&(c.width=e.width,"object"==typeof e.width?(e.width.max&&(u.maxWidth=e.width.max),e.width.min&&(u.minWidth=e.width.max)):u.maxWidth=e.width),e.height&&(c.height=e.height,"object"==typeof e.height?(e.height.max&&(u.maxHeight=e.height.max),e.height.min&&(u.minHeight=e.height.max)):u.maxHeight=e.height),c.facingMode=i,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var d={audio:!1,video:{mandatory:u}};return navigator.getUserMedia?navigator.getUserMedia(d,l,t):t("navigator.getUserMedia is not supported on your browser"),a},e.getUserMediaARController=function(r){var t={};for(var a in r)t[a]=r[a];var n=r.onSuccess,o=r.cameraParam;t.onSuccess=function(){new i(o,function(){var i=(r.maxARVideoSize||Math.max(s.videoWidth,s.videoHeight))/Math.max(s.videoWidth,s.videoHeight),t=i*s.videoWidth,a=i*s.videoHeight;if(s.videoWidth<s.videoHeight){var o=t;t=a,a=o}var f=new e(t,a,this);f.image=s,s.videoWidth<s.videoHeight?(f.orientation="portrait",f.videoWidth=s.videoHeight,f.videoHeight=s.videoWidth):(f.orientation="landscape",f.videoWidth=s.videoWidth,f.videoHeight=s.videoHeight),n(f,this)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var s=this.getUserMedia(t);return s};var i=function(e,i,r){this.id=-1,this._src="",this.complete=!1,this.onload=i,this.onerror=r,e&&this.load(e)};i.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var i=this;r.loadCamera(e,function(e){i.id=e,i.complete=!0,i.onload()},function(e){i.onerror(e)})}},Object.defineProperty(i.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),i.prototype.dispose=function(){-1!==this.id&&r.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var r={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:function(e,i){var r="/camera_param_"+s++,t=function(){var e=Module._loadCamera(r);i&&i(e)};"object"==typeof e?f(r,e,t):e.indexOf("\n")>-1?function(e,i,r){for(var t=new Uint8Array(i.length),a=0;a<t.length;a++)t[a]=255&i.charCodeAt(a);f(e,t,r)}(r,e,t):l(e,r,t)},addMarker:function(e,i,r){var t="/marker_"+n++;l(i,t,function(){var i=Module._addMarker(e,t);r&&r(i)})},addMultiMarker:function(e,i,r){var t="/multi_marker_"+o++;l(i,t,function(a){var n=function(e){var i=(a=e,String.fromCharCode.apply(String,a)).split("\n"),r=[],t=0;var a;return i.forEach(function(e){if((e=e.trim())&&!e.startsWith("#"))switch(t){case 0:return+e,void(t=1);case 1:e.match(/^\d+$/)||r.push(e);case 2:case 3:case 4:return void t++;case 5:return void(t=1)}}),r}(a);function o(){var i=Module._addMultiMarker(e,t),a=Module.getMultiMarkerNum(e,i);r&&r(i,a)}if(!n.length)return o();var s=i.split("/").slice(0,-1).join("/");(function e(i,r){var t=i.pop();t?l(t[0],t[1],function(){e(i,r)}):r()})(n=n.map(function(e){return[s+"/"+e,e]}),o)})}},t=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"];function a(){for(var e in t.forEach(function(e){r[e]=Module[e]}),Module)e.match(/^AR/)&&(r[e]=Module[e])}var n=0;var o=0;var s=0;function f(e,i,r){FS.writeFile(e,i,{encoding:"binary"}),r(i)}function l(e,i,r){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(e){var a=t.response,n=new Uint8Array(a);f(i,n,r)},t.send()}window.artoolkit=r,window.ARController=e,window.ARCameraParam=i,window.Module?a():window.Module={onRuntimeInitialized:function(){a()}}}(),Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=require("fs"),nodePath=require("path");Module.read=function(e,i){e=nodePath.normalize(e);var r=nodeFS.readFileSync(e);return r||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),r=nodeFS.readFileSync(e)),r&&!i&&(r=r.toString()),r},Module.readBinary=function(e){var i=Module.read(e,!0);return i.buffer||(i=new Uint8Array(i)),assert(i.buffer),i},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var i=read(e,"binary");return assert("object"==typeof i),i},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var i=new XMLHttpRequest;return i.open("GET",e,!1),i.send(null),i.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var i=parseInt(e.substr(1));return assert(i%8==0),i/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,i){return"double"===i||"i64"===i?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,i,r){return r||"i64"!=e&&"double"!=e?e?Math.min(i||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(i,8):8},dynCall:function(e,i,r){return r&&r.length?(r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,i),Module["dynCall_"+e].apply(null,r)):Module["dynCall_"+e].call(null,i)},functionPointers:[],addFunction:function(e){for(var i=0;i<Runtime.functionPointers.length;i++)if(!Runtime.functionPointers[i])return Runtime.functionPointers[i]=e,2*(1+i);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,i){assert(i),Runtime.funcWrappers[i]||(Runtime.funcWrappers[i]={});var r=Runtime.funcWrappers[i];return r[e]||(r[e]=function(){return Runtime.dynCall(i,e,arguments)}),r[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var i=STACKTOP;return STACKTOP=(STACKTOP=STACKTOP+e|0)+15&-16,i},staticAlloc:function(e){var i=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+e|0)+15&-16,i},dynamicAlloc:function(e){var i=DYNAMICTOP;if((DYNAMICTOP=(DYNAMICTOP=DYNAMICTOP+e|0)+15&-16)>=TOTAL_MEMORY&&!enlargeMemory())return DYNAMICTOP=i,0;return i},alignMemory:function(e,i){return e=Math.ceil(e/(i||16))*(i||16)},makeBigInt:function(e,i,r){return r?+(e>>>0)+4294967296*+(i>>>0):+(e>>>0)+4294967296*+(0|i)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,i){e||abort("Assertion failed: "+i)}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,i,r,t){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=i;break;case"i16":HEAP16[e>>1]=i;break;case"i32":HEAP32[e>>2]=i;break;case"i64":tempI64=[i>>>0,(tempDouble=i,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=i;break;case"double":HEAPF64[e>>3]=i;break;default:abort("invalid type for setValue: "+r)}}function getValue(e,i,r){switch("*"===(i=i||"i8").charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+i)}return null}!function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var i=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,i),i},stringToC:function(e){var i=0;return null!=e&&0!==e&&writeStringToMemory(e,i=Runtime.stackAlloc(1+(e.length<<2))),i}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,i,r,t,a){var n=getCFunc(e),o=[],s=0;if(t)for(var f=0;f<t.length;f++){var l=toC[r[f]];l?(0===s&&(s=Runtime.stackSave()),o[f]=l(t[f])):o[f]=t[f]}var u=n.apply(null,o);if("string"===i&&(u=Pointer_stringify(u)),0!==s){if(a&&a.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return u};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var i=e.toString().match(sourceRegex).slice(1);return{arguments:i[0],body:i[1],returnValue:i[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,i){return"$"+i}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,i,r,t){var a,n;"number"==typeof e?(a=!0,n=e):(a=!1,n=e.length);var o,s="string"==typeof i?i:null;if(o=r==ALLOC_NONE?t:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(n,s?1:i.length)),a){var f;t=o;for(assert(0==(3&o)),f=o+(-4&n);t<f;t+=4)HEAP32[t>>2]=0;for(f=o+n;t<f;)HEAP8[t++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var l,u,c,d=0;d<n;){var h=e[d];"function"==typeof h&&(h=Runtime.getFunctionIndex(h)),0!==(l=s||i[d])?("i64"==l&&(l="i32"),setValue(o+d,h,l),c!==l&&(u=Runtime.getNativeTypeSize(l),c=l),d+=u):d++}return o}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,i){if(0===i||!e)return"";for(var r,t=0,a=0;t|=r=HEAPU8[e+a>>0],(0!=r||i)&&(a++,!i||a!=i););i||(i=a);var n="";if(t<128){for(var o;i>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(i,1024))),n=n?n+o:o,e+=1024,i-=1024;return n}return Module.UTF8ToString(e)}function AsciiToString(e){for(var i="";;){var r=HEAP8[e++>>0];if(!r)return i;i+=String.fromCharCode(r)}}function stringToAscii(e,i){return writeAsciiToMemory(e,i,!1)}function UTF8ArrayToString(e,i){for(var r,t,a,n,o,s="";;){if(!(r=e[i++]))return s;if(128&r)if(t=63&e[i++],192!=(224&r))if(a=63&e[i++],224==(240&r)?r=(15&r)<<12|t<<6|a:(n=63&e[i++],240==(248&r)?r=(7&r)<<18|t<<12|a<<6|n:(o=63&e[i++],r=248==(252&r)?(3&r)<<24|t<<18|a<<12|n<<6|o:(1&r)<<30|t<<24|a<<18|n<<12|o<<6|63&e[i++])),r<65536)s+=String.fromCharCode(r);else{var f=r-65536;s+=String.fromCharCode(55296|f>>10,56320|1023&f)}else s+=String.fromCharCode((31&r)<<6|t);else s+=String.fromCharCode(r)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,i,r,t){if(!(t>0))return 0;for(var a=r,n=r+t-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(r>=n)break;i[r++]=s}else if(s<=2047){if(r+1>=n)break;i[r++]=192|s>>6,i[r++]=128|63&s}else if(s<=65535){if(r+2>=n)break;i[r++]=224|s>>12,i[r++]=128|s>>6&63,i[r++]=128|63&s}else if(s<=2097151){if(r+3>=n)break;i[r++]=240|s>>18,i[r++]=128|s>>12&63,i[r++]=128|s>>6&63,i[r++]=128|63&s}else if(s<=67108863){if(r+4>=n)break;i[r++]=248|s>>24,i[r++]=128|s>>18&63,i[r++]=128|s>>12&63,i[r++]=128|s>>6&63,i[r++]=128|63&s}else{if(r+5>=n)break;i[r++]=252|s>>30,i[r++]=128|s>>24&63,i[r++]=128|s>>18&63,i[r++]=128|s>>12&63,i[r++]=128|s>>6&63,i[r++]=128|63&s}}return i[r]=0,r-a}function stringToUTF8(e,i,r){return stringToUTF8Array(e,HEAPU8,i,r)}function lengthBytesUTF8(e){for(var i=0,r=0;r<e.length;++r){var t=e.charCodeAt(r);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++r)),t<=127?++i:i+=t<=2047?2:t<=65535?3:t<=2097151?4:t<=67108863?5:6}return i}function UTF16ToString(e){for(var i=0,r="";;){var t=HEAP16[e+2*i>>1];if(0==t)return r;++i,r+=String.fromCharCode(t)}}function stringToUTF16(e,i,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var t=i,a=(r-=2)<2*e.length?r/2:e.length,n=0;n<a;++n){var o=e.charCodeAt(n);HEAP16[i>>1]=o,i+=2}return HEAP16[i>>1]=0,i-t}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var i=0,r="";;){var t=HEAP32[e+4*i>>2];if(0==t)return r;if(++i,t>=65536){var a=t-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(t)}}function stringToUTF32(e,i,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var t=i,a=t+r-4,n=0;n<e.length;++n){var o=e.charCodeAt(n);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++n);if(HEAP32[i>>2]=o,(i+=4)+4>a)break}return HEAP32[i>>2]=0,i-t}function lengthBytesUTF32(e){for(var i=0,r=0;r<e.length;++r){var t=e.charCodeAt(r);t>=55296&&t<=57343&&++r,i+=4}return i}function demangle(e){var i=!!Module.___cxa_demangle;if(i)try{var r=_malloc(e.length);writeStringToMemory(e.substr(1),r);var t=_malloc(4),a=Module.___cxa_demangle(r,0,0,t);if(0===getValue(t,"i32")&&a)return Pointer_stringify(a)}catch(e){}finally{r&&_free(r),t&&_free(t),a&&_free(a)}var n=3,o={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},s=[],f=!0;var l=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}l=function i(r,t,a){t=t||1/0;var l,u="",c=[];if("N"===e[n]){if(l=function(){"K"===e[++n]&&n++;for(var i=[];"E"!==e[n];)if("S"!==e[n])if("C"!==e[n]){var r=parseInt(e.substr(n)),t=r.toString().length;if(!r||!t){n--;break}var a=e.substr(n+t,r);i.push(a),s.push(a),n+=t+r}else i.push(i[i.length-1]),n+=2;else{n++;var o=e.indexOf("_",n),f=e.substring(n,o)||0;i.push(s[f]||"?"),n=o+1}return n++,i}().join("::"),0==--t)return r?[l]:l}else if(("K"===e[n]||f&&"L"===e[n])&&n++,k=parseInt(e.substr(n))){var d=k.toString().length;l=e.substr(n+d,k),n+=d+k}if(f=!1,"I"===e[n]){n++;var h=i(!0);u+=i(!0,1,!0)[0]+" "+l+"<"+h.join(", ")+">"}else u=l;e:for(;n<e.length&&t-- >0;){var b=e[n++];if(b in o)c.push(o[b]);else switch(b){case"P":c.push(i(!0,1,!0)[0]+"*");break;case"R":c.push(i(!0,1,!0)[0]+"&");break;case"L":n++;var k=e.indexOf("E",n)-n;c.push(e.substr(n,k)),n+=k+2;break;case"A":if(k=parseInt(e.substr(n)),n+=k.toString().length,"_"!==e[n])throw"?";n++,c.push(i(!0,1,!0)[0]+" ["+k+"]");break;case"E":break e;default:u+="?"+b;break e}}return a||1!==c.length||"void"!==c[0]||(c=[]),r?(u&&c.push(u+"?"),c):u+"("+c.join(", ")+")"}()}catch(e){l+="?"}return l.indexOf("?")>=0&&!i&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),l}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var i=demangle(e);return e===i?e:e+" ["+i+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(i){e=i}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456,totalMemory=65536,buffer;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var i=e.shift();if("function"!=typeof i){var r=i.func;"number"==typeof r?void 0===i.arg?Runtime.dynCall("v",r):Runtime.dynCall("vi",r,[i.arg]):r(void 0===i.arg?null:i.arg)}else i()}}totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,i,r){var t=r>0?r:lengthBytesUTF8(e)+1,a=new Array(t),n=stringToUTF8Array(e,a,0,a.length);return i&&(a.length=n),a}function intArrayToString(e){for(var i=[],r=0;r<e.length;r++){var t=e[r];t>255&&(t&=255),i.push(String.fromCharCode(t))}return i.join("")}function writeStringToMemory(e,i,r){for(var t=intArrayFromString(e,r),a=0;a<t.length;){var n=t[a];HEAP8[i+a>>0]=n,a+=1}}function writeArrayToMemory(e,i){for(var r=0;r<e.length;r++)HEAP8[i++>>0]=e[r]}function writeAsciiToMemory(e,i,r){for(var t=0;t<e.length;++t)HEAP8[i++>>0]=e.charCodeAt(t);r||(HEAP8[i>>0]=0)}function unSign(e,i,r){return e>=0?e:i<=32?2*Math.abs(1<<i-1)+e:Math.pow(2,i)+e}function reSign(e,i,r){if(e<=0)return e;var t=i<=32?Math.abs(1<<i-1):Math.pow(2,i-1);return e>=t&&(i<=32||e>t)&&(e=-2*t+e),e}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,i){var r=65535&e,t=65535&i;return r*t+((e>>>16)*t+r*(i>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var i=0;i<32;i++)if(e&1<<31-i)return i;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var i=dependenciesFulfilled;dependenciesFulfilled=null,i()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[function(e,i,r,t){artoolkit.multiEachMarkerInfo||(artoolkit.multiEachMarkerInfo={});var a=artoolkit.multiEachMarkerInfo;a.visible=e,a.pattId=i,a.pattType=r,a.width=t},function(e,i,r,t,a,n,o,s,f,l,u,c,d,h,b,k,w,m,p,E,v,_,g,S,y,M,R,T,A,C,x,F,P){var O=arguments,D=12;artoolkit.markerInfo||(artoolkit.markerInfo={pos:[0,0],line:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vertex:[[0,0],[0,0],[0,0],[0,0]]});var N=artoolkit.markerInfo;N.area=e,N.id=i,N.idPatt=r,N.idMatrix=t,N.dir=a,N.dirPatt=n,N.dirMatrix=o,N.cf=s,N.cfPatt=f,N.cfMatrix=l,N.pos[0]=u,N.pos[1]=c,N.line[0][0]=O[D++],N.line[0][1]=O[D++],N.line[0][2]=O[D++],N.line[1][0]=O[D++],N.line[1][1]=O[D++],N.line[1][2]=O[D++],N.line[2][0]=O[D++],N.line[2][1]=O[D++],N.line[2][2]=O[D++],N.line[3][0]=O[D++],N.line[3][1]=O[D++],N.line[3][2]=O[D++],N.vertex[0][0]=O[D++],N.vertex[0][1]=O[D++],N.vertex[1][0]=O[D++],N.vertex[1][1]=O[D++],N.vertex[2][0]=O[D++],N.vertex[2][1]=O[D++],N.vertex[3][0]=O[D++],N.vertex[3][1]=O[D++],N.errorCorrected=O[D++]},function(e,i,r,t,a){artoolkit.frameMalloc||(artoolkit.frameMalloc={});var n=artoolkit.frameMalloc;n.framepointer=i,n.framesize=r,n.camera=t,n.transform=a}];function _emscripten_asm_const_33(e,i,r,t,a,n,o,s,f,l,u,c,d,h,b,k,w,m,p,E,v,_,g,S,y,M,R,T,A,C,x,F,P,O){return ASM_CONSTS[e](i,r,t,a,n,o,s,f,l,u,c,d,h,b,k,w,m,p,E,v,_,g,S,y,M,R,T,A,C,x,F,P,O)}function _emscripten_asm_const_4(e,i,r,t,a){return ASM_CONSTS[e](i,r,t,a)}function _emscripten_asm_const_5(e,i,r,t,a,n){return ASM_CONSTS[e](i,r,t,a,n)}STATIC_BASE=8,STATICTOP=STATIC_BASE+16496,__ATINIT__.push({func:function(){__GLOBAL__sub_I_ARToolKitJS_cpp()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,52,9,0,0,53,42,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,116,42,0,0,52,9,0,0,136,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,52,9,0,0,73,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,54,47,0,0,228,8,0,0,23,47,0,0,228,8,0,0,62,46,0,0,228,8,0,0,31,46,0,0,228,8,0,0,0,46,0,0,228,8,0,0,225,45,0,0,228,8,0,0,194,45,0,0,228,8,0,0,93,46,0,0,228,8,0,0,124,46,0,0,228,8,0,0,155,46,0,0,228,8,0,0,186,46,0,0,228,8,0,0,217,46,0,0,228,8,0,0,248,46,0,0,12,9,0,0,199,47,0,0,48,2,0,0,0,0,0,0,228,8,0,0,212,47,0,0,228,8,0,0,225,47,0,0,12,9,0,0,238,47,0,0,56,2,0,0,0,0,0,0,12,9,0,0,15,48,0,0,64,2,0,0,0,0,0,0,12,9,0,0,49,48,0,0,64,2,0,0,0,0,0,0,200,8,0,0,89,48,0,0,200,8,0,0,91,48,0,0,200,8,0,0,93,48,0,0,200,8,0,0,95,48,0,0,200,8,0,0,97,48,0,0,200,8,0,0,99,48,0,0,200,8,0,0,101,48,0,0,200,8,0,0,103,48,0,0,200,8,0,0,105,48,0,0,200,8,0,0,107,48,0,0,200,8,0,0,109,48,0,0,200,8,0,0,111,48,0,0,200,8,0,0,113,48,0,0,12,9,0,0,115,48,0,0,80,2,0,0,0,0,0,0,12,9,0,0,152,48,0,0,80,2,0,0,0,0,0,0,255,15,0,0,6,16,0,0,18,16,0,0,28,16,0,0,255,255,255,255,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,11,0,0,0,5,0,0,0,10,0,0,0,7,0,0,0,14,0,0,0,15,0,0,0,13,0,0,0,9,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,24,0,0,0,48,0,0,0,96,0,0,0,67,0,0,0,5,0,0,0,10,0,0,0,20,0,0,0,40,0,0,0,80,0,0,0,35,0,0,0,70,0,0,0,15,0,0,0,30,0,0,0,60,0,0,0,120,0,0,0,115,0,0,0,101,0,0,0,73,0,0,0,17,0,0,0,34,0,0,0,68,0,0,0,11,0,0,0,22,0,0,0,44,0,0,0,88,0,0,0,51,0,0,0,102,0,0,0,79,0,0,0,29,0,0,0,58,0,0,0,116,0,0,0,107,0,0,0,85,0,0,0,41,0,0,0,82,0,0,0,39,0,0,0,78,0,0,0,31,0,0,0,62,0,0,0,124,0,0,0,123,0,0,0,117,0,0,0,105,0,0,0,81,0,0,0,33,0,0,0,66,0,0,0,7,0,0,0,14,0,0,0,28,0,0,0,56,0,0,0,112,0,0,0,99,0,0,0,69,0,0,0,9,0,0,0,18,0,0,0,36,0,0,0,72,0,0,0,19,0,0,0,38,0,0,0,76,0,0,0,27,0,0,0,54,0,0,0,108,0,0,0,91,0,0,0,53,0,0,0,106,0,0,0,87,0,0,0,45,0,0,0,90,0,0,0,55,0,0,0,110,0,0,0,95,0,0,0,61,0,0,0,122,0,0,0,119,0,0,0,109,0,0,0,89,0,0,0,49,0,0,0,98,0,0,0,71,0,0,0,13,0,0,0,26,0,0,0,52,0,0,0,104,0,0,0,83,0,0,0,37,0,0,0,74,0,0,0,23,0,0,0,46,0,0,0,92,0,0,0,59,0,0,0,118,0,0,0,111,0,0,0,93,0,0,0,57,0,0,0,114,0,0,0,103,0,0,0,77,0,0,0,25,0,0,0,50,0,0,0,100,0,0,0,75,0,0,0,21,0,0,0,42,0,0,0,84,0,0,0,43,0,0,0,86,0,0,0,47,0,0,0,94,0,0,0,63,0,0,0,126,0,0,0,127,0,0,0,125,0,0,0,121,0,0,0,113,0,0,0,97,0,0,0,65,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,4,0,0,0,2,0,0,0,8,0,0,0,5,0,0,0,10,0,0,0,3,0,0,0,14,0,0,0,9,0,0,0,7,0,0,0,6,0,0,0,13,0,0,0,11,0,0,0,12,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,14,0,0,0,8,0,0,0,56,0,0,0,3,0,0,0,63,0,0,0,15,0,0,0,31,0,0,0,9,0,0,0,90,0,0,0,57,0,0,0,21,0,0,0,4,0,0,0,28,0,0,0,64,0,0,0,67,0,0,0,16,0,0,0,112,0,0,0,32,0,0,0,97,0,0,0,10,0,0,0,108,0,0,0,91,0,0,0,70,0,0,0,58,0,0,0,38,0,0,0,22,0,0,0,47,0,0,0,5,0,0,0,54,0,0,0,29,0,0,0,19,0,0,0,65,0,0,0,95,0,0,0,68,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,113,0,0,0,115,0,0,0,33,0,0,0,77,0,0,0,98,0,0,0,117,0,0,0,11,0,0,0,87,0,0,0,109,0,0,0,35,0,0,0,92,0,0,0,74,0,0,0,71,0,0,0,79,0,0,0,59,0,0,0,104,0,0,0,39,0,0,0,100,0,0,0,23,0,0,0,82,0,0,0,48,0,0,0,119,0,0,0,6,0,0,0,126,0,0,0,55,0,0,0,13,0,0,0,30,0,0,0,62,0,0,0,20,0,0,0,89,0,0,0,66,0,0,0,27,0,0,0,96,0,0,0,111,0,0,0,69,0,0,0,107,0,0,0,46,0,0,0,37,0,0,0,18,0,0,0,53,0,0,0,44,0,0,0,94,0,0,0,114,0,0,0,42,0,0,0,116,0,0,0,76,0,0,0,34,0,0,0,86,0,0,0,78,0,0,0,73,0,0,0,99,0,0,0,103,0,0,0,118,0,0,0,81,0,0,0,12,0,0,0,125,0,0,0,88,0,0,0,61,0,0,0,110,0,0,0,26,0,0,0,36,0,0,0,106,0,0,0,93,0,0,0,52,0,0,0,75,0,0,0,41,0,0,0,72,0,0,0,85,0,0,0,80,0,0,0,102,0,0,0,60,0,0,0,124,0,0,0,105,0,0,0,25,0,0,0,40,0,0,0,51,0,0,0,101,0,0,0,84,0,0,0,24,0,0,0,123,0,0,0,83,0,0,0,50,0,0,0,49,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,136,0,0,0,5,0,0,0,144,0,0,0,6,0,0,0,152,0,0,0,9,0,0,0,176,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,253,255,255,255,254,255,255,255,0,0,0,0,112,2,0,0,168,2,0,0,200,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,0,0,0,0,32,2,0,0,1,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,96,2,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,0,0,0,0,80,2,0,0,3,0,0,0,7,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,216,2,0,0,3,0,0,0,8,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,232,2,0,0,3,0,0,0,9,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,240,10,0,0,96,11,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,5,0,0,0,81,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,5,0,0,0,73,58,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,5,0,0,0,7,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,211,0,0,0,1,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,121,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,143,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,169,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,187,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,209,0,0,0,69,114,114,111,114,58,32,108,97,98,101,108,105,110,103,32,119,111,114,107,32,111,118,101,114,102,108,111,119,46,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,40,37,100,41,32,114,101,113,117,101,115,116,101,100,46,10,0,85,110,107,110,111,119,110,32,111,114,32,117,110,115,117,112,112,111,114,116,101,100,32,108,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,114,101,113,117,101,115,116,101,100,46,32,83,101,116,32,116,111,32,109,97,110,117,97,108,46,10,0,76,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,46,10,0,77,65,78,85,65,76,0,65,85,84,79,95,77,69,68,73,65,78,0,65,85,84,79,95,79,84,83,85,0,65,85,84,79,95,65,68,65,80,84,73,86,69,65,85,84,79,95,66,82,65,67,75,69,84,73,78,71,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,109,97,114,107,101,114,32,99,111,117,110,116,115,32,45,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,43,46,10,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,109,101,100,105,97,110,0,79,116,115,117,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,37,115,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,63,63,63,32,49,10,0,63,63,63,32,50,10,0,63,63,63,32,51,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,112,97,115,115,101,100,32,116,111,32,97,114,73,109,97,103,101,80,114,111,99,72,105,115,116,40,41,46,10,0,0,0,0,1,0,1,1,1,0,2,4,255,255,5,3,1,0,2,255,6,7,255,3,1,2,2,3,2,3,2,3,3,0,255,4,6,7,5,255,1,4,5,4,4,5,5,4,5,7,6,6,6,7,7,7,6,255,2,4,6,7,5,3,255,0,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,0,0,255,255,3,255,5,6,255,255,9,10,255,12,255,255,15,255,17,18,255,20,255,255,23,24,255,255,27,255,29,30,255,255,1,2,255,4,255,255,7,8,255,255,11,255,13,14,255,16,255,255,19,255,21,22,255,255,25,26,255,28,255,255,31,69,114,114,111,114,58,32,117,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,46,10,0,69,114,114,111,114,58,32,78,85,76,76,32,112,97,116,116,72,97,110,100,108,101,46,10,0,69,114,114,111,114,58,32,99,97,110,39,116,32,108,111,97,100,32,112,97,116,116,101,114,110,32,102,114,111,109,32,78,85,76,76,32,98,117,102,102,101,114,46,10,0,69,114,114,111,114,58,32,111,117,116,32,111,102,32,109,101,109,111,114,121,46,10,0,32,9,10,13,0,80,97,116,116,101,114,110,32,68,97,116,97,32,114,101,97,100,32,101,114,114,111,114,33,33,10,0,69,114,114,111,114,32,111,112,101,110,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,114,101,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,46,10,0,114,98,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,115,32,102,105,108,101,32,34,37,115,34,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,102,105,108,101,32,108,101,110,103,116,104,46,0,69,114,114,111,114,58,32,115,117,112,112,108,105,101,100,32,102,105,108,101,32,100,111,101,115,32,110,111,116,32,97,112,112,101,97,114,32,116,111,32,98,101,32,97,110,32,65,82,84,111,111,108,75,105,116,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,114,101,97,100,32,102,114,111,109,32,102,105,108,101,46,0,69,114,114,111,114,58,32,105,99,112,71,101,116,74,95,85,95,88,99,0,69,114,114,111,114,58,32,109,97,108,108,111,99,10,0,69,114,114,111,114,32,49,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,50,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,51,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,52,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,53,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,54,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,55,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,114,0,69,114,114,111,114,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,46,10,0,37,115,37,115,10,0,0,37,100,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,110,117,109,98,101,114,32,111,102,32,109,97,114,107,101,114,32,99,111,110,102,105,103,115,32,116,111,32,114,101,97,100,46,10,0,79,117,116,32,111,102,32,109,101,109,111,114,121,33,33,10,0,37,108,108,117,37,99,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,112,97,116,116,101,114,110,32,39,37,115,39,32,115,112,101,99,105,102,105,101,100,32,105,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,117,114,97,116,105,111,110,32,119,104,105,108,101,32,105,110,32,98,97,114,99,111,100,101,45,111,110,108,121,32,109,111,100,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,100,105,114,101,99,116,111,114,121,32,110,97,109,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,108,111,97,100,32,112,97,116,116,101,114,110,32,39,37,115,39,46,10,0,37,108,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,112,97,116,116,101,114,110,32,119,105,100,116,104,46,10,0,37,108,102,32,37,108,102,32,37,108,102,32,37,108,102,0,37,102,32,37,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,76,105,110,101,115,32,50,32,45,32,52,32,109,117,115,116,32,98,101,32,109,97,114,107,101,114,32,116,114,97,110,115,102,111,114,109,46,10,0,97,114,103,108,67,97,109,101,114,97,70,114,117,115,116,117,109,40,41,58,32,97,114,80,97,114,97,109,68,101,99,111,109,112,77,97,116,40,41,32,105,110,100,105,99,97,116,101,100,32,112,97,114,97,109,101,116,101,114,32,101,114,114,111,114,46,10,0,108,111,97,100,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,32,37,115,32,102,111,114,32,99,97,109,101,114,97,46,10,0,42,42,42,32,67,97,109,101,114,97,32,80,97,114,97,109,101,116,101,114,32,114,101,115,105,122,101,100,32,102,114,111,109,32,37,100,44,32,37,100,46,32,42,42,42,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,114,97,109,76,84,67,114,101,97,116,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,99,114,101,97,116,105,110,103,32,51,68,32,104,97,110,100,108,101,0,108,111,97,100,77,97,114,107,101,114,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,37,115,46,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,97,114,107,101,114,46,10,0,99,111,110,102,105,103,32,100,97,116,97,32,108,111,97,100,32,101,114,114,111,114,32,33,33,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,117,108,116,105,109,97,114,107,101,114,46,10,0,80,97,116,116,101,114,110,32,100,101,116,101,99,116,105,111,110,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,80,97,116,116,101,114,110,32,114,97,116,105,111,32,115,105,122,101,32,115,101,116,32,116,111,32,37,102,46,10,0,76,97,98,101,108,105,110,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,111,110,46,0,111,102,102,46,0,68,101,98,117,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,10,0,73,109,97,103,101,32,112,114,111,99,46,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,118,105,115,105,98,108,101,39,93,32,61,32,36,48,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,73,100,39,93,32,61,32,36,49,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,84,121,112,101,39,93,32,61,32,36,50,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,119,105,100,116,104,39,93,32,61,32,36,51,59,32,125,0,123,32,118,97,114,32,36,97,32,61,32,97,114,103,117,109,101,110,116,115,59,32,118,97,114,32,105,32,61,32,49,50,59,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,32,112,111,115,58,32,91,48,44,48,93,44,32,108,105,110,101,58,32,91,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,93,44,32,118,101,114,116,101,120,58,32,91,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,93,32,125,41,59,32,125,32,118,97,114,32,109,97,114,107,101,114,73,110,102,111,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,97,114,101,97,34,93,32,61,32,36,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,34,93,32,61,32,36,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,80,97,116,116,34,93,32,61,32,36,50,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,77,97,116,114,105,120,34,93,32,61,32,36,51,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,34,93,32,61,32,36,52,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,80,97,116,116,34,93,32,61,32,36,53,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,77,97,116,114,105,120,34,93,32,61,32,36,54,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,34,93,32,61,32,36,55,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,80,97,116,116,34,93,32,61,32,36,56,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,77,97,116,114,105,120,34,93,32,61,32,36,57,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,48,93,32,61,32,36,49,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,49,93,32,61,32,36,49,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,101,114,114,111,114,67,111,114,114,101,99,116,101,100,34,93,32,61,32,36,97,91,105,43,43,93,59,32,125,0,115,101,116,117,112,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,116,116,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,65,108,108,111,99,97,116,101,100,32,118,105,100,101,111,70,114,97,109,101,83,105,122,101,32,37,100,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,102,114,97,109,101,77,97,108,108,111,99,32,61,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,112,111,105,110,116,101,114,34,93,32,61,32,36,49,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,115,105,122,101,34,93,32,61,32,36,50,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,99,97,109,101,114,97,34,93,32,61,32,36,51,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,116,114,97,110,115,102,111,114,109,34,93,32,61,32,36,52,59,32,125,0,115,101,116,117,112,0,116,101,97,114,100,111,119,110,0,95,97,100,100,77,97,114,107,101,114,0,95,97,100,100,77,117,108,116,105,77,97,114,107,101,114,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,67,111,117,110,116,0,95,108,111,97,100,67,97,109,101,114,97,0,115,101,116,77,97,114,107,101,114,73,110,102,111,68,105,114,0,115,101,116,77,97,114,107,101,114,73,110,102,111,86,101,114,116,101,120,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,67,111,110,116,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,82,111,98,117,115,116,0,100,101,116,101,99,116,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,69,97,99,104,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,0,115,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,80,114,111,99,101,115,115,105,110,103,73,109,97,103,101,0,115,101,116,76,111,103,76,101,118,101,108,0,103,101,116,76,111,103,76,101,118,101,108,0,115,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,115,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,115,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,103,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,115,101,116,84,104,114,101,115,104,111,108,100,0,103,101,116,84,104,114,101,115,104,111,108,100,0,115,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,103,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,115,101,116,80,97,116,116,82,97,116,105,111,0,103,101,116,80,97,116,116,82,97,116,105,111,0,115,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,103,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,115,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,103,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,115,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,103,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,69,82,82,79,82,95,65,82,67,79,78,84,82,79,76,76,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,85,76,84,73,77,65,82,75,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,65,82,75,69,82,95,73,78,68,69,88,95,79,85,84,95,79,70,95,66,79,85,78,68,83,0,65,82,95,68,69,66,85,71,95,68,73,83,65,66,76,69,0,65,82,95,68,69,66,85,71,95,69,78,65,66,76,69,0,65,82,95,68,69,70,65,85,76,84,95,68,69,66,85,71,95,77,79,68,69,0,65,82,95,76,65,66,69,76,73,78,71,95,87,72,73,84,69,95,82,69,71,73,79,78,0,65,82,95,76,65,66,69,76,73,78,71,95,66,76,65,67,75,95,82,69,71,73,79,78,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,77,79,68,69,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,82,65,77,69,95,73,77,65,71,69,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,73,69,76,68,95,73,77,65,71,69,0,65,82,95,68,69,70,65,85,76,84,95,73,77,65,71,69,95,80,82,79,67,95,77,79,68,69,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,68,69,84,69,67,84,73,79,78,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,68,69,70,65,85,76,84,95,80,65,84,84,69,82,78,95,68,69,84,69,67,84,73,79,78,95,77,79,68,69,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,78,79,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,95,86,50,0,65,82,95,68,69,70,65,85,76,84,95,77,65,82,75,69,82,95,69,88,84,82,65,67,84,73,79,78,95,77,79,68,69,0,65,82,95,77,65,88,95,76,79,79,80,95,67,79,85,78,84,0,65,82,95,76,79,79,80,95,66,82,69,65,75,95,84,72,82,69,83,72,0,65,82,95,76,79,71,95,76,69,86,69,76,95,68,69,66,85,71,0,65,82,95,76,79,71,95,76,69,86,69,76,95,73,78,70,79,0,65,82,95,76,79,71,95,76,69,86,69,76,95,87,65,82,78,0,65,82,95,76,79,71,95,76,69,86,69,76,95,69,82,82,79,82,0,65,82,95,76,79,71,95,76,69,86,69,76,95,82,69,76,95,73,78,70,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,72,65,77,77,73,78,71,54,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,80,65,82,73,84,89,54,53,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,57,95,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,53,95,53,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,77,65,78,85,65,76,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,77,69,68,73,65,78,0,65,82,95,76,65],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),allocate([66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,79,84,83,85,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,65,68,65,80,84,73,86,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,78,79,78,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,65,84,84,69,82,78,95,69,88,84,82,65,67,84,73,79,78,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,71,69,78,69,82,73,67,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,84,82,65,83,84,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,78,79,84,95,70,79,85,78,68,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,69,68,67,95,70,65,73,76,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,70,73,68,69,78,67,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,95,77,85,76,84,73,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,72,69,85,82,73,83,84,73,67,95,84,82,79,85,66,76,69,83,79,77,69,95,77,65,84,82,73,88,95,67,79,68,69,83,0,118,105,105,102,0,118,105,105,105,0,100,105,105,0,118,105,105,100,0,105,105,0,118,105,105,0,105,105,105,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,105,105,105,105,0,105,105,105,105,105,0,118,111,105,100,0,98,111,111,108,0,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,105,110,116,0,117,110,115,105,103,110,101,100,32,105,110,116,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,102,108,111,97,116,0,100,111,117,98,108,101,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,108,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,101,116,105,101,110,110,101,47,119,111,114,107,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,101,116,105,101,110,110,101,47,119,111,114,107,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,114,119,97],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+10240),allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+15945);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,i){__ATEXIT__.unshift({func:e,arg:i})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,i,r,t){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[i?Pointer_stringify(i):"unknown filename",r,t?Pointer_stringify(t):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),i=0;i<256;++i)e[i]=String.fromCharCode(i);embind_charCodes=e}assert(tempDoublePtr%8==0),Module._i64Subtract=_i64Subtract;var embind_charCodes=void 0;function readLatin1String(e){for(var i="",r=e;HEAPU8[r];)i+=embind_charCodes[HEAPU8[r++]];return i}var awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57;function makeLegalFunctionName(e){if(void 0===e)return"_unknown";var i=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return i>=char_0&&i<=char_9?"_"+e:e}function createNamedFunction(e,i){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(i)}function extendError(e,i){var r=createNamedFunction(i,function(e){this.name=i,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var BindingError=void 0;function throwBindingError(e){throw new BindingError(e)}var InternalError=void 0;function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,i,r){function t(i){var t=r(i);t.length!==e.length&&throwInternalError("Mismatched type converter count");for(var a=0;a<e.length;++a)registerType(e[a],t[a])}e.forEach(function(e){typeDependencies[e]=i});var a=new Array(i.length),n=[],o=0;i.forEach(function(e,i){registeredTypes.hasOwnProperty(e)?a[i]=registeredTypes[e]:(n.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){a[i]=registeredTypes[e],++o===n.length&&t(a)}))}),0===n.length&&t(a)}function registerType(e,i,r){if(r=r||{},!("argPackAdvance"in i))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=i.name;if(e||throwBindingError('type "'+t+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+t+"' twice")}if(registeredTypes[e]=i,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var a=awaitingDependencies[e];delete awaitingDependencies[e],a.forEach(function(e){e()})}}function __embind_register_void(e,i){registerType(e,{isVoid:!0,name:i=readLatin1String(i),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,i){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var i in EXCEPTIONS.infos){if(EXCEPTIONS.infos[i].adjusted===e)return i}return e},addRef:function(e){e&&EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var i=EXCEPTIONS.infos[e];assert(i.refcount>0),i.refcount--,0===i.refcount&&(i.destructor&&Runtime.dynCall("vi",i.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(EXCEPTIONS.infos[e].refcount=0)}};function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var i=EXCEPTIONS.infos[e],r=i.type;if(!r)return 0|(asm.setTempRet0(0),e);var t=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(r);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var a=0;a<t.length;a++)if(t[a]&&Module.___cxa_can_catch(t[a],r,e))return e=HEAP32[e>>2],i.adjusted=e,0|(asm.setTempRet0(t[a]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(r),e)}function ___cxa_throw(e,i,r){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:i,destructor:r,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}Module._memset=_memset;var _BDtoILow=!0;function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,i,r,t,a){var n=getShiftFromSize(r);registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){return!!e},toWireType:function(e,i){return i?t:a},argPackAdvance:8,readValueFromPointer:function(e){var t;if(1===r)t=HEAP8;else if(2===r)t=HEAP16;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+i);t=HEAP32}return this.fromWireType(t[e>>n])},destructorFunction:null})}function _abort(){Module.abort()}function _free(){}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function simpleReadValueFromPointer(e){return this.fromWireType(HEAPU32[e>>2])}function __embind_register_std_string(e,i){registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){for(var i=HEAPU32[e>>2],r=new Array(i),t=0;t<i;++t)r[t]=String.fromCharCode(HEAPU8[e+4+t]);return _free(e),r.join("")},toWireType:function(e,i){function r(e,i){return e[i]}var t;i instanceof ArrayBuffer&&(i=new Uint8Array(i)),i instanceof Uint8Array?t=r:i instanceof Int8Array?t=r:"string"==typeof i?t=function(e,i){return e.charCodeAt(i)}:throwBindingError("Cannot pass non-string to std::string");var a=i.length,n=_malloc(4+a);HEAPU32[n>>2]=a;for(var o=0;o<a;++o){var s=t(i,o);s>255&&(_free(n),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[n+4+o]=s}return null!==e&&e.push(_free,n),n},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_std_wstring(e,i,r){var t,a;r=readLatin1String(r),2===i?(t=function(){return HEAPU16},a=1):4===i&&(t=function(){return HEAPU32},a=2),registerType(e,{name:r,fromWireType:function(e){for(var i=t(),r=HEAPU32[e>>2],n=new Array(r),o=e+4>>a,s=0;s<r;++s)n[s]=String.fromCharCode(i[o+s]);return _free(e),n.join("")},toWireType:function(e,r){var n=t(),o=r.length,s=_malloc(4+o*i);HEAPU32[s>>2]=o;for(var f=s+4>>a,l=0;l<o;++l)n[f+l]=r.charCodeAt(l);return null!==e&&e.push(_free,s),s},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function ___lock(){}function ___unlock(){}Module._bitshift64Shl=_bitshift64Shl,Module._free=_free,Module._malloc=_malloc;var _emscripten_asm_const_int=!0;Module._i64Add=_i64Add;var _fabs=Math_abs,_sqrt=Math_sqrt;function _embind_repr(e){if(null===e)return"null";var i=typeof e;return"object"===i||"array"===i||"function"===i?e.toString():""+e}function integerReadValueFromPointer(e,i,r){switch(i){case 0:return r?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return r?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return r?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,i,r,t,a){i=readLatin1String(i),-1===a&&(a=4294967295);var n=getShiftFromSize(r),o=function(e){return e};if(0===t){var s=32-8*r;o=function(e){return e<<s>>>s}}registerType(e,{name:i,fromWireType:o,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+_embind_repr(r)+'" to '+this.name);if(r<t||r>a)throw new TypeError('Passing a number "'+_embind_repr(r)+'" from JS side to C/C++ side to an argument of type "'+i+'", which is outside the valid range ['+t+", "+a+"]!");return 0|r},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(i,n,0!==t),destructorFunction:null})}var emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function __emval_decref(e){e>4&&0==--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,i=5;i<emval_handle_array.length;++i)void 0!==emval_handle_array[i]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var i=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[i]={refcount:1,value:e},i}}function __embind_register_emval(e,i){registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){var i=emval_handle_array[e].value;return __emval_decref(e),i},toWireType:function(e,i){return __emval_register(i)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}var _sin=Math_sin;function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}Module._bitshift64Lshr=_bitshift64Lshr;var _llvm_ctlz_i32=!0;function floatReadValueFromPointer(e,i){switch(i){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,i,r){var t=getShiftFromSize(r);registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){return e},toWireType:function(e,i){if("number"!=typeof i&&"boolean"!=typeof i)throw new TypeError('Cannot convert "'+_embind_repr(i)+'" to '+this.name);return i},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(i,t),destructorFunction:null})}var _BDtoIHigh=!0;function _pthread_cleanup_push(e,i){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[i])}),_pthread_cleanup_push.level=__ATEXIT__.length}function new_(e,i){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=createNamedFunction(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var t=new r,a=e.apply(t,i);return a instanceof Object?a:t}function runDestructors(e){for(;e.length;){var i=e.pop();e.pop()(i)}}function craftInvokerFunction(e,i,r,t,a){var n=i.length;n<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==i[1]&&null!==r,s="",f="",l=0;l<n-2;++l)s+=(0!==l?", ":"")+"arg"+l,f+=(0!==l?", ":"")+"arg"+l+"Wired";var u="return function "+makeLegalFunctionName(e)+"("+s+") {\nif (arguments.length !== "+(n-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(n-2)+" args!');\n}\n",c=!1;for(l=1;l<i.length;++l)if(null!==i[l]&&void 0===i[l].destructorFunction){c=!0;break}c&&(u+="var destructors = [];\n");var d=c?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],b=[throwBindingError,t,a,runDestructors,i[0],i[1]];o&&(u+="var thisWired = classParam.toWireType("+d+", this);\n");for(l=0;l<n-2;++l)u+="var arg"+l+"Wired = argType"+l+".toWireType("+d+", arg"+l+"); // "+i[l+2].name+"\n",h.push("argType"+l),b.push(i[l+2]);o&&(f="thisWired"+(f.length>0?", ":"")+f);var k="void"!==i[0].name;if(u+=(k?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",c)u+="runDestructors(destructors);\n";else for(l=o?1:2;l<i.length;++l){var w=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==i[l].destructorFunction&&(u+=w+"_dtor("+w+"); // "+i[l].name+"\n",h.push(w+"_dtor"),b.push(i[l].destructorFunction))}return k&&(u+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),u+="}\n",h.push(u),new_(Function,h).apply(null,b)}function ensureOverloadTable(e,i,r){if(void 0===e[i].overloadTable){var t=e[i];e[i]=function(){return e[i].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[i].overloadTable+")!"),e[i].overloadTable[arguments.length].apply(this,arguments)},e[i].overloadTable=[],e[i].overloadTable[t.argCount]=t}}function exposePublicSymbol(e,i,r){Module.hasOwnProperty(e)?((void 0===r||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[r])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(r)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),Module[e].overloadTable[r]=i):(Module[e]=i,void 0!==r&&(Module[e].numArguments=r))}function heap32VectorToArray(e,i){for(var r=[],t=0;t<e;t++)r.push(HEAP32[(i>>2)+t]);return r}function replacePublicSymbol(e,i,r){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==r?Module[e].overloadTable[r]=i:Module[e]=i}function requireFunction(e,i){var r;if(e=readLatin1String(e),void 0!==Module["FUNCTION_TABLE_"+e])r=Module["FUNCTION_TABLE_"+e][i];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[i];else{var t=asm["dynCall_"+e];void 0===t&&void 0===(t=asm["dynCall_"+e.replace(/f/g,"d")])&&throwBindingError("No dynCall invoker for signature: "+e),r=function(r){for(var t=[],a=1;a<e.length;++a)t.push("a"+a);var n="return function dynCall_"+e+"_"+i+"("+t.join(", ")+") {\n";return n+="    return dynCall(rawFunction"+(t.length?", ":"")+t.join(", ")+");\n",n+="};\n",new Function("dynCall","rawFunction",n)(r,i)}(t)}return"function"!=typeof r&&throwBindingError("unknown function pointer with signature "+e+": "+i),r}var UnboundTypeError=void 0;function getTypeName(e){var i=___getTypeName(e),r=readLatin1String(i);return _free(i),r}function throwUnboundTypeError(e,i){var r=[],t={};throw i.forEach(function e(i){t[i]||registeredTypes[i]||(typeDependencies[i]?typeDependencies[i].forEach(e):(r.push(i),t[i]=!0))}),new UnboundTypeError(e+": "+r.map(getTypeName).join([", "]))}function __embind_register_function(e,i,r,t,a,n){var o=heap32VectorToArray(i,r);e=readLatin1String(e),a=requireFunction(t,a),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",o)},i-1),whenDependentTypesAreResolved([],o,function(r){var t=[r[0],null].concat(r.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,t,null,a,n),i-1),[]})}function __embind_register_constant(e,i,r){e=readLatin1String(e),whenDependentTypesAreResolved([],[i],function(i){return i=i[0],Module[e]=i.fromWireType(r),[]})}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,i){for(var r=0,t=e.length-1;t>=0;t--){var a=e[t];"."===a?e.splice(t,1):".."===a?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(i)for(;r--;r)e.unshift("..");return e},normalize:function(e){var i="/"===e.charAt(0),r="/"===e.substr(-1);return(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!i).join("/"))||i||(e="."),e&&r&&(e+="/"),(i?"/":"")+e},dirname:function(e){var i=PATH.splitPath(e),r=i[0],t=i[1];return r||t?(t&&(t=t.substr(0,t.length-1)),r+t):"."},basename:function(e){if("/"===e)return"/";var i=e.lastIndexOf("/");return-1===i?e:e.substr(i+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,i){return PATH.normalize(e+"/"+i)},resolve:function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var t=r>=0?arguments[r]:FS.cwd();if("string"!=typeof t)throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,i="/"===t.charAt(0)}return(i?"/":"")+(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!i).join("/"))||"."},relative:function(e,i){function r(e){for(var i=0;i<e.length&&""===e[i];i++);for(var r=e.length-1;r>=0&&""===e[r];r--);return i>r?[]:e.slice(i,r-i+1)}e=PATH.resolve(e).substr(1),i=PATH.resolve(i).substr(1);for(var t=r(e.split("/")),a=r(i.split("/")),n=Math.min(t.length,a.length),o=n,s=0;s<n;s++)if(t[s]!==a[s]){o=s;break}var f=[];for(s=o;s<t.length;s++)f.push("..");return(f=f.concat(a.slice(o))).join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,i){TTY.ttys[e]={input:[],output:[],ops:i},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var i=TTY.ttys[e.node.rdev];if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=i,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,i,r,t,a){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var n=0,o=0;o<t;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===n)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==s)break;n++,i[r+o]=s}return n&&(e.node.timestamp=Date.now()),n},write:function(e,i,r,t,a){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var n=0;n<t;n++)try{e.tty.ops.put_char(e.tty,i[r+n])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return t&&(e.node.timestamp=Date.now()),n}},default_tty_ops:{get_char:function(e){if(!e.input.length){var i=null;if(ENVIRONMENT_IS_NODE){var r,t=new Buffer(256),a=process.stdin.fd,n=!1;try{a=fs.openSync("/dev/stdin","r"),n=!0}catch(e){}r=fs.readSync(a,t,0,256,null),n&&fs.closeSync(a),i=r>0?t.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(i=window.prompt("Input: "))&&(i+="\n"):"function"==typeof readline&&null!==(i=readline())&&(i+="\n");if(!i)return null;e.input=intArrayFromString(i,!0)}return e.input.shift()},put_char:function(e,i){null===i||10===i?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=i&&e.output.push(i)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,i){null===i||10===i?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=i&&e.output.push(i)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,i,r,t){if(FS.isBlkdev(r)||FS.isFIFO(r))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var a=FS.createNode(e,i,r,t);return FS.isDir(a.mode)?(a.node_ops=MEMFS.ops_table.dir.node,a.stream_ops=MEMFS.ops_table.dir.stream,a.contents={}):FS.isFile(a.mode)?(a.node_ops=MEMFS.ops_table.file.node,a.stream_ops=MEMFS.ops_table.file.stream,a.usedBytes=0,a.contents=null):FS.isLink(a.mode)?(a.node_ops=MEMFS.ops_table.link.node,a.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(a.mode)&&(a.node_ops=MEMFS.ops_table.chrdev.node,a.stream_ops=MEMFS.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[i]=a),a},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var i=[],r=0;r<e.usedBytes;++r)i.push(e.contents[r]);return i}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,i){if(e.contents&&e.contents.subarray&&i>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var r=e.contents?e.contents.buffer.byteLength:0;if(r>=i)return;i=Math.max(i,r*(r<1048576?2:1.125)|0),0!=r&&(i=Math.max(i,256));var t=e.contents;return e.contents=new Uint8Array(i),void(e.usedBytes>0&&e.contents.set(t.subarray(0,e.usedBytes),0))}for(!e.contents&&i>0&&(e.contents=[]);e.contents.length<i;)e.contents.push(0)},resizeFileStorage:function(e,i){if(e.usedBytes!=i){if(0==i)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(i)),r&&e.contents.set(r.subarray(0,Math.min(i,e.usedBytes))),void(e.usedBytes=i)}if(e.contents||(e.contents=[]),e.contents.length>i)e.contents.length=i;else for(;e.contents.length<i;)e.contents.push(0);e.usedBytes=i}},node_ops:{getattr:function(e){var i={};return i.dev=FS.isChrdev(e.mode)?e.id:1,i.ino=e.id,i.mode=e.mode,i.nlink=1,i.uid=0,i.gid=0,i.rdev=e.rdev,FS.isDir(e.mode)?i.size=4096:FS.isFile(e.mode)?i.size=e.usedBytes:FS.isLink(e.mode)?i.size=e.link.length:i.size=0,i.atime=new Date(e.timestamp),i.mtime=new Date(e.timestamp),i.ctime=new Date(e.timestamp),i.blksize=4096,i.blocks=Math.ceil(i.size/i.blksize),i},setattr:function(e,i){void 0!==i.mode&&(e.mode=i.mode),void 0!==i.timestamp&&(e.timestamp=i.timestamp),void 0!==i.size&&MEMFS.resizeFileStorage(e,i.size)},lookup:function(e,i){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,i,r,t){return MEMFS.createNode(e,i,r,t)},rename:function(e,i,r){if(FS.isDir(e.mode)){var t;try{t=FS.lookupNode(i,r)}catch(e){}if(t)for(var a in t.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=r,i.contents[r]=e,e.parent=i},unlink:function(e,i){delete e.contents[i]},rmdir:function(e,i){var r=FS.lookupNode(e,i);for(var t in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[i]},readdir:function(e){var i=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&i.push(r);return i},symlink:function(e,i,r){var t=MEMFS.createNode(e,i,41471,0);return t.link=r,t},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,i,r,t,a){var n=e.node.contents;if(a>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-a,t);if(assert(o>=0),o>8&&n.subarray)i.set(n.subarray(a,a+o),r);else for(var s=0;s<o;s++)i[r+s]=n[a+s];return o},write:function(e,i,r,t,a,n){if(!t)return 0;var o=e.node;if(o.timestamp=Date.now(),i.subarray&&(!o.contents||o.contents.subarray)){if(n)return o.contents=i.subarray(r,r+t),o.usedBytes=t,t;if(0===o.usedBytes&&0===a)return o.contents=new Uint8Array(i.subarray(r,r+t)),o.usedBytes=t,t;if(a+t<=o.usedBytes)return o.contents.set(i.subarray(r,r+t),a),t}if(MEMFS.expandFileStorage(o,a+t),o.contents.subarray&&i.subarray)o.contents.set(i.subarray(r,r+t),a);else for(var s=0;s<t;s++)o.contents[a+s]=i[r+s];return o.usedBytes=Math.max(o.usedBytes,a+t),t},llseek:function(e,i,r){var t=i;if(1===r?t+=e.position:2===r&&FS.isFile(e.node.mode)&&(t+=e.node.usedBytes),t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t},allocate:function(e,i,r){MEMFS.expandFileStorage(e.node,i+r),e.node.usedBytes=Math.max(e.node.usedBytes,i+r)},mmap:function(e,i,r,t,a,n,o){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,f,l=e.node.contents;if(2&o||l.buffer!==i&&l.buffer!==i.buffer){if((a>0||a+t<e.node.usedBytes)&&(l=l.subarray?l.subarray(a,a+t):Array.prototype.slice.call(l,a,a+t)),f=!0,!(s=_malloc(t)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);i.set(l,s)}else f=!1,s=l.byteOffset;return{ptr:s,allocated:f}},msync:function(e,i,r,t,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&a)return 0;MEMFS.stream_ops.write(e,i,0,t,r,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,i,r){IDBFS.getLocalSet(e,function(t,a){if(t)return r(t);IDBFS.getRemoteSet(e,function(e,t){if(e)return r(e);var n=i?t:a,o=i?a:t;IDBFS.reconcile(n,o,r)})})},getDB:function(e,i){var r,t=IDBFS.dbs[e];if(t)return i(null,t);try{r=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return i(e)}r.onupgradeneeded=function(e){var i,r=e.target.result,t=e.target.transaction;(i=r.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?t.objectStore(IDBFS.DB_STORE_NAME):r.createObjectStore(IDBFS.DB_STORE_NAME)).indexNames.contains("timestamp")||i.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){t=r.result,IDBFS.dbs[e]=t,i(null,t)},r.onerror=function(e){i(this.error),e.preventDefault()}},getLocalSet:function(e,i){var r={};function t(e){return"."!==e&&".."!==e}function a(e){return function(i){return PATH.join2(e,i)}}for(var n=FS.readdir(e.mountpoint).filter(t).map(a(e.mountpoint));n.length;){var o,s=n.pop();try{o=FS.stat(s)}catch(e){return i(e)}FS.isDir(o.mode)&&n.push.apply(n,FS.readdir(s).filter(t).map(a(s))),r[s]={timestamp:o.mtime}}return i(null,{type:"local",entries:r})},getRemoteSet:function(e,i){var r={};IDBFS.getDB(e.mountpoint,function(e,t){if(e)return i(e);var a=t.transaction([IDBFS.DB_STORE_NAME],"readonly");a.onerror=function(e){i(this.error),e.preventDefault()},a.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var a=e.target.result;if(!a)return i(null,{type:"remote",db:t,entries:r});r[a.primaryKey]={timestamp:a.key},a.continue()}})},loadLocalEntry:function(e,i){var r,t;try{t=FS.lookupPath(e).node,r=FS.stat(e)}catch(e){return i(e)}return FS.isDir(r.mode)?i(null,{timestamp:r.mtime,mode:r.mode}):FS.isFile(r.mode)?(t.contents=MEMFS.getFileDataAsTypedArray(t),i(null,{timestamp:r.mtime,mode:r.mode,contents:t.contents})):i(new Error("node type not supported"))},storeLocalEntry:function(e,i,r){try{if(FS.isDir(i.mode))FS.mkdir(e,i.mode);else{if(!FS.isFile(i.mode))return r(new Error("node type not supported"));FS.writeFile(e,i.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,i.mode),FS.utime(e,i.timestamp,i.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,i){try{FS.lookupPath(e);var r=FS.stat(e);FS.isDir(r.mode)?FS.rmdir(e):FS.isFile(r.mode)&&FS.unlink(e)}catch(e){return i(e)}i(null)},loadRemoteEntry:function(e,i,r){var t=e.get(i);t.onsuccess=function(e){r(null,e.target.result)},t.onerror=function(e){r(this.error),e.preventDefault()}},storeRemoteEntry:function(e,i,r,t){var a=e.put(r,i);a.onsuccess=function(){t(null)},a.onerror=function(e){t(this.error),e.preventDefault()}},removeRemoteEntry:function(e,i,r){var t=e.delete(i);t.onsuccess=function(){r(null)},t.onerror=function(e){r(this.error),e.preventDefault()}},reconcile:function(e,i,r){var t=0,a=[];Object.keys(e.entries).forEach(function(r){var n=e.entries[r],o=i.entries[r];(!o||n.timestamp>o.timestamp)&&(a.push(r),t++)});var n=[];if(Object.keys(i.entries).forEach(function(r){i.entries[r];e.entries[r]||(n.push(r),t++)}),!t)return r(null);var o=0,s=("remote"===e.type?e.db:i.db).transaction([IDBFS.DB_STORE_NAME],"readwrite"),f=s.objectStore(IDBFS.DB_STORE_NAME);function l(e){return e?l.errored?void 0:(l.errored=!0,r(e)):++o>=t?r(null):void 0}s.onerror=function(e){l(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===i.type?IDBFS.loadRemoteEntry(f,e,function(i,r){if(i)return l(i);IDBFS.storeLocalEntry(e,r,l)}):IDBFS.loadLocalEntry(e,function(i,r){if(i)return l(i);IDBFS.storeRemoteEntry(f,e,r,l)})}),n.sort().reverse().forEach(function(e){"local"===i.type?IDBFS.removeLocalEntry(e,l):IDBFS.removeRemoteEntry(f,e,l)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,i,r,t){if(!FS.isDir(r)&&!FS.isFile(r)&&!FS.isLink(r))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.createNode(e,i,r);return a.node_ops=NODEFS.node_ops,a.stream_ops=NODEFS.stream_ops,a},getMode:function(e){var i;try{i=fs.lstatSync(e),NODEFS.isWindows&&(i.mode=i.mode|(146&i.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i.mode},realPath:function(e){for(var i=[];e.parent!==e;)i.push(e.name),e=e.parent;return i.push(e.mount.opts.root),i.reverse(),PATH.join.apply(null,i)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if((e&=-32769)in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var i,r=NODEFS.realPath(e);try{i=fs.lstatSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!i.blksize&&(i.blksize=4096),NODEFS.isWindows&&!i.blocks&&(i.blocks=(i.size+i.blksize-1)/i.blksize|0),{dev:i.dev,ino:i.ino,mode:i.mode,nlink:i.nlink,uid:i.uid,gid:i.gid,rdev:i.rdev,size:i.size,atime:i.atime,mtime:i.mtime,ctime:i.ctime,blksize:i.blksize,blocks:i.blocks}},setattr:function(e,i){var r=NODEFS.realPath(e);try{if(void 0!==i.mode&&(fs.chmodSync(r,i.mode),e.mode=i.mode),void 0!==i.timestamp){var t=new Date(i.timestamp);fs.utimesSync(r,t,t)}void 0!==i.size&&fs.truncateSync(r,i.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,i){var r=PATH.join2(NODEFS.realPath(e),i),t=NODEFS.getMode(r);return NODEFS.createNode(e,i,t)},mknod:function(e,i,r,t){var a=NODEFS.createNode(e,i,r,t),n=NODEFS.realPath(a);try{FS.isDir(a.mode)?fs.mkdirSync(n,a.mode):fs.writeFileSync(n,"",{mode:a.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return a},rename:function(e,i,r){var t=NODEFS.realPath(e),a=PATH.join2(NODEFS.realPath(i),r);try{fs.renameSync(t,a)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,i){var r=PATH.join2(NODEFS.realPath(e),i);try{fs.unlinkSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,i){var r=PATH.join2(NODEFS.realPath(e),i);try{fs.rmdirSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var i=NODEFS.realPath(e);try{return fs.readdirSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,i,r){var t=PATH.join2(NODEFS.realPath(e),i);try{fs.symlinkSync(r,t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var i=NODEFS.realPath(e);try{return i=fs.readlinkSync(i),i=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var i=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(i,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,i,r,t,a){if(0===t)return 0;var n,o=new Buffer(t);try{n=fs.readSync(e.nfd,o,0,t,a)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(n>0)for(var s=0;s<n;s++)i[r+s]=o[s];return n},write:function(e,i,r,t,a){var n,o=new Buffer(i.subarray(r,r+t));try{n=fs.writeSync(e.nfd,o,0,t,a)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return n},llseek:function(e,i,r){var t=i;if(1===r)t+=e.position;else if(2===r&&FS.isFile(e.node.mode))try{t+=fs.fstatSync(e.nfd).size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var i=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),r={};function t(e){for(var t=e.split("/"),a=i,n=0;n<t.length-1;n++){var o=t.slice(0,n+1).join("/");r[o]||(r[o]=WORKERFS.createNode(a,o,WORKERFS.DIR_MODE,0)),a=r[o]}return a}function a(e){var i=e.split("/");return i[i.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(t(e.name),a(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(t(e.name),a(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(i){var r=i.filename.substr(1);WORKERFS.createNode(t(r),a(r),WORKERFS.FILE_MODE,0,e.blob.slice(i.start,i.end))})}),i},createNode:function(e,i,r,t,a,n){var o=FS.createNode(e,i,r);return o.mode=r,o.node_ops=WORKERFS.node_ops,o.stream_ops=WORKERFS.stream_ops,o.timestamp=(n||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),r===WORKERFS.FILE_MODE?(o.size=a.size,o.contents=a):(o.size=4096,o.contents={}),e&&(e.contents[i]=o),o},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,i){void 0!==i.mode&&(e.mode=i.mode),void 0!==i.timestamp&&(e.timestamp=i.timestamp)},lookup:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,i,r,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,i,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,i,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,i,r,t,a){if(a>=e.node.size)return 0;var n=e.node.contents.slice(a,a+t),o=WORKERFS.reader.readAsArrayBuffer(n);return i.set(new Uint8Array(o),r),n.size},write:function(e,i,r,t,a){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,i,r){var t=i;if(1===r?t+=e.position:2===r&&FS.isFile(e.node.mode)&&(t+=e.node.size),t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,i){if(i=i||{},!(e=PATH.resolve(FS.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var t in r)void 0===i[t]&&(i[t]=r[t]);if(i.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var a=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),n=FS.root,o="/",s=0;s<a.length;s++){var f=s===a.length-1;if(f&&i.parent)break;if(n=FS.lookupNode(n,a[s]),o=PATH.join2(o,a[s]),FS.isMountpoint(n)&&(!f||f&&i.follow_mount)&&(n=n.mounted.root),!f||i.follow)for(var l=0;FS.isLink(n.mode);){var u=FS.readlink(o);if(o=PATH.resolve(PATH.dirname(o),u),n=FS.lookupPath(o,{recurse_count:i.recurse_count}).node,l++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:o,node:n}},getPath:function(e){for(var i;;){if(FS.isRoot(e)){var r=e.mount.mountpoint;return i?"/"!==r[r.length-1]?r+"/"+i:r+i:r}i=i?e.name+"/"+i:e.name,e=e.parent}},hashName:function(e,i){for(var r=0,t=0;t<i.length;t++)r=(r<<5)-r+i.charCodeAt(t)|0;return(e+r>>>0)%FS.nameTable.length},hashAddNode:function(e){var i=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[i],FS.nameTable[i]=e},hashRemoveNode:function(e){var i=FS.hashName(e.parent.id,e.name);if(FS.nameTable[i]===e)FS.nameTable[i]=e.name_next;else for(var r=FS.nameTable[i];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,i){var r=FS.mayLookup(e);if(r)throw new FS.ErrnoError(r,e);for(var t=FS.hashName(e.id,i),a=FS.nameTable[t];a;a=a.name_next){var n=a.name;if(a.parent.id===e.id&&n===i)return a}return FS.lookup(e,i)},createNode:function(e,i,r,t){if(!FS.FSNode){FS.FSNode=function(e,i,r,t){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=i,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=t},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,i,r,t);return FS.hashAddNode(a),a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var i=FS.flagModes[e];if(void 0===i)throw new Error("Unknown file open mode: "+e);return i},flagsToPermissionString:function(e){var i=["r","w","rw"][3&e];return 512&e&&(i+="w"),i},nodePermissions:function(e,i){return FS.ignorePermissions?0:(-1===i.indexOf("r")||292&e.mode)&&(-1===i.indexOf("w")||146&e.mode)&&(-1===i.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var i=FS.nodePermissions(e,"x");return i||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,i){try{FS.lookupNode(e,i);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,i,r){var t;try{t=FS.lookupNode(e,i)}catch(e){return e.errno}var a=FS.nodePermissions(e,"wx");if(a)return a;if(r){if(!FS.isDir(t.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(t)||FS.getPath(t)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(t.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,i){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!=(2097155&i)||512&i)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(i)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,i){e=e||0,i=i||FS.MAX_OPEN_FDS;for(var r=e;r<=i;r++)if(!FS.streams[r])return r;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,i,r){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var t=new FS.FSStream;for(var a in e)t[a]=e[a];e=t;var n=FS.nextfd(i,r);return e.fd=n,FS.streams[n]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var i=FS.getDevice(e.node.rdev);e.stream_ops=i.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,i){return e<<8|i},registerDevice:function(e,i){FS.devices[e]={stream_ops:i}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var i=[],r=[e];r.length;){var t=r.pop();i.push(t),r.push.apply(r,t.mounts)}return i},syncfs:function(e,i){"function"==typeof e&&(i=e,e=!1);var r=FS.getMounts(FS.root.mount),t=0;function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++t>=r.length&&i(null)}r.forEach(function(i){if(!i.type.syncfs)return a(null);i.type.syncfs(i,e,a)})},mount:function(e,i,r){var t,a="/"===r,n=!r;if(a&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!a&&!n){var o=FS.lookupPath(r,{follow_mount:!1});if(r=o.path,t=o.node,FS.isMountpoint(t))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(t.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:i,mountpoint:r,mounts:[]},f=e.mount(s);return f.mount=s,s.root=f,a?FS.root=f:t&&(t.mounted=s,t.mount&&t.mount.mounts.push(s)),f},unmount:function(e){var i=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(i.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=i.node,t=r.mounted,a=FS.getMounts(t);Object.keys(FS.nameTable).forEach(function(e){for(var i=FS.nameTable[e];i;){var r=i.name_next;-1!==a.indexOf(i.mount)&&FS.destroyNode(i),i=r}}),r.mounted=null;var n=r.mount.mounts.indexOf(t);assert(-1!==n),r.mount.mounts.splice(n,1)},lookup:function(e,i){return e.node_ops.lookup(e,i)},mknod:function(e,i,r){var t=FS.lookupPath(e,{parent:!0}).node,a=PATH.basename(e);if(!a||"."===a||".."===a)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=FS.mayCreate(t,a);if(n)throw new FS.ErrnoError(n);if(!t.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return t.node_ops.mknod(t,a,i,r)},create:function(e,i){return i=void 0!==i?i:438,i&=4095,i|=32768,FS.mknod(e,i,0)},mkdir:function(e,i){return i=void 0!==i?i:511,i&=1023,i|=16384,FS.mknod(e,i,0)},mkdev:function(e,i,r){return void 0===r&&(r=i,i=438),i|=8192,FS.mknod(e,i,r)},symlink:function(e,i){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var r=FS.lookupPath(i,{parent:!0}).node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var t=PATH.basename(i),a=FS.mayCreate(r,t);if(a)throw new FS.ErrnoError(a);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,t,e)},rename:function(e,i){var r,t,a=PATH.dirname(e),n=PATH.dirname(i),o=PATH.basename(e),s=PATH.basename(i);try{r=FS.lookupPath(e,{parent:!0}).node,t=FS.lookupPath(i,{parent:!0}).node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!r||!t)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(r.mount!==t.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var f,l=FS.lookupNode(r,o),u=PATH.relative(e,n);if("."!==u.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if("."!==(u=PATH.relative(i,a)).charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);try{f=FS.lookupNode(t,s)}catch(e){}if(l!==f){var c=FS.isDir(l.mode),d=FS.mayDelete(r,o,c);if(d)throw new FS.ErrnoError(d);if(d=f?FS.mayDelete(t,s,c):FS.mayCreate(t,s))throw new FS.ErrnoError(d);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(l)||f&&FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(t!==r&&(d=FS.nodePermissions(r,"w")))throw new FS.ErrnoError(d);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,i)}catch(r){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+i+"') threw an exception: "+r.message)}FS.hashRemoveNode(l);try{r.node_ops.rename(l,t,s)}catch(e){throw e}finally{FS.hashAddNode(l)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,i)}catch(r){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+i+"') threw an exception: "+r.message)}}},rmdir:function(e){var i=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),t=FS.lookupNode(i,r),a=FS.mayDelete(i,r,!0);if(a)throw new FS.ErrnoError(a);if(!i.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(t))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}i.node_ops.rmdir(i,r),FS.destroyNode(t);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readdir:function(e){var i=FS.lookupPath(e,{follow:!0}).node;if(!i.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return i.node_ops.readdir(i)},unlink:function(e){var i=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),t=FS.lookupNode(i,r),a=FS.mayDelete(i,r,!1);if(a)throw a===ERRNO_CODES.EISDIR&&(a=ERRNO_CODES.EPERM),new FS.ErrnoError(a);if(!i.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(t))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}i.node_ops.unlink(i,r),FS.destroyNode(t);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readlink:function(e){var i=FS.lookupPath(e).node;if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!i.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(i.parent),i.node_ops.readlink(i))},stat:function(e,i){var r=FS.lookupPath(e,{follow:!i}).node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,i,r){var t;"string"==typeof e?t=FS.lookupPath(e,{follow:!r}).node:t=e;if(!t.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);t.node_ops.setattr(t,{mode:4095&i|-4096&t.mode,timestamp:Date.now()})},lchmod:function(e,i){FS.chmod(e,i,!0)},fchmod:function(e,i){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(r.node,i)},chown:function(e,i,r,t){var a;"string"==typeof e?a=FS.lookupPath(e,{follow:!t}).node:a=e;if(!a.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,i,r){FS.chown(e,i,r,!0)},fchown:function(e,i,r){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(t.node,i,r)},truncate:function(e,i){if(i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r;"string"==typeof e?r=FS.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var t=FS.nodePermissions(r,"w");if(t)throw new FS.ErrnoError(t);r.node_ops.setattr(r,{size:i,timestamp:Date.now()})},ftruncate:function(e,i){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&r.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(r.node,i)},utime:function(e,i,r){var t=FS.lookupPath(e,{follow:!0}).node;t.node_ops.setattr(t,{timestamp:Math.max(i,r)})},open:function(e,i,r,t,a){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var n;if(r=void 0===r?438:r,r=64&(i="string"==typeof i?FS.modeStringToFlags(i):i)?4095&r|32768:0,"object"==typeof e)n=e;else{e=PATH.normalize(e);try{n=FS.lookupPath(e,{follow:!(131072&i)}).node}catch(e){}}var o=!1;if(64&i)if(n){if(128&i)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else n=FS.mknod(e,r,0),o=!0;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(n.mode)&&(i&=-513),65536&i&&!FS.isDir(n.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!o){var s=FS.mayOpen(n,i);if(s)throw new FS.ErrnoError(s)}512&i&&FS.truncate(n,0),i&=-641;var f=FS.createStream({node:n,path:FS.getPath(n),flags:i,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1},t,a);f.stream_ops.open&&f.stream_ops.open(f),!Module.logReadFiles||1&i||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var l=0;1!=(2097155&i)&&(l|=FS.tracking.openFlags.READ),0!=(2097155&i)&&(l|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,l)}}catch(i){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+i.message)}return f},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,i,r){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,i,r),e.ungotten=[],e.position},read:function(e,i,r,t,a){if(t<0||a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=!0;if(void 0===a)a=e.position,n=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var o=e.stream_ops.read(e,i,r,t,a);return n||(e.position+=o),o},write:function(e,i,r,t,a,n){if(t<0||a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var o=!0;if(void 0===a)a=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,i,r,t,a,n);o||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,i,r){if(i<0||r<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,i,r)},mmap:function(e,i,r,t,a,n,o){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,i,r,t,a,n,o)},msync:function(e,i,r,t,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,i,r,t,a):0},munmap:function(e){return 0},ioctl:function(e,i,r){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,i,r)},readFile:function(e,i){if((i=i||{}).flags=i.flags||"r",i.encoding=i.encoding||"binary","utf8"!==i.encoding&&"binary"!==i.encoding)throw new Error('Invalid encoding type "'+i.encoding+'"');var r,t=FS.open(e,i.flags),a=FS.stat(e).size,n=new Uint8Array(a);return FS.read(t,n,0,a,0),"utf8"===i.encoding?r=UTF8ArrayToString(n,0):"binary"===i.encoding&&(r=n),FS.close(t),r},writeFile:function(e,i,r){if((r=r||{}).flags=r.flags||"w",r.encoding=r.encoding||"utf8","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t=FS.open(e,r.flags,r.mode);if("utf8"===r.encoding){var a=new Uint8Array(lengthBytesUTF8(i)+1),n=stringToUTF8Array(i,a,0,a.length);FS.write(t,a,0,n,0,r.canOwn)}else"binary"===r.encoding&&FS.write(t,i,0,i.length,0,r.canOwn);FS.close(t)},cwd:function(){return FS.currentPath},chdir:function(e){var i=FS.lookupPath(e,{follow:!0});if(!FS.isDir(i.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var r=FS.nodePermissions(i.node,"x");if(r)throw new FS.ErrnoError(r);FS.currentPath=i.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,i,r,t,a){return t}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),"undefined"!=typeof crypto){var i=new Uint8Array(1);e=function(){return crypto.getRandomValues(i),i[0]}}else e=ENVIRONMENT_IS_NODE?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,i){var r=+i,t=FS.getStream(r);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return a.parent=a,a}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var i=FS.open("/dev/stdout","w");assert(1===i.fd,"invalid handle for stdout ("+i.fd+")");var r=FS.open("/dev/stderr","w");assert(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,i){this.node=i,this.setErrno=function(e){for(var i in this.errno=e,ERRNO_CODES)if(ERRNO_CODES[i]===e){this.code=i;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,i,r){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=i||Module.stdout,Module.stderr=r||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var i=0;i<FS.streams.length;i++){var r=FS.streams[i];r&&FS.close(r)}},getMode:function(e,i){var r=0;return e&&(r|=365),i&&(r|=146),r},joinPath:function(e,i){var r=PATH.join.apply(null,e);return i&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,i){return PATH.resolve(i,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,i){var r=FS.analyzePath(e,i);return r.exists?r.object:(___setErrNo(r.error),null)},analyzePath:function(e,i){try{e=(t=FS.lookupPath(e,{follow:!i})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=t.path,r.parentObject=t.node,r.name=PATH.basename(e),t=FS.lookupPath(e,{follow:!i}),r.exists=!0,r.path=t.path,r.object=t.node,r.name=t.node.name,r.isRoot="/"===t.path}catch(e){r.error=e.errno}return r},createFolder:function(e,i,r,t){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),i),n=FS.getMode(r,t);return FS.mkdir(a,n)},createPath:function(e,i,r,t){e="string"==typeof e?e:FS.getPath(e);for(var a=i.split("/").reverse();a.length;){var n=a.pop();if(n){var o=PATH.join2(e,n);try{FS.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,i,r,t,a){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),i),o=FS.getMode(t,a);return FS.create(n,o)},createDataFile:function(e,i,r,t,a,n){var o=i?PATH.join2("string"==typeof e?e:FS.getPath(e),i):e,s=FS.getMode(t,a),f=FS.create(o,s);if(r){if("string"==typeof r){for(var l=new Array(r.length),u=0,c=r.length;u<c;++u)l[u]=r.charCodeAt(u);r=l}FS.chmod(f,146|s);var d=FS.open(f,"w");FS.write(d,r,0,r.length,0,n),FS.close(d),FS.chmod(f,s)}return f},createDevice:function(e,i,r,t){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),i),n=FS.getMode(!!r,!!t);FS.createDevice.major||(FS.createDevice.major=64);var o=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){t&&t.buffer&&t.buffer.length&&t(10)},read:function(e,i,t,a,n){for(var o=0,s=0;s<a;s++){var f;try{f=r()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===f&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==f)break;o++,i[t+s]=f}return o&&(e.node.timestamp=Date.now()),o},write:function(e,i,r,a,n){for(var o=0;o<a;o++)try{t(i[r+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return a&&(e.node.timestamp=Date.now()),o}}),FS.mkdev(a,n,o)},createLink:function(e,i,r,t,a){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),i);return FS.symlink(r,n)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var i=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){i=!1}return i||___setErrNo(ERRNO_CODES.EIO),i},createLazyFile:function(e,i,r,t,a){function n(){this.lengthKnown=!1,this.chunks=[]}if(n.prototype.get=function(e){if(!(e>this.length-1||e<0)){var i=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[i]}},n.prototype.setDataGetter=function(e){this.getter=e},n.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var i,t=Number(e.getResponseHeader("Content-length")),a=(i=e.getResponseHeader("Accept-Ranges"))&&"bytes"===i,n=1048576;a||(n=t);var o=this;o.setDataGetter(function(e){var i=e*n,a=(e+1)*n-1;if(a=Math.min(a,t-1),void 0===o.chunks[e]&&(o.chunks[e]=function(e,i){if(e>i)throw new Error("invalid range ("+e+", "+i+") or no bytes requested!");if(i>t-1)throw new Error("only "+t+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",r,!1),t!==n&&a.setRequestHeader("Range","bytes="+e+"-"+i),"undefined"!=typeof Uint8Array&&(a.responseType="arraybuffer"),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+r+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):intArrayFromString(a.responseText||"",!0)}(i,a)),void 0===o.chunks[e])throw new Error("doXHR failed!");return o.chunks[e]}),this._length=t,this._chunkSize=n,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new n;Object.defineProperty(o,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(o,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:o}}else s={isDevice:!1,url:r};var f=FS.createFile(e,i,s,t,a);s.contents?f.contents=s.contents:s.url&&(f.contents=null,f.url=s.url),Object.defineProperty(f,"usedBytes",{get:function(){return this.contents.length}});var l={};return Object.keys(f.stream_ops).forEach(function(e){var i=f.stream_ops[e];l[e]=function(){if(!FS.forceLoadFile(f))throw new FS.ErrnoError(ERRNO_CODES.EIO);return i.apply(null,arguments)}}),l.read=function(e,i,r,t,a){if(!FS.forceLoadFile(f))throw new FS.ErrnoError(ERRNO_CODES.EIO);var n=e.node.contents;if(a>=n.length)return 0;var o=Math.min(n.length-a,t);if(assert(o>=0),n.slice)for(var s=0;s<o;s++)i[r+s]=n[a+s];else for(s=0;s<o;s++)i[r+s]=n.get(a+s);return o},f.stream_ops=l,f},createPreloadedFile:function(e,i,r,t,a,n,o,s,f,l){Browser.init();var u=i?PATH.resolve(PATH.join2(e,i)):e,c=getUniqueRunDependency("cp "+u);function d(r){function d(r){l&&l(),s||FS.createDataFile(e,i,r,t,a,f),n&&n(),removeRunDependency(c)}var h=!1;Module.preloadPlugins.forEach(function(e){h||e.canHandle(u)&&(e.handle(r,u,d,function(){o&&o(),removeRunDependency(c)}),h=!0)}),h||d(r)}addRunDependency(c),"string"==typeof r?Browser.asyncLoad(r,function(e){d(e)},o):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,i,r){i=i||function(){},r=r||function(){};var t=FS.indexedDB();try{var a=t.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}a.onupgradeneeded=function(){console.log("creating db"),a.result.createObjectStore(FS.DB_STORE_NAME)},a.onsuccess=function(){var t=a.result.transaction([FS.DB_STORE_NAME],"readwrite"),n=t.objectStore(FS.DB_STORE_NAME),o=0,s=0,f=e.length;function l(){0==s?i():r()}e.forEach(function(e){var i=n.put(FS.analyzePath(e).object.contents,e);i.onsuccess=function(){++o+s==f&&l()},i.onerror=function(){o+ ++s==f&&l()}}),t.onerror=r},a.onerror=r},loadFilesFromDB:function(e,i,r){i=i||function(){},r=r||function(){};var t=FS.indexedDB();try{var a=t.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}a.onupgradeneeded=r,a.onsuccess=function(){var t=a.result;try{var n=t.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var o=n.objectStore(FS.DB_STORE_NAME),s=0,f=0,l=e.length;function u(){0==f?i():r()}e.forEach(function(e){var i=o.get(e);i.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),i.result,!0,!0,!0),++s+f==l&&u()},i.onerror=function(){s+ ++f==l&&u()}}),n.onerror=r},a.onerror=r}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,i){if("/"!==i[0]){var r;if(-100===e)r=FS.cwd();else{var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);r=t.path}i=PATH.join2(r,i)}return i},doStat:function(e,i,r){try{var t=e(i)}catch(e){if(e&&e.node&&PATH.normalize(i)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[r>>2]=t.dev,HEAP32[r+4>>2]=0,HEAP32[r+8>>2]=t.ino,HEAP32[r+12>>2]=t.mode,HEAP32[r+16>>2]=t.nlink,HEAP32[r+20>>2]=t.uid,HEAP32[r+24>>2]=t.gid,HEAP32[r+28>>2]=t.rdev,HEAP32[r+32>>2]=0,HEAP32[r+36>>2]=t.size,HEAP32[r+40>>2]=4096,HEAP32[r+44>>2]=t.blocks,HEAP32[r+48>>2]=t.atime.getTime()/1e3|0,HEAP32[r+52>>2]=0,HEAP32[r+56>>2]=t.mtime.getTime()/1e3|0,HEAP32[r+60>>2]=0,HEAP32[r+64>>2]=t.ctime.getTime()/1e3|0,HEAP32[r+68>>2]=0,HEAP32[r+72>>2]=t.ino,0},doMsync:function(e,i,r,t){var a=new Uint8Array(HEAPU8.subarray(e,e+r));FS.msync(i,a,0,r,t)},doMkdir:function(e,i){return"/"===(e=PATH.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,i,0),0},doMknod:function(e,i,r){switch(61440&i){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,i,r),0},doReadlink:function(e,i,r){if(r<=0)return-ERRNO_CODES.EINVAL;var t=FS.readlink(e);return writeStringToMemory(t=t.slice(0,Math.max(0,r)),i,!0),t.length},doAccess:function(e,i){if(-8&i)return-ERRNO_CODES.EINVAL;var r;r=FS.lookupPath(e,{follow:!0}).node;var t="";return 4&i&&(t+="r"),2&i&&(t+="w"),1&i&&(t+="x"),t&&FS.nodePermissions(r,t)?-ERRNO_CODES.EACCES:0},doDup:function(e,i,r){var t=FS.getStream(r);return t&&FS.close(t),FS.open(e,i,0,r,r).fd},doReadv:function(e,i,r,t){for(var a=0,n=0;n<r;n++){var o=HEAP32[i+8*n>>2],s=HEAP32[i+(8*n+4)>>2],f=FS.read(e,HEAP8,o,s,t);if(f<0)return-1;if(a+=f,f<s)break}return a},doWritev:function(e,i,r,t){for(var a=0,n=0;n<r;n++){var o=HEAP32[i+8*n>>2],s=HEAP32[i+(8*n+4)>>2],f=FS.write(e,HEAP8,o,s,t);if(f<0)return-1;a+=f}return a},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var i=SYSCALLS.get(),r=SYSCALLS.get();if(e&&0===i)return null;var t=__read_sockaddr(i,r);if(t.errno)throw new FS.ErrnoError(t.errno);return t.addr=DNS.lookup_addr(t.addr)||t.addr,t},get64:function(){var e=SYSCALLS.get(),i=SYSCALLS.get();return assert(e>=0?0===i:-1===i),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall5(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStr(),t=SYSCALLS.get(),a=SYSCALLS.get();return FS.open(r,t,a).fd}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _emscripten_memcpy_big(e,i,r){return HEAPU8.set(HEAPU8.subarray(i,i+r),e),e}function ___syscall6(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}Module._memcpy=_memcpy;var _cos=Math_cos;function _sbrk(e){var i=_sbrk;i.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),i.called=!0,assert(Runtime.dynamicAlloc),i.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var r=DYNAMICTOP;if(0!=e&&!i.alloc(e))return-1>>>0;return r}var _BItoD=!0;function ___syscall54(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get();switch(t){case 21505:case 21506:return r.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!r.tty)return-ERRNO_CODES.ENOTTY;var a=SYSCALLS.get();return HEAP32[a>>2]=0,0;case 21520:return r.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:a=SYSCALLS.get();return FS.ioctl(r,t,a);default:abort("bad ioctl syscall "+t)}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var _ceilf=Math_ceil;function __embind_register_memory_view(e,i,r){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][i];function a(e){var i=HEAPU32,r=i[e>>=2],a=i[e+1];return new t(i.buffer,a,r)}registerType(e,{name:r=readLatin1String(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function _time(e){var i=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=i),i}function _pthread_self(){return 0}function ___syscall140(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get(),a=SYSCALLS.get(),n=SYSCALLS.get(),o=SYSCALLS.get(),s=a;return assert(0===t),FS.llseek(r,s,o),HEAP32[n>>2]=r.position,r.getdents&&0===s&&0===o&&(r.getdents=null),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doWritev(r,t,a)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall221(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD();switch(SYSCALLS.get()){case 0:return(t=SYSCALLS.get())<0?-ERRNO_CODES.EINVAL:FS.open(r.path,r.flags,0,t).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var t=SYSCALLS.get();return r.flags|=t,0;case 12:case 12:t=SYSCALLS.get();return HEAP16[t+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall145(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),t=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doReadv(r,t,a)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var ___dso_handle=allocate(1,"i32*",ALLOC_STATIC);if(embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),init_emval(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=require("fs"),NODEJS_PATH=require("path");NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function invoke_iiii(e,i,r,t){try{return Module.dynCall_iiii(e,i,r,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,i,r,t,a,n){try{Module.dynCall_viiiii(e,i,r,t,a,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_dii(e,i,r){try{return Module.dynCall_dii(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vid(e,i,r){try{Module.dynCall_vid(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_di(e,i){try{return Module.dynCall_di(e,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_i(e){try{return Module.dynCall_i(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,i){try{Module.dynCall_vi(e,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(e,i,r){try{Module.dynCall_vii(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(e,i){try{return Module.dynCall_ii(e,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(e,i,r,t){try{Module.dynCall_viii(e,i,r,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viid(e,i,r,t){try{Module.dynCall_viid(e,i,r,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiii(e,i,r,t,a){try{return Module.dynCall_iiiii(e,i,r,t,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(e,i,r,t,a,n,o){try{Module.dynCall_viiiiii(e,i,r,t,a,n,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(e,i,r){try{return Module.dynCall_iii(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(e,i,r,t,a){try{Module.dynCall_viiii(e,i,r,t,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_dii:invoke_dii,invoke_vid:invoke_vid,invoke_di:invoke_di,invoke_i:invoke_i,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_viiii:invoke_viiii,_fabs:_fabs,___syscall221:___syscall221,_sin:_sin,floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,integerReadValueFromPointer:integerReadValueFromPointer,__embind_register_memory_view:__embind_register_memory_view,throwInternalError:throwInternalError,get_first_emval:get_first_emval,_abort:_abort,count_emval_handles:count_emval_handles,_pthread_cleanup_push:_pthread_cleanup_push,__embind_register_integer:__embind_register_integer,extendError:extendError,___assert_fail:___assert_fail,init_emval:init_emval,__embind_register_void:__embind_register_void,___cxa_find_matching_catch:___cxa_find_matching_catch,_ceilf:_ceilf,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,embind_init_charCodes:embind_init_charCodes,_emscripten_asm_const_33:_emscripten_asm_const_33,throwBindingError:throwBindingError,___setErrNo:___setErrNo,__emval_register:__emval_register,_sbrk:_sbrk,readLatin1String:readLatin1String,___cxa_allocate_exception:___cxa_allocate_exception,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_sysconf:_sysconf,_embind_repr:_embind_repr,__embind_register_std_wstring:__embind_register_std_wstring,createNamedFunction:createNamedFunction,__embind_register_emval:__embind_register_emval,_cos:_cos,throwUnboundTypeError:throwUnboundTypeError,_pthread_self:_pthread_self,craftInvokerFunction:craftInvokerFunction,__emval_decref:__emval_decref,_sqrt:_sqrt,__embind_register_float:__embind_register_float,makeLegalFunctionName:makeLegalFunctionName,___syscall54:___syscall54,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,_pthread_cleanup_pop:_pthread_cleanup_pop,whenDependentTypesAreResolved:whenDependentTypesAreResolved,_exit:_exit,__embind_register_std_string:__embind_register_std_string,new_:new_,___cxa_atexit:___cxa_atexit,registerType:registerType,___cxa_throw:___cxa_throw,__exit:__exit,___lock:___lock,___syscall6:___syscall6,___syscall5:___syscall5,ensureOverloadTable:ensureOverloadTable,__embind_register_constant:__embind_register_constant,_time:_time,requireFunction:requireFunction,runDestructors:runDestructors,getTypeName:getTypeName,_atexit:_atexit,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,_emscripten_asm_const_5:_emscripten_asm_const_5,_emscripten_asm_const_4:_emscripten_asm_const_4,replacePublicSymbol:replacePublicSymbol,___syscall145:___syscall145,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,i,r){"use asm";var t=new e.Int8Array(r);var a=new e.Int16Array(r);var n=new e.Int32Array(r);var o=new e.Uint8Array(r);var s=new e.Uint16Array(r);var f=new e.Uint32Array(r);var l=new e.Float32Array(r);var u=new e.Float64Array(r);var c=i.STACKTOP|0;var d=i.STACK_MAX|0;var h=i.tempDoublePtr|0;var b=i.ABORT|0;var k=i.cttz_i8|0;var w=i.___dso_handle|0;var m=0;var p=0;var E=0;var v=0;var _=e.NaN,g=e.Infinity;var S=0,y=0,M=0,R=0,T=0.0,A=0,C=0,x=0,F=0.0;var P=0;var O=0;var D=0;var N=0;var H=0;var I=0;var L=0;var j=0;var V=0;var U=0;var B=e.Math.floor;var W=e.Math.abs;var z=e.Math.sqrt;var Y=e.Math.pow;var q=e.Math.cos;var G=e.Math.sin;var K=e.Math.tan;var X=e.Math.acos;var J=e.Math.asin;var Z=e.Math.atan;var Q=e.Math.atan2;var $=e.Math.exp;var ee=e.Math.log;var ie=e.Math.ceil;var re=e.Math.imul;var te=e.Math.min;var ae=e.Math.clz32;var ne=i.abort;var oe=i.assert;var se=i.invoke_iiii;var fe=i.invoke_viiiii;var le=i.invoke_dii;var ue=i.invoke_vid;var ce=i.invoke_di;var de=i.invoke_i;var he=i.invoke_vi;var be=i.invoke_vii;var ke=i.invoke_ii;var we=i.invoke_viii;var me=i.invoke_v;var pe=i.invoke_viid;var Ee=i.invoke_iiiii;var ve=i.invoke_viiiiii;var _e=i.invoke_iii;var ge=i.invoke_viiii;var Se=i._fabs;var ye=i.___syscall221;var Me=i._sin;var Re=i.floatReadValueFromPointer;var Te=i.simpleReadValueFromPointer;var Ae=i.integerReadValueFromPointer;var Ce=i.__embind_register_memory_view;var xe=i.throwInternalError;var Fe=i.get_first_emval;var Pe=i._abort;var Oe=i.count_emval_handles;var De=i._pthread_cleanup_push;var Ne=i.__embind_register_integer;var He=i.extendError;var Ie=i.___assert_fail;var Le=i.init_emval;var je=i.__embind_register_void;var Ve=i.___cxa_find_matching_catch;var Ue=i._ceilf;var Be=i.getShiftFromSize;var We=i.__embind_register_function;var ze=i.embind_init_charCodes;var Ye=i._emscripten_asm_const_33;var qe=i.throwBindingError;var Ge=i.___setErrNo;var Ke=i.__emval_register;var Xe=i._sbrk;var Je=i.readLatin1String;var Ze=i.___cxa_allocate_exception;var Qe=i._emscripten_memcpy_big;var $e=i.__embind_register_bool;var ei=i.___resumeException;var ii=i.__ZSt18uncaught_exceptionv;var ri=i._sysconf;var ti=i._embind_repr;var ai=i.__embind_register_std_wstring;var ni=i.createNamedFunction;var oi=i.__embind_register_emval;var si=i._cos;var fi=i.throwUnboundTypeError;var li=i._pthread_self;var ui=i.craftInvokerFunction;var ci=i.__emval_decref;var di=i._sqrt;var hi=i.__embind_register_float;var bi=i.makeLegalFunctionName;var ki=i.___syscall54;var wi=i.___unlock;var mi=i.heap32VectorToArray;var pi=i._pthread_cleanup_pop;var Ei=i.whenDependentTypesAreResolved;var vi=i._exit;var _i=i.__embind_register_std_string;var gi=i.new_;var Si=i.___cxa_atexit;var yi=i.registerType;var Mi=i.___cxa_throw;var Ri=i.__exit;var Ti=i.___lock;var Ai=i.___syscall6;var Ci=i.___syscall5;var xi=i.ensureOverloadTable;var Fi=i.__embind_register_constant;var Pi=i._time;var Oi=i.requireFunction;var Di=i.runDestructors;var Ni=i.getTypeName;var Hi=i._atexit;var Ii=i.___syscall140;var Li=i.exposePublicSymbol;var ji=i._emscripten_asm_const_5;var Vi=i._emscripten_asm_const_4;var Ui=i.replacePublicSymbol;var Bi=i.___syscall145;var Wi=i.___syscall146;var zi=0.0;function Yi(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}M=C+-1|0;if((r|0)>1){l=0;d=b;h=b+(M<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{d=d+(C<<1)|0;h=h+(C<<1)|0}}}h=f+1179664|0;d=C+1|0;g=0-C|0;v=1-C|0;_=~C;E=i+4|0;e:do{if((R|0)>1){S=(M|0)>1;l=(n[f+4>>2]|0)+d|0;y=1;r=e+((i<<1)+2)|0;e=b+(d<<1)|0;d=0;i:while(1){if(S){p=1;m=r;w=d;while(1){do{if((o[m>>0]|0|0)>(s|0)){a[e>>1]=0;t[l>>0]=0;d=w}else{t[l>>0]=-1;d=a[e+(g<<1)>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}i=a[e+(v<<1)>>1]|0;b=i<<16>>16;d=a[e+(_<<1)>>1]|0;k=d<<16>>16;r=d<<16>>16>0;if(i<<16>>16<=0){if(r){a[e>>1]=d;d=k*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-3<<2)|0;if((n[r>>2]|0)<(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=a[e+-2>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(p|0)){d=w;break}n[d>>2]=p;d=w;break}else{d=w+1|0;if((w|0)>32767)break i;a[e>>1]=d;n[f+1179664+(w<<2)>>2]=d<<16>>16;w=w*7|0;n[f+1310736+(w<<2)>>2]=1;n[f+1310736+(w+1<<2)>>2]=p;n[f+1310736+(w+2<<2)>>2]=y;n[f+1310736+(w+3<<2)>>2]=p;n[f+1310736+(w+4<<2)>>2]=p;n[f+1310736+(w+5<<2)>>2]=y;n[f+1310736+(w+6<<2)>>2]=y;break}}if(r){d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+(k+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}r=a[e+-2>>1]|0;if(r<<16>>16<=0){a[e>>1]=i;d=b*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-4<<2)|0;if((n[r>>2]|0)>(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+y;d=w}}while(0);p=p+1|0;r=m+2|0;e=e+2|0;l=l+1|0;if((p|0)>=(M|0))break;else{m=r;w=d}}}y=y+1|0;if((y|0)>=(R|0)){b=d;A=52;break e}else{l=l+2|0;r=r+E|0;e=e+4|0}}io(3,3904,T);l=-1}else{b=0;A=52}}while(0);if((A|0)==52){e=f+12|0;if((b|0)<1)d=1;else{r=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(r|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((r|0)<(b|0)){r=r+1|0;h=h+4|0}else break}}i=f+8|0;l=d+-1|0;n[i>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[i>>2]|0))}if((b|0)>0){e=0;do{h=(n[f+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(r<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(r+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(r+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(r+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(r+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(r+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(r+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;e=e+1|0}while((e|0)<(b|0))}if((n[i>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[i>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function qi(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}M=C+-1|0;if((r|0)>1){l=0;d=b;h=b+(M<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{d=d+(C<<1)|0;h=h+(C<<1)|0}}}h=f+1179664|0;d=C+1|0;g=0-C|0;v=1-C|0;_=~C;E=(i<<1)+8|0;e:do{if((R|0)>1){S=(M|0)>1;l=(n[f+4>>2]|0)+d|0;y=1;r=e+((i<<2)+4)|0;e=b+(d<<1)|0;d=0;i:while(1){if(S){p=1;m=r;w=d;while(1){do{if((o[m+1>>0]|0|0)>(s|0)){a[e>>1]=0;t[l>>0]=0;d=w}else{t[l>>0]=-1;d=a[e+(g<<1)>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}i=a[e+(v<<1)>>1]|0;b=i<<16>>16;d=a[e+(_<<1)>>1]|0;k=d<<16>>16;r=d<<16>>16>0;if(i<<16>>16<=0){if(r){a[e>>1]=d;d=k*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-3<<2)|0;if((n[r>>2]|0)<(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=a[e+-2>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(p|0)){d=w;break}n[d>>2]=p;d=w;break}else{d=w+1|0;if((w|0)>32767)break i;a[e>>1]=d;n[f+1179664+(w<<2)>>2]=d<<16>>16;w=w*7|0;n[f+1310736+(w<<2)>>2]=1;n[f+1310736+(w+1<<2)>>2]=p;n[f+1310736+(w+2<<2)>>2]=y;n[f+1310736+(w+3<<2)>>2]=p;n[f+1310736+(w+4<<2)>>2]=p;n[f+1310736+(w+5<<2)>>2]=y;n[f+1310736+(w+6<<2)>>2]=y;break}}if(r){d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+(k+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}r=a[e+-2>>1]|0;if(r<<16>>16<=0){a[e>>1]=i;d=b*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-4<<2)|0;if((n[r>>2]|0)>(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+y;d=w}}while(0);p=p+1|0;r=m+4|0;e=e+2|0;l=l+1|0;if((p|0)>=(M|0))break;else{m=r;w=d}}}y=y+1|0;if((y|0)>=(R|0)){b=d;A=52;break e}else{l=l+2|0;r=r+E|0;e=e+4|0}}io(3,3904,T);l=-1}else{b=0;A=52}}while(0);if((A|0)==52){e=f+12|0;if((b|0)<1)d=1;else{r=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(r|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((r|0)<(b|0)){r=r+1|0;h=h+4|0}else break}}i=f+8|0;l=d+-1|0;n[i>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[i>>2]|0))}if((b|0)>0){e=0;do{h=(n[f+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(r<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(r+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(r+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(r+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(r+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(r+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(r+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;e=e+1|0}while((e|0)<(b|0))}if((n[i>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[i>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function Gi(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}M=C+-1|0;if((r|0)>1){l=0;d=b;h=b+(M<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{d=d+(C<<1)|0;h=h+(C<<1)|0}}}h=f+1179664|0;d=C+1|0;g=0-C|0;v=1-C|0;_=~C;E=(i<<1)+8|0;e:do{if((R|0)>1){S=(M|0)>1;l=(n[f+4>>2]|0)+d|0;y=1;r=e+((i<<2)+4)|0;e=b+(d<<1)|0;d=0;i:while(1){if(S){p=1;m=r;w=d;while(1){do{if((o[m>>0]|0|0)>(s|0)){a[e>>1]=0;t[l>>0]=0;d=w}else{t[l>>0]=-1;d=a[e+(g<<1)>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}i=a[e+(v<<1)>>1]|0;b=i<<16>>16;d=a[e+(_<<1)>>1]|0;k=d<<16>>16;r=d<<16>>16>0;if(i<<16>>16<=0){if(r){a[e>>1]=d;d=k*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-3<<2)|0;if((n[r>>2]|0)<(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=a[e+-2>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(p|0)){d=w;break}n[d>>2]=p;d=w;break}else{d=w+1|0;if((w|0)>32767)break i;a[e>>1]=d;n[f+1179664+(w<<2)>>2]=d<<16>>16;w=w*7|0;n[f+1310736+(w<<2)>>2]=1;n[f+1310736+(w+1<<2)>>2]=p;n[f+1310736+(w+2<<2)>>2]=y;n[f+1310736+(w+3<<2)>>2]=p;n[f+1310736+(w+4<<2)>>2]=p;n[f+1310736+(w+5<<2)>>2]=y;n[f+1310736+(w+6<<2)>>2]=y;break}}if(r){d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+(k+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}r=a[e+-2>>1]|0;if(r<<16>>16<=0){a[e>>1]=i;d=b*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-4<<2)|0;if((n[r>>2]|0)>(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+y;d=w}}while(0);p=p+1|0;r=m+4|0;e=e+2|0;l=l+1|0;if((p|0)>=(M|0))break;else{m=r;w=d}}}y=y+1|0;if((y|0)>=(R|0)){b=d;A=52;break e}else{l=l+2|0;r=r+E|0;e=e+4|0}}io(3,3904,T);l=-1}else{b=0;A=52}}while(0);if((A|0)==52){e=f+12|0;if((b|0)<1)d=1;else{r=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(r|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((r|0)<(b|0)){r=r+1|0;h=h+4|0}else break}}i=f+8|0;l=d+-1|0;n[i>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[i>>2]|0))}if((b|0)>0){e=0;do{h=(n[f+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(r<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(r+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(r+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(r+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(r+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(r+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(r+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;e=e+1|0}while((e|0)<(b|0))}if((n[i>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[i>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function Ki(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l*3|0)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){do{if(((o[p+1>>0]|0)+(o[p>>0]|0)+(o[p+2>>0]|0)|0)>(R|0)){a[e>>1]=0;t[l>>0]=0;s=m}else{t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}}while(0);E=E+1|0;h=p+3|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+6|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Xi(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<1)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){k=o[p>>0]|0;w=o[p+1>>0]|0;do{if(((k&248)+10+(k<<5&224)+(w>>>3&28)+(w<<3&248)|0)>(R|0)){a[e>>1]=0;t[l>>0]=0;s=m}else{t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}}while(0);E=E+1|0;h=p+2|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+4|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Ji(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<2)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){do{if(((o[p+1>>0]|0)+(o[p>>0]|0)+(o[p+2>>0]|0)|0)>(R|0)){a[e>>1]=0;t[l>>0]=0;s=m}else{t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}}while(0);E=E+1|0;h=p+4|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+8|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Zi(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<1)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){w=o[p>>0]|0;do{if(((w&240)+24+(w<<4&240)+((o[p+1>>0]|0)&240)|0)>(R|0)){a[e>>1]=0;t[l>>0]=0;s=m}else{t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}}while(0);E=E+1|0;h=p+2|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+4|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Qi(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<1)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){k=o[p>>0]|0;w=o[p+1>>0]|0;do{if(((k&248)+12+(k<<5&224)+(w>>>3&24)+(w<<2&248)|0)>(R|0)){a[e>>1]=0;t[l>>0]=0;s=m}else{t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}}while(0);E=E+1|0;h=p+2|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+4|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function $i(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<2)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){do{if(((o[p+2>>0]|0)+(o[p+1>>0]|0)+(o[p+3>>0]|0)|0)>(R|0)){a[e>>1]=0;t[l>>0]=0;s=m}else{t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}}while(0);E=E+1|0;h=p+4|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+8|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function er(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;l=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;k=(n[f+4>>2]|0)+l|0;M=1;e=e+l|0;b=b+(l<<1)|0;d=0;i:while(1){if(y){l=k;v=1;E=e;p=d;while(1){do{if((o[E>>0]|0|0)>(s|0)){a[b>>1]=0;t[l>>0]=0;d=p}else{t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}}while(0);v=v+1|0;e=E+1|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}else l=k;M=M+1|0;if((M|0)>=(T|0)){w=d;C=52;break e}else{k=l+2|0;e=e+2|0;b=b+4|0}}io(3,3904,A);l=-1}else{w=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((w|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(w|0)){e=e+1|0;h=h+4|0}else break}}k=f+8|0;l=d+-1|0;n[k>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[k>>2]|0))}if((w|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(w|0))}if((n[k>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[k>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function ir(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;l=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;k=(n[f+4>>2]|0)+l|0;M=1;e=e+(l<<1)|0;b=b+(l<<1)|0;d=0;i:while(1){if(y){l=k;v=1;E=e;p=d;while(1){do{if((o[E+1>>0]|0|0)>(s|0)){a[b>>1]=0;t[l>>0]=0;d=p}else{t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}}while(0);v=v+1|0;e=E+2|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}else l=k;M=M+1|0;if((M|0)>=(T|0)){w=d;C=52;break e}else{k=l+2|0;e=e+4|0;b=b+4|0}}io(3,3904,A);l=-1}else{w=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((w|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(w|0)){e=e+1|0;h=h+4|0}else break}}k=f+8|0;l=d+-1|0;n[k>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[k>>2]|0))}if((w|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(w|0))}if((n[k>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[k>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function rr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;l=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;k=(n[f+4>>2]|0)+l|0;M=1;e=e+(l<<1)|0;b=b+(l<<1)|0;d=0;i:while(1){if(y){l=k;v=1;E=e;p=d;while(1){do{if((o[E>>0]|0|0)>(s|0)){a[b>>1]=0;t[l>>0]=0;d=p}else{t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}}while(0);v=v+1|0;e=E+2|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}else l=k;M=M+1|0;if((M|0)>=(T|0)){w=d;C=52;break e}else{k=l+2|0;e=e+4|0;b=b+4|0}}io(3,3904,A);l=-1}else{w=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((w|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(w|0)){e=e+1|0;h=h+4|0}else break}}k=f+8|0;l=d+-1|0;n[k>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[k>>2]|0))}if((w|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(w|0))}if((n[k>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[k>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function tr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;d=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;l=(n[f+4>>2]|0)+d|0;M=1;e=e+d|0;b=b+(d<<1)|0;s=s+d|0;d=0;i:while(1){if(y){v=1;E=e;p=d;while(1){do{if((o[E>>0]|0)>(o[s>>0]|0)){a[b>>1]=0;t[l>>0]=0;d=p}else{t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}}while(0);v=v+1|0;e=E+1|0;s=s+1|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}M=M+1|0;if((M|0)>=(T|0)){k=d;C=52;break e}else{l=l+2|0;e=e+2|0;b=b+4|0;s=s+2|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((k|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(k|0)){e=e+1|0;h=h+4|0}else break}}s=f+8|0;l=d+-1|0;n[s>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[s>>2]|0))}if((k|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(k|0))}if((n[s>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[s>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function ar(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i*3|0)+12|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i*6|0)+6)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){do{if(((o[w+1>>0]|0)+(o[w>>0]|0)+(o[w+2>>0]|0)|0)>(y|0)){t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}else{a[r>>1]=0;t[l>>0]=0;s=k}}while(0);m=m+1|0;h=w+6|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function nr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<1)+8|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<2)+4)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){i=o[w>>0]|0;b=o[w+1>>0]|0;do{if(((i&248)+10+(i<<5&224)+(b>>>3&28)+(b<<3&248)|0)>(y|0)){t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}else{a[r>>1]=0;t[l>>0]=0;s=k}}while(0);m=m+1|0;h=w+4|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function or(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<2)+16|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<3)+8)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){do{if(((o[w+1>>0]|0)+(o[w>>0]|0)+(o[w+2>>0]|0)|0)>(y|0)){t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}else{a[r>>1]=0;t[l>>0]=0;s=k}}while(0);m=m+1|0;h=w+8|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function sr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<1)+8|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<2)+4)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){b=o[w>>0]|0;do{if(((b&240)+24+(b<<4&240)+((o[w+1>>0]|0)&240)|0)>(y|0)){t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}else{a[r>>1]=0;t[l>>0]=0;s=k}}while(0);m=m+1|0;h=w+4|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function fr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<1)+8|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<2)+4)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){i=o[w>>0]|0;b=o[w+1>>0]|0;do{if(((i&248)+12+(i<<5&224)+(b>>>3&24)+(b<<2&248)|0)>(y|0)){t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}else{a[r>>1]=0;t[l>>0]=0;s=k}}while(0);m=m+1|0;h=w+4|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function lr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<2)+16|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<3)+8)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){do{if(((o[w+2>>0]|0)+(o[w+1>>0]|0)+(o[w+3>>0]|0)|0)>(y|0)){t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}else{a[r>>1]=0;t[l>>0]=0;s=k}}while(0);m=m+1|0;h=w+8|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function ur(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}M=C+-1|0;if((r|0)>1){l=0;d=b;h=b+(M<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{d=d+(C<<1)|0;h=h+(C<<1)|0}}}h=f+1179664|0;d=C+1|0;g=0-C|0;v=1-C|0;_=~C;E=i+4|0;e:do{if((R|0)>1){S=(M|0)>1;l=(n[f+4>>2]|0)+d|0;y=1;r=e+((i<<1)+2)|0;e=b+(d<<1)|0;d=0;i:while(1){if(S){p=1;m=r;w=d;while(1){do{if((o[m>>0]|0|0)>(s|0)){t[l>>0]=-1;d=a[e+(g<<1)>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}i=a[e+(v<<1)>>1]|0;b=i<<16>>16;d=a[e+(_<<1)>>1]|0;k=d<<16>>16;r=d<<16>>16>0;if(i<<16>>16<=0){if(r){a[e>>1]=d;d=k*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-3<<2)|0;if((n[r>>2]|0)<(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=a[e+-2>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(p|0)){d=w;break}n[d>>2]=p;d=w;break}else{d=w+1|0;if((w|0)>32767)break i;a[e>>1]=d;n[f+1179664+(w<<2)>>2]=d<<16>>16;w=w*7|0;n[f+1310736+(w<<2)>>2]=1;n[f+1310736+(w+1<<2)>>2]=p;n[f+1310736+(w+2<<2)>>2]=y;n[f+1310736+(w+3<<2)>>2]=p;n[f+1310736+(w+4<<2)>>2]=p;n[f+1310736+(w+5<<2)>>2]=y;n[f+1310736+(w+6<<2)>>2]=y;break}}if(r){d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+(k+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}r=a[e+-2>>1]|0;if(r<<16>>16<=0){a[e>>1]=i;d=b*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-4<<2)|0;if((n[r>>2]|0)>(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+y;d=w}else{a[e>>1]=0;t[l>>0]=0;d=w}}while(0);p=p+1|0;r=m+2|0;e=e+2|0;l=l+1|0;if((p|0)>=(M|0))break;else{m=r;w=d}}}y=y+1|0;if((y|0)>=(R|0)){b=d;A=52;break e}else{l=l+2|0;r=r+E|0;e=e+4|0}}io(3,3904,T);l=-1}else{b=0;A=52}}while(0);if((A|0)==52){e=f+12|0;if((b|0)<1)d=1;else{r=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(r|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((r|0)<(b|0)){r=r+1|0;h=h+4|0}else break}}i=f+8|0;l=d+-1|0;n[i>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[i>>2]|0))}if((b|0)>0){e=0;do{h=(n[f+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(r<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(r+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(r+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(r+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(r+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(r+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(r+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;e=e+1|0}while((e|0)<(b|0))}if((n[i>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[i>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function cr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}M=C+-1|0;if((r|0)>1){l=0;d=b;h=b+(M<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{d=d+(C<<1)|0;h=h+(C<<1)|0}}}h=f+1179664|0;d=C+1|0;g=0-C|0;v=1-C|0;_=~C;E=(i<<1)+8|0;e:do{if((R|0)>1){S=(M|0)>1;l=(n[f+4>>2]|0)+d|0;y=1;r=e+((i<<2)+4)|0;e=b+(d<<1)|0;d=0;i:while(1){if(S){p=1;m=r;w=d;while(1){do{if((o[m+1>>0]|0|0)>(s|0)){t[l>>0]=-1;d=a[e+(g<<1)>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}i=a[e+(v<<1)>>1]|0;b=i<<16>>16;d=a[e+(_<<1)>>1]|0;k=d<<16>>16;r=d<<16>>16>0;if(i<<16>>16<=0){if(r){a[e>>1]=d;d=k*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-3<<2)|0;if((n[r>>2]|0)<(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=a[e+-2>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(p|0)){d=w;break}n[d>>2]=p;d=w;break}else{d=w+1|0;if((w|0)>32767)break i;a[e>>1]=d;n[f+1179664+(w<<2)>>2]=d<<16>>16;w=w*7|0;n[f+1310736+(w<<2)>>2]=1;n[f+1310736+(w+1<<2)>>2]=p;n[f+1310736+(w+2<<2)>>2]=y;n[f+1310736+(w+3<<2)>>2]=p;n[f+1310736+(w+4<<2)>>2]=p;n[f+1310736+(w+5<<2)>>2]=y;n[f+1310736+(w+6<<2)>>2]=y;break}}if(r){d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+(k+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}r=a[e+-2>>1]|0;if(r<<16>>16<=0){a[e>>1]=i;d=b*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-4<<2)|0;if((n[r>>2]|0)>(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+y;d=w}else{a[e>>1]=0;t[l>>0]=0;d=w}}while(0);p=p+1|0;r=m+4|0;e=e+2|0;l=l+1|0;if((p|0)>=(M|0))break;else{m=r;w=d}}}y=y+1|0;if((y|0)>=(R|0)){b=d;A=52;break e}else{l=l+2|0;r=r+E|0;e=e+4|0}}io(3,3904,T);l=-1}else{b=0;A=52}}while(0);if((A|0)==52){e=f+12|0;if((b|0)<1)d=1;else{r=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(r|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((r|0)<(b|0)){r=r+1|0;h=h+4|0}else break}}i=f+8|0;l=d+-1|0;n[i>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[i>>2]|0))}if((b|0)>0){e=0;do{h=(n[f+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(r<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(r+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(r+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(r+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(r+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(r+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(r+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;e=e+1|0}while((e|0)<(b|0))}if((n[i>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[i>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function dr(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}M=C+-1|0;if((r|0)>1){l=0;d=b;h=b+(M<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{d=d+(C<<1)|0;h=h+(C<<1)|0}}}h=f+1179664|0;d=C+1|0;g=0-C|0;v=1-C|0;_=~C;E=(i<<1)+8|0;e:do{if((R|0)>1){S=(M|0)>1;l=(n[f+4>>2]|0)+d|0;y=1;r=e+((i<<2)+4)|0;e=b+(d<<1)|0;d=0;i:while(1){if(S){p=1;m=r;w=d;while(1){do{if((o[m>>0]|0|0)>(s|0)){t[l>>0]=-1;d=a[e+(g<<1)>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}i=a[e+(v<<1)>>1]|0;b=i<<16>>16;d=a[e+(_<<1)>>1]|0;k=d<<16>>16;r=d<<16>>16>0;if(i<<16>>16<=0){if(r){a[e>>1]=d;d=k*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-3<<2)|0;if((n[r>>2]|0)<(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=a[e+-2>>1]|0;if(d<<16>>16>0){a[e>>1]=d;d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(p|0)){d=w;break}n[d>>2]=p;d=w;break}else{d=w+1|0;if((w|0)>32767)break i;a[e>>1]=d;n[f+1179664+(w<<2)>>2]=d<<16>>16;w=w*7|0;n[f+1310736+(w<<2)>>2]=1;n[f+1310736+(w+1<<2)>>2]=p;n[f+1310736+(w+2<<2)>>2]=y;n[f+1310736+(w+3<<2)>>2]=p;n[f+1310736+(w+4<<2)>>2]=p;n[f+1310736+(w+5<<2)>>2]=y;n[f+1310736+(w+6<<2)>>2]=y;break}}if(r){d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+(k+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=f+1310736+(d+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+y;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}r=a[e+-2>>1]|0;if(r<<16>>16<=0){a[e>>1]=i;d=b*7|0;r=f+1310736+(d+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=f+1310736+(d+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+p;r=f+1310736+(d+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+y;r=f+1310736+(d+-4<<2)|0;if((n[r>>2]|0)>(p|0))n[r>>2]=p;n[f+1310736+(d+-1<<2)>>2]=y;d=w;break}d=n[f+1179664+(b+-1<<2)>>2]|0;b=n[f+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((d|0)>(b|0)){a[e>>1]=b;if((w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(d|0))n[i>>2]=b;r=r+1|0;if((r|0)>=(w|0)){d=b;break}else i=i+4|0}}else d=b}else{a[e>>1]=d;if((d|0)<(b|0)&(w|0)>0){r=0;i=h;while(1){if((n[i>>2]|0)==(b|0))n[i>>2]=d;r=r+1|0;if((r|0)>=(w|0))break;else i=i+4|0}}}d=(d<<16>>16)*7|0;k=f+1310736+(d+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=f+1310736+(d+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+y;d=w}else{a[e>>1]=0;t[l>>0]=0;d=w}}while(0);p=p+1|0;r=m+4|0;e=e+2|0;l=l+1|0;if((p|0)>=(M|0))break;else{m=r;w=d}}}y=y+1|0;if((y|0)>=(R|0)){b=d;A=52;break e}else{l=l+2|0;r=r+E|0;e=e+4|0}}io(3,3904,T);l=-1}else{b=0;A=52}}while(0);if((A|0)==52){e=f+12|0;if((b|0)<1)d=1;else{r=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(r|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((r|0)<(b|0)){r=r+1|0;h=h+4|0}else break}}i=f+8|0;l=d+-1|0;n[i>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[i>>2]|0))}if((b|0)>0){e=0;do{h=(n[f+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(r<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(r+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(r+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(r+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(r+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(r+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(r+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;e=e+1|0}while((e|0)<(b|0))}if((n[i>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[i>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function hr(e){e=e|0;var i=0;i=c;c=c+e|0;c=c+15&-16;return i|0}function br(){return c|0}function kr(e){e=e|0;c=e}function wr(e,i){e=e|0;i=i|0;c=e;d=i}function mr(e,i){e=e|0;i=i|0;if(!m){m=e;p=i}}function pr(e){e=e|0;t[h>>0]=t[e>>0];t[h+1>>0]=t[e+1>>0];t[h+2>>0]=t[e+2>>0];t[h+3>>0]=t[e+3>>0]}function Er(e){e=e|0;t[h>>0]=t[e>>0];t[h+1>>0]=t[e+1>>0];t[h+2>>0]=t[e+2>>0];t[h+3>>0]=t[e+3>>0];t[h+4>>0]=t[e+4>>0];t[h+5>>0]=t[e+5>>0];t[h+6>>0]=t[e+6>>0];t[h+7>>0]=t[e+7>>0]}function vr(e){e=e|0;P=e}function _r(){return P|0}function gr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i*3|0)+12|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i*6|0)+6)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(g|0)){a[b>>1]=0;f=h}else{f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}}while(0);k=k+1|0;t=t+6|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Sr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<1)+8|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<2)+4)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){e=o[t>>0]|0;i=o[t+1>>0]|0;do{if(((e&248)+10+(e<<5&224)+(i>>>3&28)+(i<<3&248)|0)>(g|0)){a[b>>1]=0;f=h}else{f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}}while(0);k=k+1|0;t=t+4|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function yr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<2)+16|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<3)+8)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(g|0)){a[b>>1]=0;f=h}else{f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}}while(0);k=k+1|0;t=t+8|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Mr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<1)+8|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<2)+4)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){i=o[t>>0]|0;do{if(((i&240)+24+(i<<4&240)+((o[t+1>>0]|0)&240)|0)>(g|0)){a[b>>1]=0;f=h}else{f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}}while(0);k=k+1|0;t=t+4|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Rr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<1)+8|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<2)+4)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){e=o[t>>0]|0;i=o[t+1>>0]|0;do{if(((e&248)+12+(e<<5&224)+(i>>>3&24)+(i<<2&248)|0)>(g|0)){a[b>>1]=0;f=h}else{f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}}while(0);k=k+1|0;t=t+4|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Tr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<2)+16|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<3)+8)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){do{if(((o[t+2>>0]|0)+(o[t+1>>0]|0)+(o[t+3>>0]|0)|0)>(g|0)){a[b>>1]=0;f=h}else{f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}}while(0);k=k+1|0;t=t+8|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Ar(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}S=T+-1|0;if((r|0)>1){f=0;l=h;d=h+(S<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{l=l+(T<<1)|0;d=d+(T<<1)|0}}}d=s+1179664|0;v=0-T|0;p=1-T|0;E=~T;m=i+4|0;e:do{if((y|0)>1){_=(S|0)>1;g=1;l=e+((i<<1)+2)|0;r=h+(T+1<<1)|0;f=0;i:while(1){if(_){w=1;k=r;b=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){a[k>>1]=0;f=b}else{f=a[k+(v<<1)>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}e=a[k+(p<<1)>>1]|0;i=e<<16>>16;f=a[k+(E<<1)>>1]|0;h=f<<16>>16;r=f<<16>>16>0;if(e<<16>>16<=0){if(r){a[k>>1]=f;f=h*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-3<<2)|0;if((n[r>>2]|0)<(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=a[k+-2>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(w|0)){f=b;break}n[f>>2]=w;f=b;break}else{f=b+1|0;if((b|0)>32767)break i;a[k>>1]=f;n[s+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;n[s+1310736+(b<<2)>>2]=1;n[s+1310736+(b+1<<2)>>2]=w;n[s+1310736+(b+2<<2)>>2]=g;n[s+1310736+(b+3<<2)>>2]=w;n[s+1310736+(b+4<<2)>>2]=w;n[s+1310736+(b+5<<2)>>2]=g;n[s+1310736+(b+6<<2)>>2]=g;break}}if(r){f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+(h+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}r=a[k+-2>>1]|0;if(r<<16>>16<=0){a[k>>1]=e;f=i*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-4<<2)|0;if((n[r>>2]|0)>(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=b}}while(0);w=w+1|0;l=l+2|0;r=k+2|0;if((w|0)>=(S|0))break;else{k=r;b=f}}}g=g+1|0;if((g|0)>=(y|0)){h=f;R=52;break e}else{l=l+m|0;r=r+4|0}}io(3,3904,M);f=-1}else{h=0;R=52}}while(0);if((R|0)==52){e=s+12|0;if((h|0)<1)l=1;else{r=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(r|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((r|0)<(h|0)){r=r+1|0;d=d+4|0}else break}}i=s+8|0;f=l+-1|0;n[i>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[i>>2]|0))}if((h|0)>0){e=0;do{d=(n[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(r<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(r+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(r+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(r+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(r+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(r+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(r+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;e=e+1|0}while((e|0)<(h|0))}if((n[i>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[i>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Cr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}S=T+-1|0;if((r|0)>1){f=0;l=h;d=h+(S<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{l=l+(T<<1)|0;d=d+(T<<1)|0}}}d=s+1179664|0;v=0-T|0;p=1-T|0;E=~T;m=(i<<1)+8|0;e:do{if((y|0)>1){_=(S|0)>1;g=1;l=e+((i<<2)+4)|0;r=h+(T+1<<1)|0;f=0;i:while(1){if(_){w=1;k=r;b=f;while(1){do{if((o[l+1>>0]|0|0)>(t|0)){a[k>>1]=0;f=b}else{f=a[k+(v<<1)>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}e=a[k+(p<<1)>>1]|0;i=e<<16>>16;f=a[k+(E<<1)>>1]|0;h=f<<16>>16;r=f<<16>>16>0;if(e<<16>>16<=0){if(r){a[k>>1]=f;f=h*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-3<<2)|0;if((n[r>>2]|0)<(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=a[k+-2>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(w|0)){f=b;break}n[f>>2]=w;f=b;break}else{f=b+1|0;if((b|0)>32767)break i;a[k>>1]=f;n[s+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;n[s+1310736+(b<<2)>>2]=1;n[s+1310736+(b+1<<2)>>2]=w;n[s+1310736+(b+2<<2)>>2]=g;n[s+1310736+(b+3<<2)>>2]=w;n[s+1310736+(b+4<<2)>>2]=w;n[s+1310736+(b+5<<2)>>2]=g;n[s+1310736+(b+6<<2)>>2]=g;break}}if(r){f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+(h+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}r=a[k+-2>>1]|0;if(r<<16>>16<=0){a[k>>1]=e;f=i*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-4<<2)|0;if((n[r>>2]|0)>(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=b}}while(0);w=w+1|0;l=l+4|0;r=k+2|0;if((w|0)>=(S|0))break;else{k=r;b=f}}}g=g+1|0;if((g|0)>=(y|0)){h=f;R=52;break e}else{l=l+m|0;r=r+4|0}}io(3,3904,M);f=-1}else{h=0;R=52}}while(0);if((R|0)==52){e=s+12|0;if((h|0)<1)l=1;else{r=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(r|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((r|0)<(h|0)){r=r+1|0;d=d+4|0}else break}}i=s+8|0;f=l+-1|0;n[i>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[i>>2]|0))}if((h|0)>0){e=0;do{d=(n[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(r<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(r+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(r+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(r+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(r+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(r+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(r+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;e=e+1|0}while((e|0)<(h|0))}if((n[i>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[i>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function xr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}S=T+-1|0;if((r|0)>1){f=0;l=h;d=h+(S<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{l=l+(T<<1)|0;d=d+(T<<1)|0}}}d=s+1179664|0;v=0-T|0;p=1-T|0;E=~T;m=(i<<1)+8|0;e:do{if((y|0)>1){_=(S|0)>1;g=1;l=e+((i<<2)+4)|0;r=h+(T+1<<1)|0;f=0;i:while(1){if(_){w=1;k=r;b=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){a[k>>1]=0;f=b}else{f=a[k+(v<<1)>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}e=a[k+(p<<1)>>1]|0;i=e<<16>>16;f=a[k+(E<<1)>>1]|0;h=f<<16>>16;r=f<<16>>16>0;if(e<<16>>16<=0){if(r){a[k>>1]=f;f=h*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-3<<2)|0;if((n[r>>2]|0)<(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=a[k+-2>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(w|0)){f=b;break}n[f>>2]=w;f=b;break}else{f=b+1|0;if((b|0)>32767)break i;a[k>>1]=f;n[s+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;n[s+1310736+(b<<2)>>2]=1;n[s+1310736+(b+1<<2)>>2]=w;n[s+1310736+(b+2<<2)>>2]=g;n[s+1310736+(b+3<<2)>>2]=w;n[s+1310736+(b+4<<2)>>2]=w;n[s+1310736+(b+5<<2)>>2]=g;n[s+1310736+(b+6<<2)>>2]=g;break}}if(r){f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+(h+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}r=a[k+-2>>1]|0;if(r<<16>>16<=0){a[k>>1]=e;f=i*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-4<<2)|0;if((n[r>>2]|0)>(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=b}}while(0);w=w+1|0;l=l+4|0;r=k+2|0;if((w|0)>=(S|0))break;else{k=r;b=f}}}g=g+1|0;if((g|0)>=(y|0)){h=f;R=52;break e}else{l=l+m|0;r=r+4|0}}io(3,3904,M);f=-1}else{h=0;R=52}}while(0);if((R|0)==52){e=s+12|0;if((h|0)<1)l=1;else{r=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(r|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((r|0)<(h|0)){r=r+1|0;d=d+4|0}else break}}i=s+8|0;f=l+-1|0;n[i>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[i>>2]|0))}if((h|0)>0){e=0;do{d=(n[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(r<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(r+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(r+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(r+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(r+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(r+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(r+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;e=e+1|0}while((e|0)<(h|0))}if((n[i>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[i>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Fr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f*3|0)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(y|0)){a[w>>1]=0;f=k}else{f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}}while(0);m=m+1|0;t=t+3|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+6|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Pr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<1)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){h=o[t>>0]|0;b=o[t+1>>0]|0;do{if(((h&248)+10+(h<<5&224)+(b>>>3&28)+(b<<3&248)|0)>(y|0)){a[w>>1]=0;f=k}else{f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}}while(0);m=m+1|0;t=t+2|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+4|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Or(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<2)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(y|0)){a[w>>1]=0;f=k}else{f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}}while(0);m=m+1|0;t=t+4|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+8|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Dr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<1)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){b=o[t>>0]|0;do{if(((b&240)+24+(b<<4&240)+((o[t+1>>0]|0)&240)|0)>(y|0)){a[w>>1]=0;f=k}else{f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}}while(0);m=m+1|0;t=t+2|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+4|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Nr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<1)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){h=o[t>>0]|0;b=o[t+1>>0]|0;do{if(((h&248)+12+(h<<5&224)+(b>>>3&24)+(b<<2&248)|0)>(y|0)){a[w>>1]=0;f=k}else{f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}}while(0);m=m+1|0;t=t+2|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+4|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Hr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<2)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){do{if(((o[t+2>>0]|0)+(o[t+1>>0]|0)+(o[t+3>>0]|0)|0)>(y|0)){a[w>>1]=0;f=k}else{f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}}while(0);m=m+1|0;t=t+4|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+8|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Ir(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+f|0;e=h+(f<<1)|0;f=0;i:while(1){if(g){p=1;m=e;w=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){a[m>>1]=0;f=w}else{f=a[m+(_<<1)>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}h=a[m+(E<<1)>>1]|0;b=h<<16>>16;f=a[m+(v<<1)>>1]|0;k=f<<16>>16;e=f<<16>>16>0;if(h<<16>>16<=0){if(e){a[m>>1]=f;f=k*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-3<<2)|0;if((n[e>>2]|0)<(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[m>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(e){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16<=0){a[m>>1]=h;f=b*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-4<<2)|0;if((n[e>>2]|0)>(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}b=n[s+1179664+(b+-1<<2)>>2]|0;f=n[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((b|0)>(f|0)){a[m>>1]=f;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}else{a[m>>1]=b;if((b|0)<(f|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}}while(0);p=p+1|0;l=l+1|0;e=m+2|0;if((p|0)>=(y|0))break;else{m=e;w=f}}}S=S+1|0;if((S|0)>=(M|0)){k=f;T=52;break e}else{l=l+2|0;e=e+4|0}}io(3,3904,R);f=-1}else{k=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((k|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(k|0)){e=e+1|0;d=d+4|0}else break}}b=s+8|0;f=l+-1|0;n[b>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[b>>2]|0))}if((k|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(k|0))}if((n[b>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[b>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Lr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+(f<<1)|0;e=h+(f<<1)|0;f=0;i:while(1){if(g){p=1;m=e;w=f;while(1){do{if((o[l+1>>0]|0|0)>(t|0)){a[m>>1]=0;f=w}else{f=a[m+(_<<1)>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}h=a[m+(E<<1)>>1]|0;b=h<<16>>16;f=a[m+(v<<1)>>1]|0;k=f<<16>>16;e=f<<16>>16>0;if(h<<16>>16<=0){if(e){a[m>>1]=f;f=k*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-3<<2)|0;if((n[e>>2]|0)<(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[m>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(e){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}e=a[m+-2>>1]|0;if(e<<16>>16<=0){a[m>>1]=h;f=b*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-4<<2)|0;if((n[e>>2]|0)>(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}}while(0);p=p+1|0;l=l+2|0;e=m+2|0;if((p|0)>=(y|0))break;else{m=e;w=f}}}S=S+1|0;if((S|0)>=(M|0)){k=f;T=52;break e}else{l=l+4|0;e=e+4|0}}io(3,3904,R);f=-1}else{k=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((k|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(k|0)){e=e+1|0;d=d+4|0}else break}}b=s+8|0;f=l+-1|0;n[b>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[b>>2]|0))}if((k|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(k|0))}if((n[b>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[b>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function jr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+(f<<1)|0;e=h+(f<<1)|0;f=0;i:while(1){if(g){p=1;m=e;w=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){a[m>>1]=0;f=w}else{f=a[m+(_<<1)>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}h=a[m+(E<<1)>>1]|0;b=h<<16>>16;f=a[m+(v<<1)>>1]|0;k=f<<16>>16;e=f<<16>>16>0;if(h<<16>>16<=0){if(e){a[m>>1]=f;f=k*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-3<<2)|0;if((n[e>>2]|0)<(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[m>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(e){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16<=0){a[m>>1]=h;f=b*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-4<<2)|0;if((n[e>>2]|0)>(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}b=n[s+1179664+(b+-1<<2)>>2]|0;f=n[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((b|0)>(f|0)){a[m>>1]=f;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}else{a[m>>1]=b;if((b|0)<(f|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}}while(0);p=p+1|0;l=l+2|0;e=m+2|0;if((p|0)>=(y|0))break;else{m=e;w=f}}}S=S+1|0;if((S|0)>=(M|0)){k=f;T=52;break e}else{l=l+4|0;e=e+4|0}}io(3,3904,R);f=-1}else{k=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((k|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(k|0)){e=e+1|0;d=d+4|0}else break}}b=s+8|0;f=l+-1|0;n[b>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[b>>2]|0))}if((k|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(k|0))}if((n[b>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[b>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Vr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+f|0;e=h+(f<<1)|0;h=t+f|0;f=0;i:while(1){if(g){p=1;m=l;w=f;while(1){do{if((o[m>>0]|0)>(o[h>>0]|0)){a[e>>1]=0;f=w}else{f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}t=a[e+(E<<1)>>1]|0;b=t<<16>>16;f=a[e+(v<<1)>>1]|0;k=f<<16>>16;l=f<<16>>16>0;if(t<<16>>16<=0){if(l){a[e>>1]=f;f=k*7|0;l=s+1310736+(f+-7<<2)|0;n[l>>2]=(n[l>>2]|0)+1;l=s+1310736+(f+-6<<2)|0;n[l>>2]=(n[l>>2]|0)+p;l=s+1310736+(f+-5<<2)|0;n[l>>2]=(n[l>>2]|0)+S;l=s+1310736+(f+-3<<2)|0;if((n[l>>2]|0)<(p|0))n[l>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[e>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(l){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[e>>1]=b;if((w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(f|0))n[t>>2]=b;l=l+1|0;if((l|0)>=(w|0)){f=b;break}else t=t+4|0}}else f=b}else{a[e>>1]=f;if((f|0)<(b|0)&(w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(b|0))n[t>>2]=f;l=l+1|0;if((l|0)>=(w|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[e+-2>>1]|0;if(f<<16>>16<=0){a[e>>1]=t;f=b*7|0;l=s+1310736+(f+-7<<2)|0;n[l>>2]=(n[l>>2]|0)+1;l=s+1310736+(f+-6<<2)|0;n[l>>2]=(n[l>>2]|0)+p;l=s+1310736+(f+-5<<2)|0;n[l>>2]=(n[l>>2]|0)+S;l=s+1310736+(f+-4<<2)|0;if((n[l>>2]|0)>(p|0))n[l>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}b=n[s+1179664+(b+-1<<2)>>2]|0;f=n[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((b|0)>(f|0)){a[e>>1]=f;if((w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(b|0))n[t>>2]=f;l=l+1|0;if((l|0)>=(w|0))break;else t=t+4|0}}}else{a[e>>1]=b;if((b|0)<(f|0)&(w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(f|0))n[t>>2]=b;l=l+1|0;if((l|0)>=(w|0)){f=b;break}else t=t+4|0}}else f=b}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}}while(0);p=p+1|0;l=m+1|0;h=h+1|0;e=e+2|0;if((p|0)>=(y|0))break;else{m=l;w=f}}}S=S+1|0;if((S|0)>=(M|0)){b=f;T=52;break e}else{l=l+2|0;e=e+4|0;h=h+2|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((b|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(b|0)){e=e+1|0;d=d+4|0}else break}}t=s+8|0;f=l+-1|0;n[t>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[t>>2]|0))}if((b|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(b|0))}if((n[t>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[t>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Ur(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i*3|0)+12|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i*6|0)+6)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(g|0)){f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}else{a[b>>1]=0;f=h}}while(0);k=k+1|0;t=t+6|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Br(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<1)+8|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<2)+4)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){e=o[t>>0]|0;i=o[t+1>>0]|0;do{if(((e&248)+10+(e<<5&224)+(i>>>3&28)+(i<<3&248)|0)>(g|0)){f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}else{a[b>>1]=0;f=h}}while(0);k=k+1|0;t=t+4|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Wr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<2)+16|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<3)+8)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(g|0)){f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}else{a[b>>1]=0;f=h}}while(0);k=k+1|0;t=t+8|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function zr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<1)+8|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<2)+4)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){i=o[t>>0]|0;do{if(((i&240)+24+(i<<4&240)+((o[t+1>>0]|0)&240)|0)>(g|0)){f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}else{a[b>>1]=0;f=h}}while(0);k=k+1|0;t=t+4|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Yr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<1)+8|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<2)+4)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){e=o[t>>0]|0;i=o[t+1>>0]|0;do{if(((e&248)+12+(e<<5&224)+(i>>>3&24)+(i<<2&248)|0)>(g|0)){f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}else{a[b>>1]=0;f=h}}while(0);k=k+1|0;t=t+4|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function qr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}g=t*3|0;S=T+-1|0;if((r|0)>1){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{t=t+(T<<1)|0;l=l+(T<<1)|0}}}l=s+1179664|0;E=0-T|0;m=1-T|0;p=~T;w=(i<<2)+16|0;e:do{if((y|0)>1){v=(S|0)>1;_=1;t=e+((i<<3)+8)|0;d=h+(T+1<<1)|0;f=0;i:while(1){if(v){k=1;b=d;h=f;while(1){do{if(((o[t+2>>0]|0)+(o[t+1>>0]|0)+(o[t+3>>0]|0)|0)>(g|0)){f=a[b+(E<<1)>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}r=a[b+(m<<1)>>1]|0;e=r<<16>>16;f=a[b+(p<<1)>>1]|0;i=f<<16>>16;d=f<<16>>16>0;if(r<<16>>16<=0){if(d){a[b>>1]=f;f=i*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=a[b+-2>>1]|0;if(f<<16>>16>0){a[b>>1]=f;f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(k|0)){f=h;break}n[f>>2]=k;f=h;break}else{f=h+1|0;if((h|0)>32767)break i;a[b>>1]=f;n[s+1179664+(h<<2)>>2]=f<<16>>16;h=h*7|0;n[s+1310736+(h<<2)>>2]=1;n[s+1310736+(h+1<<2)>>2]=k;n[s+1310736+(h+2<<2)>>2]=_;n[s+1310736+(h+3<<2)>>2]=k;n[s+1310736+(h+4<<2)>>2]=k;n[s+1310736+(h+5<<2)>>2]=_;n[s+1310736+(h+6<<2)>>2]=_;break}}if(d){f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+(i+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;i=s+1310736+(f+-5<<2)|0;n[i>>2]=(n[i>>2]|0)+_;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}d=a[b+-2>>1]|0;if(d<<16>>16<=0){a[b>>1]=r;f=e*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+k;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+_;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(k|0))n[d>>2]=k;n[s+1310736+(f+-1<<2)>>2]=_;f=h;break}f=n[s+1179664+(e+-1<<2)>>2]|0;e=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(e|0)){a[b>>1]=e;if((h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(f|0))n[r>>2]=e;d=d+1|0;if((d|0)>=(h|0)){f=e;break}else r=r+4|0}}else f=e}else{a[b>>1]=f;if((f|0)<(e|0)&(h|0)>0){d=0;r=l;while(1){if((n[r>>2]|0)==(e|0))n[r>>2]=f;d=d+1|0;if((d|0)>=(h|0))break;else r=r+4|0}}}f=(f<<16>>16)*7|0;i=s+1310736+(f+-7<<2)|0;n[i>>2]=(n[i>>2]|0)+1;i=s+1310736+(f+-6<<2)|0;n[i>>2]=(n[i>>2]|0)+k;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+_;f=h}else{a[b>>1]=0;f=h}}while(0);k=k+1|0;t=t+8|0;d=b+2|0;if((k|0)>=(S|0))break;else{b=d;h=f}}}_=_+1|0;if((_|0)>=(y|0)){i=f;R=52;break e}else{t=t+w|0;d=d+4|0}}io(3,3904,M);f=-1}else{i=0;R=52}}while(0);if((R|0)==52){r=s+12|0;if((i|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(i|0)){d=d+1|0;l=l+4|0}else break}}e=s+8|0;f=t+-1|0;n[e>>2]=f;if(f){Gl(r|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{l=(n[s+1179664+(r<<2)>>2]|0)+-1|0;d=r*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[e>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Gr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}S=T+-1|0;if((r|0)>1){f=0;l=h;d=h+(S<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{l=l+(T<<1)|0;d=d+(T<<1)|0}}}d=s+1179664|0;v=0-T|0;p=1-T|0;E=~T;m=i+4|0;e:do{if((y|0)>1){_=(S|0)>1;g=1;l=e+((i<<1)+2)|0;r=h+(T+1<<1)|0;f=0;i:while(1){if(_){w=1;k=r;b=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){f=a[k+(v<<1)>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}e=a[k+(p<<1)>>1]|0;i=e<<16>>16;f=a[k+(E<<1)>>1]|0;h=f<<16>>16;r=f<<16>>16>0;if(e<<16>>16<=0){if(r){a[k>>1]=f;f=h*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-3<<2)|0;if((n[r>>2]|0)<(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=a[k+-2>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(w|0)){f=b;break}n[f>>2]=w;f=b;break}else{f=b+1|0;if((b|0)>32767)break i;a[k>>1]=f;n[s+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;n[s+1310736+(b<<2)>>2]=1;n[s+1310736+(b+1<<2)>>2]=w;n[s+1310736+(b+2<<2)>>2]=g;n[s+1310736+(b+3<<2)>>2]=w;n[s+1310736+(b+4<<2)>>2]=w;n[s+1310736+(b+5<<2)>>2]=g;n[s+1310736+(b+6<<2)>>2]=g;break}}if(r){f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+(h+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}r=a[k+-2>>1]|0;if(r<<16>>16<=0){a[k>>1]=e;f=i*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-4<<2)|0;if((n[r>>2]|0)>(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=b}else{a[k>>1]=0;f=b}}while(0);w=w+1|0;l=l+2|0;r=k+2|0;if((w|0)>=(S|0))break;else{k=r;b=f}}}g=g+1|0;if((g|0)>=(y|0)){h=f;R=52;break e}else{l=l+m|0;r=r+4|0}}io(3,3904,M);f=-1}else{h=0;R=52}}while(0);if((R|0)==52){e=s+12|0;if((h|0)<1)l=1;else{r=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(r|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((r|0)<(h|0)){r=r+1|0;d=d+4|0}else break}}i=s+8|0;f=l+-1|0;n[i>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[i>>2]|0))}if((h|0)>0){e=0;do{d=(n[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(r<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(r+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(r+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(r+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(r+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(r+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(r+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;e=e+1|0}while((e|0)<(h|0))}if((n[i>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[i>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Kr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}S=T+-1|0;if((r|0)>1){f=0;l=h;d=h+(S<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{l=l+(T<<1)|0;d=d+(T<<1)|0}}}d=s+1179664|0;v=0-T|0;p=1-T|0;E=~T;m=(i<<1)+8|0;e:do{if((y|0)>1){_=(S|0)>1;g=1;l=e+((i<<2)+4)|0;r=h+(T+1<<1)|0;f=0;i:while(1){if(_){w=1;k=r;b=f;while(1){do{if((o[l+1>>0]|0|0)>(t|0)){f=a[k+(v<<1)>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}e=a[k+(p<<1)>>1]|0;i=e<<16>>16;f=a[k+(E<<1)>>1]|0;h=f<<16>>16;r=f<<16>>16>0;if(e<<16>>16<=0){if(r){a[k>>1]=f;f=h*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-3<<2)|0;if((n[r>>2]|0)<(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=a[k+-2>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(w|0)){f=b;break}n[f>>2]=w;f=b;break}else{f=b+1|0;if((b|0)>32767)break i;a[k>>1]=f;n[s+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;n[s+1310736+(b<<2)>>2]=1;n[s+1310736+(b+1<<2)>>2]=w;n[s+1310736+(b+2<<2)>>2]=g;n[s+1310736+(b+3<<2)>>2]=w;n[s+1310736+(b+4<<2)>>2]=w;n[s+1310736+(b+5<<2)>>2]=g;n[s+1310736+(b+6<<2)>>2]=g;break}}if(r){f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+(h+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}r=a[k+-2>>1]|0;if(r<<16>>16<=0){a[k>>1]=e;f=i*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-4<<2)|0;if((n[r>>2]|0)>(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=b}else{a[k>>1]=0;f=b}}while(0);w=w+1|0;l=l+4|0;r=k+2|0;if((w|0)>=(S|0))break;else{k=r;b=f}}}g=g+1|0;if((g|0)>=(y|0)){h=f;R=52;break e}else{l=l+m|0;r=r+4|0}}io(3,3904,M);f=-1}else{h=0;R=52}}while(0);if((R|0)==52){e=s+12|0;if((h|0)<1)l=1;else{r=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(r|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((r|0)<(h|0)){r=r+1|0;d=d+4|0}else break}}i=s+8|0;f=l+-1|0;n[i>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[i>>2]|0))}if((h|0)>0){e=0;do{d=(n[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(r<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(r+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(r+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(r+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(r+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(r+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(r+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;e=e+1|0}while((e|0)<(h|0))}if((n[i>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[i>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Xr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0;C=c;c=c+16|0;M=C;T=(i|0)/2|0;A=(r|0)/2|0;h=n[s>>2]|0;y=A+-1|0;if((i|0)>1){f=0;l=h;d=h+((re(y,T)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(T|0))break;else{l=l+2|0;d=d+2|0}}}S=T+-1|0;if((r|0)>1){f=0;l=h;d=h+(S<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(A|0))break;else{l=l+(T<<1)|0;d=d+(T<<1)|0}}}d=s+1179664|0;v=0-T|0;p=1-T|0;E=~T;m=(i<<1)+8|0;e:do{if((y|0)>1){_=(S|0)>1;g=1;l=e+((i<<2)+4)|0;r=h+(T+1<<1)|0;f=0;i:while(1){if(_){w=1;k=r;b=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){f=a[k+(v<<1)>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}e=a[k+(p<<1)>>1]|0;i=e<<16>>16;f=a[k+(E<<1)>>1]|0;h=f<<16>>16;r=f<<16>>16>0;if(e<<16>>16<=0){if(r){a[k>>1]=f;f=h*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-3<<2)|0;if((n[r>>2]|0)<(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=a[k+-2>>1]|0;if(f<<16>>16>0){a[k>>1]=f;f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(w|0)){f=b;break}n[f>>2]=w;f=b;break}else{f=b+1|0;if((b|0)>32767)break i;a[k>>1]=f;n[s+1179664+(b<<2)>>2]=f<<16>>16;b=b*7|0;n[s+1310736+(b<<2)>>2]=1;n[s+1310736+(b+1<<2)>>2]=w;n[s+1310736+(b+2<<2)>>2]=g;n[s+1310736+(b+3<<2)>>2]=w;n[s+1310736+(b+4<<2)>>2]=w;n[s+1310736+(b+5<<2)>>2]=g;n[s+1310736+(b+6<<2)>>2]=g;break}}if(r){f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+(h+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;h=s+1310736+(f+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}r=a[k+-2>>1]|0;if(r<<16>>16<=0){a[k>>1]=e;f=i*7|0;r=s+1310736+(f+-7<<2)|0;n[r>>2]=(n[r>>2]|0)+1;r=s+1310736+(f+-6<<2)|0;n[r>>2]=(n[r>>2]|0)+w;r=s+1310736+(f+-5<<2)|0;n[r>>2]=(n[r>>2]|0)+g;r=s+1310736+(f+-4<<2)|0;if((n[r>>2]|0)>(w|0))n[r>>2]=w;n[s+1310736+(f+-1<<2)>>2]=g;f=b;break}f=n[s+1179664+(i+-1<<2)>>2]|0;i=n[s+1179664+((r<<16>>16)+-1<<2)>>2]|0;if((f|0)>(i|0)){a[k>>1]=i;if((b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=i;r=r+1|0;if((r|0)>=(b|0)){f=i;break}else e=e+4|0}}else f=i}else{a[k>>1]=f;if((f|0)<(i|0)&(b|0)>0){r=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=f;r=r+1|0;if((r|0)>=(b|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;h=s+1310736+(f+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=s+1310736+(f+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+w;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=b}else{a[k>>1]=0;f=b}}while(0);w=w+1|0;l=l+4|0;r=k+2|0;if((w|0)>=(S|0))break;else{k=r;b=f}}}g=g+1|0;if((g|0)>=(y|0)){h=f;R=52;break e}else{l=l+m|0;r=r+4|0}}io(3,3904,M);f=-1}else{h=0;R=52}}while(0);if((R|0)==52){e=s+12|0;if((h|0)<1)l=1;else{r=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(r|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((r|0)<(h|0)){r=r+1|0;d=d+4|0}else break}}i=s+8|0;f=l+-1|0;n[i>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{R=f<<2;n[s+131084+(R<<2)>>2]=T;n[s+131084+((R|1)<<2)>>2]=0;n[s+131084+((R|2)<<2)>>2]=A;n[s+131084+((R|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[i>>2]|0))}if((h|0)>0){e=0;do{d=(n[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(r<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(r+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(r+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(r+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(r+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(r+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(r+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;e=e+1|0}while((e|0)<(h|0))}if((n[i>>2]|0)>0){f=0;do{T=s+12+(f<<2)|0;A=f<<1;R=s+655376+(A<<3)|0;u[R>>3]=+u[R>>3]/+(n[T>>2]|0);A=s+655376+((A|1)<<3)|0;u[A>>3]=+u[A>>3]/+(n[T>>2]|0);f=f+1|0}while((f|0)<(n[i>>2]|0));f=0}else f=0}else f=0}c=C;return f|0}function Jr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f*3|0)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(y|0)){f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}else{a[w>>1]=0;f=k}}while(0);m=m+1|0;t=t+3|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+6|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Zr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<1)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){h=o[t>>0]|0;b=o[t+1>>0]|0;do{if(((h&248)+10+(h<<5&224)+(b>>>3&28)+(b<<3&248)|0)>(y|0)){f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}else{a[w>>1]=0;f=k}}while(0);m=m+1|0;t=t+2|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+4|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function Qr(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<2)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){do{if(((o[t+1>>0]|0)+(o[t>>0]|0)+(o[t+2>>0]|0)|0)>(y|0)){f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}else{a[w>>1]=0;f=k}}while(0);m=m+1|0;t=t+4|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+8|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function $r(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<1)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){b=o[t>>0]|0;do{if(((b&240)+24+(b<<4&240)+((o[t+1>>0]|0)&240)|0)>(y|0)){f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}else{a[w>>1]=0;f=k}}while(0);m=m+1|0;t=t+2|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+4|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function et(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<1)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){h=o[t>>0]|0;b=o[t+1>>0]|0;do{if(((h&248)+12+(h<<5&224)+(b>>>3&24)+(b<<2&248)|0)>(y|0)){f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}else{a[w>>1]=0;f=k}}while(0);m=m+1|0;t=t+2|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+4|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function it(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=t*3|0;S=i+-1|0;if((r|0)>0){f=0;t=h;l=h+(S<<1)|0;while(1){a[l>>1]=0;a[t>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{t=t+(i<<1)|0;l=l+(i<<1)|0}}}l=s+1179664|0;f=i+1|0;v=0-i|0;p=1-i|0;E=~i;e:do{if((M|0)>1){_=(S|0)>1;g=1;t=e+(f<<2)|0;d=h+(f<<1)|0;f=0;i:while(1){if(_){m=1;w=d;k=f;while(1){do{if(((o[t+2>>0]|0)+(o[t+1>>0]|0)+(o[t+3>>0]|0)|0)>(y|0)){f=a[w+(v<<1)>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}e=a[w+(p<<1)>>1]|0;h=e<<16>>16;f=a[w+(E<<1)>>1]|0;b=f<<16>>16;d=f<<16>>16>0;if(e<<16>>16<=0){if(d){a[w>>1]=f;f=b*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-3<<2)|0;if((n[d>>2]|0)<(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=a[w+-2>>1]|0;if(f<<16>>16>0){a[w>>1]=f;f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(m|0)){f=k;break}n[f>>2]=m;f=k;break}else{f=k+1|0;if((k|0)>32767)break i;a[w>>1]=f;n[s+1179664+(k<<2)>>2]=f<<16>>16;k=k*7|0;n[s+1310736+(k<<2)>>2]=1;n[s+1310736+(k+1<<2)>>2]=m;n[s+1310736+(k+2<<2)>>2]=g;n[s+1310736+(k+3<<2)>>2]=m;n[s+1310736+(k+4<<2)>>2]=m;n[s+1310736+(k+5<<2)>>2]=g;n[s+1310736+(k+6<<2)>>2]=g;break}}if(d){f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+(b+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=s+1310736+(f+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+g;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}d=a[w+-2>>1]|0;if(d<<16>>16<=0){a[w>>1]=e;f=h*7|0;d=s+1310736+(f+-7<<2)|0;n[d>>2]=(n[d>>2]|0)+1;d=s+1310736+(f+-6<<2)|0;n[d>>2]=(n[d>>2]|0)+m;d=s+1310736+(f+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+g;d=s+1310736+(f+-4<<2)|0;if((n[d>>2]|0)>(m|0))n[d>>2]=m;n[s+1310736+(f+-1<<2)>>2]=g;f=k;break}f=n[s+1179664+(h+-1<<2)>>2]|0;h=n[s+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((f|0)>(h|0)){a[w>>1]=h;if((k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(f|0))n[e>>2]=h;d=d+1|0;if((d|0)>=(k|0)){f=h;break}else e=e+4|0}}else f=h}else{a[w>>1]=f;if((f|0)<(h|0)&(k|0)>0){d=0;e=l;while(1){if((n[e>>2]|0)==(h|0))n[e>>2]=f;d=d+1|0;if((d|0)>=(k|0))break;else e=e+4|0}}}f=(f<<16>>16)*7|0;b=s+1310736+(f+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=s+1310736+(f+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+g;f=k}else{a[w>>1]=0;f=k}}while(0);m=m+1|0;t=t+4|0;d=w+2|0;if((m|0)>=(S|0))break;else{w=d;k=f}}}g=g+1|0;if((g|0)>=(M|0)){b=f;T=52;break e}else{t=t+8|0;d=d+4|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){e=s+12|0;if((b|0)<1)t=1;else{d=1;t=1;while(1){f=n[l>>2]|0;if((f|0)==(d|0)){f=t;t=t+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[l>>2]=f;if((d|0)<(b|0)){d=d+1|0;l=l+4|0}else break}}h=s+8|0;f=t+-1|0;n[h>>2]=f;if(f){Gl(e|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((t|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[h>>2]|0))}if((b|0)>0){e=0;do{l=(n[s+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;f=s+12+(l<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(d<<2)>>2]|0);f=l<<1;t=s+655376+(f<<3)|0;u[t>>3]=+u[t>>3]+ +(n[s+1310736+(d+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(d+2<<2)>>2]|0);l=l<<2;f=s+131084+(l<<2)|0;t=n[s+1310736+(d+3<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;f=s+131084+((l|1)<<2)|0;t=n[s+1310736+(d+4<<2)>>2]|0;if((n[f>>2]|0)<(t|0))n[f>>2]=t;f=s+131084+((l|2)<<2)|0;t=n[s+1310736+(d+5<<2)>>2]|0;if((n[f>>2]|0)>(t|0))n[f>>2]=t;t=s+131084+((l|3)<<2)|0;f=n[s+1310736+(d+6<<2)>>2]|0;if((n[t>>2]|0)<(f|0))n[t>>2]=f;e=e+1|0}while((e|0)<(b|0))}if((n[h>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[h>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function rt(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+f|0;e=h+(f<<1)|0;f=0;i:while(1){if(g){p=1;m=e;w=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){f=a[m+(_<<1)>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}h=a[m+(E<<1)>>1]|0;b=h<<16>>16;f=a[m+(v<<1)>>1]|0;k=f<<16>>16;e=f<<16>>16>0;if(h<<16>>16<=0){if(e){a[m>>1]=f;f=k*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-3<<2)|0;if((n[e>>2]|0)<(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[m>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(e){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16<=0){a[m>>1]=h;f=b*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-4<<2)|0;if((n[e>>2]|0)>(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}b=n[s+1179664+(b+-1<<2)>>2]|0;f=n[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((b|0)>(f|0)){a[m>>1]=f;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}else{a[m>>1]=b;if((b|0)<(f|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}else{a[m>>1]=0;f=w}}while(0);p=p+1|0;l=l+1|0;e=m+2|0;if((p|0)>=(y|0))break;else{m=e;w=f}}}S=S+1|0;if((S|0)>=(M|0)){k=f;T=52;break e}else{l=l+2|0;e=e+4|0}}io(3,3904,R);f=-1}else{k=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((k|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(k|0)){e=e+1|0;d=d+4|0}else break}}b=s+8|0;f=l+-1|0;n[b>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[b>>2]|0))}if((k|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(k|0))}if((n[b>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[b>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function tt(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+(f<<1)|0;e=h+(f<<1)|0;f=0;i:while(1){if(g){p=1;m=e;w=f;while(1){do{if((o[l+1>>0]|0|0)>(t|0)){f=a[m+(_<<1)>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}h=a[m+(E<<1)>>1]|0;b=h<<16>>16;f=a[m+(v<<1)>>1]|0;k=f<<16>>16;e=f<<16>>16>0;if(h<<16>>16<=0){if(e){a[m>>1]=f;f=k*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-3<<2)|0;if((n[e>>2]|0)<(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[m>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(e){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}e=a[m+-2>>1]|0;if(e<<16>>16<=0){a[m>>1]=h;f=b*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-4<<2)|0;if((n[e>>2]|0)>(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}else{a[m>>1]=0;f=w}}while(0);p=p+1|0;l=l+2|0;e=m+2|0;if((p|0)>=(y|0))break;else{m=e;w=f}}}S=S+1|0;if((S|0)>=(M|0)){k=f;T=52;break e}else{l=l+4|0;e=e+4|0}}io(3,3904,R);f=-1}else{k=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((k|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(k|0)){e=e+1|0;d=d+4|0}else break}}b=s+8|0;f=l+-1|0;n[b>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[b>>2]|0))}if((k|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(k|0))}if((n[b>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[b>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function at(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+(f<<1)|0;e=h+(f<<1)|0;f=0;i:while(1){if(g){p=1;m=e;w=f;while(1){do{if((o[l>>0]|0|0)>(t|0)){f=a[m+(_<<1)>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}h=a[m+(E<<1)>>1]|0;b=h<<16>>16;f=a[m+(v<<1)>>1]|0;k=f<<16>>16;e=f<<16>>16>0;if(h<<16>>16<=0){if(e){a[m>>1]=f;f=k*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-3<<2)|0;if((n[e>>2]|0)<(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16>0){a[m>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[m>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(e){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[m>>1]=b;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}else{a[m>>1]=f;if((f|0)<(b|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[m+-2>>1]|0;if(f<<16>>16<=0){a[m>>1]=h;f=b*7|0;e=s+1310736+(f+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=s+1310736+(f+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+p;e=s+1310736+(f+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+S;e=s+1310736+(f+-4<<2)|0;if((n[e>>2]|0)>(p|0))n[e>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}b=n[s+1179664+(b+-1<<2)>>2]|0;f=n[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((b|0)>(f|0)){a[m>>1]=f;if((w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(b|0))n[h>>2]=f;e=e+1|0;if((e|0)>=(w|0))break;else h=h+4|0}}}else{a[m>>1]=b;if((b|0)<(f|0)&(w|0)>0){e=0;h=d;while(1){if((n[h>>2]|0)==(f|0))n[h>>2]=b;e=e+1|0;if((e|0)>=(w|0)){f=b;break}else h=h+4|0}}else f=b}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}else{a[m>>1]=0;f=w}}while(0);p=p+1|0;l=l+2|0;e=m+2|0;if((p|0)>=(y|0))break;else{m=e;w=f}}}S=S+1|0;if((S|0)>=(M|0)){k=f;T=52;break e}else{l=l+4|0;e=e+4|0}}io(3,3904,R);f=-1}else{k=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((k|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(k|0)){e=e+1|0;d=d+4|0}else break}}b=s+8|0;f=l+-1|0;n[b>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[b>>2]|0))}if((k|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(k|0))}if((n[b>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[b>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function nt(e,i,r,t,s){e=e|0;i=i|0;r=r|0;t=t|0;s=s|0;var f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0;A=c;c=c+16|0;R=A;h=n[s>>2]|0;M=r+-1|0;if((i|0)>0){f=0;l=h;d=h+((re(M,i)|0)<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(i|0))break;else{l=l+2|0;d=d+2|0}}}y=i+-1|0;if((r|0)>0){f=0;l=h;d=h+(y<<1)|0;while(1){a[d>>1]=0;a[l>>1]=0;f=f+1|0;if((f|0)>=(r|0))break;else{l=l+(i<<1)|0;d=d+(i<<1)|0}}}d=s+1179664|0;f=i+1|0;_=0-i|0;E=1-i|0;v=~i;e:do{if((M|0)>1){g=(y|0)>1;S=1;l=e+f|0;e=h+(f<<1)|0;h=t+f|0;f=0;i:while(1){if(g){p=1;m=l;w=f;while(1){do{if((o[m>>0]|0)>(o[h>>0]|0)){f=a[e+(_<<1)>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}t=a[e+(E<<1)>>1]|0;b=t<<16>>16;f=a[e+(v<<1)>>1]|0;k=f<<16>>16;l=f<<16>>16>0;if(t<<16>>16<=0){if(l){a[e>>1]=f;f=k*7|0;l=s+1310736+(f+-7<<2)|0;n[l>>2]=(n[l>>2]|0)+1;l=s+1310736+(f+-6<<2)|0;n[l>>2]=(n[l>>2]|0)+p;l=s+1310736+(f+-5<<2)|0;n[l>>2]=(n[l>>2]|0)+S;l=s+1310736+(f+-3<<2)|0;if((n[l>>2]|0)<(p|0))n[l>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[e+-2>>1]|0;if(f<<16>>16>0){a[e>>1]=f;f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;f=s+1310736+(f+-3<<2)|0;if((n[f>>2]|0)>=(p|0)){f=w;break}n[f>>2]=p;f=w;break}else{f=w+1|0;if((w|0)>32767)break i;a[e>>1]=f;n[s+1179664+(w<<2)>>2]=f<<16>>16;w=w*7|0;n[s+1310736+(w<<2)>>2]=1;n[s+1310736+(w+1<<2)>>2]=p;n[s+1310736+(w+2<<2)>>2]=S;n[s+1310736+(w+3<<2)>>2]=p;n[s+1310736+(w+4<<2)>>2]=p;n[s+1310736+(w+5<<2)>>2]=S;n[s+1310736+(w+6<<2)>>2]=S;break}}if(l){f=n[s+1179664+(b+-1<<2)>>2]|0;b=n[s+1179664+(k+-1<<2)>>2]|0;if((f|0)>(b|0)){a[e>>1]=b;if((w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(f|0))n[t>>2]=b;l=l+1|0;if((l|0)>=(w|0)){f=b;break}else t=t+4|0}}else f=b}else{a[e>>1]=f;if((f|0)<(b|0)&(w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(b|0))n[t>>2]=f;l=l+1|0;if((l|0)>=(w|0))break;else t=t+4|0}}}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;k=s+1310736+(f+-5<<2)|0;n[k>>2]=(n[k>>2]|0)+S;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}f=a[e+-2>>1]|0;if(f<<16>>16<=0){a[e>>1]=t;f=b*7|0;l=s+1310736+(f+-7<<2)|0;n[l>>2]=(n[l>>2]|0)+1;l=s+1310736+(f+-6<<2)|0;n[l>>2]=(n[l>>2]|0)+p;l=s+1310736+(f+-5<<2)|0;n[l>>2]=(n[l>>2]|0)+S;l=s+1310736+(f+-4<<2)|0;if((n[l>>2]|0)>(p|0))n[l>>2]=p;n[s+1310736+(f+-1<<2)>>2]=S;f=w;break}b=n[s+1179664+(b+-1<<2)>>2]|0;f=n[s+1179664+((f<<16>>16)+-1<<2)>>2]|0;if((b|0)>(f|0)){a[e>>1]=f;if((w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(b|0))n[t>>2]=f;l=l+1|0;if((l|0)>=(w|0))break;else t=t+4|0}}}else{a[e>>1]=b;if((b|0)<(f|0)&(w|0)>0){l=0;t=d;while(1){if((n[t>>2]|0)==(f|0))n[t>>2]=b;l=l+1|0;if((l|0)>=(w|0)){f=b;break}else t=t+4|0}}else f=b}f=(f<<16>>16)*7|0;k=s+1310736+(f+-7<<2)|0;n[k>>2]=(n[k>>2]|0)+1;k=s+1310736+(f+-6<<2)|0;n[k>>2]=(n[k>>2]|0)+p;f=s+1310736+(f+-5<<2)|0;n[f>>2]=(n[f>>2]|0)+S;f=w}else{a[e>>1]=0;f=w}}while(0);p=p+1|0;l=m+1|0;h=h+1|0;e=e+2|0;if((p|0)>=(y|0))break;else{m=l;w=f}}}S=S+1|0;if((S|0)>=(M|0)){b=f;T=52;break e}else{l=l+2|0;e=e+4|0;h=h+2|0}}io(3,3904,R);f=-1}else{b=0;T=52}}while(0);if((T|0)==52){h=s+12|0;if((b|0)<1)l=1;else{e=1;l=1;while(1){f=n[d>>2]|0;if((f|0)==(e|0)){f=l;l=l+1|0}else f=n[s+1179664+(f+-1<<2)>>2]|0;n[d>>2]=f;if((e|0)<(b|0)){e=e+1|0;d=d+4|0}else break}}t=s+8|0;f=l+-1|0;n[t>>2]=f;if(f){Gl(h|0,0,f<<2|0)|0;Gl(s+655376|0,0,f<<4|0)|0;if((l|0)>1){f=0;do{T=f<<2;n[s+131084+(T<<2)>>2]=i;n[s+131084+((T|1)<<2)>>2]=0;n[s+131084+((T|2)<<2)>>2]=r;n[s+131084+((T|3)<<2)>>2]=0;f=f+1|0}while((f|0)<(n[t>>2]|0))}if((b|0)>0){h=0;do{d=(n[s+1179664+(h<<2)>>2]|0)+-1|0;e=h*7|0;f=s+12+(d<<2)|0;n[f>>2]=(n[f>>2]|0)+(n[s+1310736+(e<<2)>>2]|0);f=d<<1;l=s+655376+(f<<3)|0;u[l>>3]=+u[l>>3]+ +(n[s+1310736+(e+1<<2)>>2]|0);f=s+655376+((f|1)<<3)|0;u[f>>3]=+u[f>>3]+ +(n[s+1310736+(e+2<<2)>>2]|0);d=d<<2;f=s+131084+(d<<2)|0;l=n[s+1310736+(e+3<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;f=s+131084+((d|1)<<2)|0;l=n[s+1310736+(e+4<<2)>>2]|0;if((n[f>>2]|0)<(l|0))n[f>>2]=l;f=s+131084+((d|2)<<2)|0;l=n[s+1310736+(e+5<<2)>>2]|0;if((n[f>>2]|0)>(l|0))n[f>>2]=l;l=s+131084+((d|3)<<2)|0;f=n[s+1310736+(e+6<<2)>>2]|0;if((n[l>>2]|0)<(f|0))n[l>>2]=f;h=h+1|0}while((h|0)<(b|0))}if((n[t>>2]|0)>0){f=0;do{i=s+12+(f<<2)|0;r=f<<1;T=s+655376+(r<<3)|0;u[T>>3]=+u[T>>3]/+(n[i>>2]|0);r=s+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);f=f+1|0}while((f|0)<(n[t>>2]|0));f=0}else f=0}else f=0}c=A;return f|0}function ot(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i*3|0)+12|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i*6|0)+6)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){do{if(((o[w+1>>0]|0)+(o[w>>0]|0)+(o[w+2>>0]|0)|0)>(y|0)){a[r>>1]=0;t[l>>0]=0;s=k}else{t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}}while(0);m=m+1|0;h=w+6|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function st(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<1)+8|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<2)+4)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){i=o[w>>0]|0;b=o[w+1>>0]|0;do{if(((i&248)+10+(i<<5&224)+(b>>>3&28)+(b<<3&248)|0)>(y|0)){a[r>>1]=0;t[l>>0]=0;s=k}else{t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}}while(0);m=m+1|0;h=w+4|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function ft(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<2)+16|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<3)+8)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){do{if(((o[w+1>>0]|0)+(o[w>>0]|0)+(o[w+2>>0]|0)|0)>(y|0)){a[r>>1]=0;t[l>>0]=0;s=k}else{t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}}while(0);m=m+1|0;h=w+8|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function lt(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<1)+8|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<2)+4)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){b=o[w>>0]|0;do{if(((b&240)+24+(b<<4&240)+((o[w+1>>0]|0)&240)|0)>(y|0)){a[r>>1]=0;t[l>>0]=0;s=k}else{t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}}while(0);m=m+1|0;h=w+4|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function ut(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<1)+8|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<2)+4)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){i=o[w>>0]|0;b=o[w+1>>0]|0;do{if(((i&248)+12+(i<<5&224)+(b>>>3&24)+(b<<2&248)|0)>(y|0)){a[r>>1]=0;t[l>>0]=0;s=k}else{t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}}while(0);m=m+1|0;h=w+4|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function ct(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;T=F;C=(i|0)/2|0;x=(r|0)/2|0;b=n[f>>2]|0;R=x+-1|0;if((i|0)>1){l=0;d=b;h=b+((re(R,C)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(C|0))break;else{d=d+2|0;h=h+2|0}}}y=s*3|0;M=C+-1|0;if((r|0)>1){l=0;s=b;d=b+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(x|0))break;else{s=s+(C<<1)|0;d=d+(C<<1)|0}}}d=f+1179664|0;s=C+1|0;_=0-C|0;E=1-C|0;v=~C;p=(i<<2)+16|0;e:do{if((R|0)>1){g=(M|0)>1;l=(n[f+4>>2]|0)+s|0;S=1;h=e+((i<<3)+8)|0;r=b+(s<<1)|0;s=0;i:while(1){if(g){m=1;w=h;k=s;while(1){do{if(((o[w+2>>0]|0)+(o[w+1>>0]|0)+(o[w+3>>0]|0)|0)>(y|0)){a[r>>1]=0;t[l>>0]=0;s=k}else{t[l>>0]=-1;s=a[r+(_<<1)>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}e=a[r+(E<<1)>>1]|0;i=e<<16>>16;s=a[r+(v<<1)>>1]|0;b=s<<16>>16;h=s<<16>>16>0;if(e<<16>>16<=0){if(h){a[r>>1]=s;s=b*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=a[r+-2>>1]|0;if(s<<16>>16>0){a[r>>1]=s;s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(m|0)){s=k;break}n[s>>2]=m;s=k;break}else{s=k+1|0;if((k|0)>32767)break i;a[r>>1]=s;n[f+1179664+(k<<2)>>2]=s<<16>>16;k=k*7|0;n[f+1310736+(k<<2)>>2]=1;n[f+1310736+(k+1<<2)>>2]=m;n[f+1310736+(k+2<<2)>>2]=S;n[f+1310736+(k+3<<2)>>2]=m;n[f+1310736+(k+4<<2)>>2]=m;n[f+1310736+(k+5<<2)>>2]=S;n[f+1310736+(k+6<<2)>>2]=S;break}}if(h){s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+(b+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;b=f+1310736+(s+-5<<2)|0;n[b>>2]=(n[b>>2]|0)+S;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}h=a[r+-2>>1]|0;if(h<<16>>16<=0){a[r>>1]=e;s=i*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+m;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+S;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(m|0))n[h>>2]=m;n[f+1310736+(s+-1<<2)>>2]=S;s=k;break}s=n[f+1179664+(i+-1<<2)>>2]|0;i=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(i|0)){a[r>>1]=i;if((k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(s|0))n[e>>2]=i;h=h+1|0;if((h|0)>=(k|0)){s=i;break}else e=e+4|0}}else s=i}else{a[r>>1]=s;if((s|0)<(i|0)&(k|0)>0){h=0;e=d;while(1){if((n[e>>2]|0)==(i|0))n[e>>2]=s;h=h+1|0;if((h|0)>=(k|0))break;else e=e+4|0}}}s=(s<<16>>16)*7|0;b=f+1310736+(s+-7<<2)|0;n[b>>2]=(n[b>>2]|0)+1;b=f+1310736+(s+-6<<2)|0;n[b>>2]=(n[b>>2]|0)+m;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+S;s=k}}while(0);m=m+1|0;h=w+8|0;r=r+2|0;l=l+1|0;if((m|0)>=(M|0))break;else{w=h;k=s}}}S=S+1|0;if((S|0)>=(R|0)){i=s;A=52;break e}else{l=l+2|0;h=h+p|0;r=r+4|0}}io(3,3904,T);l=-1}else{i=0;A=52}}while(0);if((A|0)==52){r=f+12|0;if((i|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(i|0)){h=h+1|0;d=d+4|0}else break}}e=f+8|0;l=s+-1|0;n[e>>2]=l;if(l){Gl(r|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{A=l<<2;n[f+131084+(A<<2)>>2]=C;n[f+131084+((A|1)<<2)>>2]=0;n[f+131084+((A|2)<<2)>>2]=x;n[f+131084+((A|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[e>>2]|0))}if((i|0)>0){r=0;do{d=(n[f+1179664+(r<<2)>>2]|0)+-1|0;h=r*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;r=r+1|0}while((r|0)<(i|0))}if((n[e>>2]|0)>0){l=0;do{C=f+12+(l<<2)|0;x=l<<1;A=f+655376+(x<<3)|0;u[A>>3]=+u[A>>3]/+(n[C>>2]|0);x=f+655376+((x|1)<<3)|0;u[x>>3]=+u[x>>3]/+(n[C>>2]|0);l=l+1|0}while((l|0)<(n[e>>2]|0));l=0}else l=0}else l=0}c=F;return l|0}function dt(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;if((i|0)!=1){if(i+-1&i)i=Ul(i)|0}else i=2;a=n[e+4>>2]|0;if(i>>>0<=a>>>0){if(i>>>0<a>>>0){if(a>>>0>2)t=(a+-1&a|0)==0;else t=0;r=~~+ie(+(+((n[e+12>>2]|0)>>>0)/+l[e+16>>2]))>>>0;if(t)r=1<<32-(ae(r+-1|0)|0);else r=Ul(r)|0;i=i>>>0<r>>>0?r:i;if(i>>>0<a>>>0)ht(e,i)}}else ht(e,i);return}function ht(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,u=0,c=0,d=0;t=e+4|0;e:do{if(i){d=xt(i<<2)|0;r=n[e>>2]|0;n[e>>2]=d;if(r)Ft(r);n[t>>2]=i;if(i){r=0;do{n[(n[e>>2]|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)!=(i|0))}t=e+8|0;a=n[t>>2]|0;if(a){r=n[a+4>>2]|0;c=i+-1|0;d=(c&i|0)==0;if(d)s=r&c;else s=(r>>>0)%(i>>>0)|0;n[(n[e>>2]|0)+(s<<2)>>2]=t;r=n[a>>2]|0;if(r){o=a;t=a;while(1){u=t;i:while(1){while(1){t=n[r+4>>2]|0;if(d)l=t&c;else l=(t>>>0)%(i>>>0)|0;if((l|0)==(s|0)){t=r;break}t=(n[e>>2]|0)+(l<<2)|0;if(!(n[t>>2]|0)){s=l;a=r;break i}f=r+8|0;t=r;while(1){a=n[t>>2]|0;if(!a)break;if((n[f>>2]|0)==(n[a+8>>2]|0))t=a;else break}n[o>>2]=a;n[t>>2]=n[n[(n[e>>2]|0)+(l<<2)>>2]>>2];n[n[(n[e>>2]|0)+(l<<2)>>2]>>2]=r;r=n[u>>2]|0;if(!r)break e}r=n[t>>2]|0;if(!r)break e;else{o=t;u=t}}n[t>>2]=o;r=n[a>>2]|0;if(!r)break;else{o=a;t=a}}}}}else{r=n[e>>2]|0;n[e>>2]=0;if(r)Ft(r);n[t>>2]=0}}while(0);return}function bt(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0,f=0;o=c;c=c+32|0;s=o+16|0;a=o+4|0;f=o;i=n[i>>2]|0;r=n[i>>2]|0;n[f>>2]=i;n[s>>2]=n[f>>2];kt(a,e,s);i=n[a>>2]|0;n[a>>2]=0;if(i){if(t[a+8>>0]|0)Ks(i+264|0);Ft(i)}c=o;return r|0}function kt(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0;b=n[r>>2]|0;c=n[i+4>>2]|0;r=n[b+4>>2]|0;d=c+-1|0;h=(d&c|0)==0;if(h)u=d&r;else u=(r>>>0)%(c>>>0)|0;o=(n[i>>2]|0)+(u<<2)|0;a=n[o>>2]|0;while(1){r=n[a>>2]|0;if((r|0)==(b|0)){l=a;break}else a=r}f=i+8|0;if((l|0)!=(f|0)){r=n[l+4>>2]|0;if(h)r=r&d;else r=(r>>>0)%(c>>>0)|0;if((r|0)==(u|0))o=b;else s=12}else s=12;do{if((s|0)==12){r=n[b>>2]|0;if(r){r=n[r+4>>2]|0;if(h)r=r&d;else r=(r>>>0)%(c>>>0)|0;if((r|0)==(u|0)){o=b;break}}n[o>>2]=0;o=b}}while(0);a=n[o>>2]|0;r=a;if(a){a=n[a+4>>2]|0;if(h)a=a&d;else a=(a>>>0)%(c>>>0)|0;if((a|0)!=(u|0)){n[(n[i>>2]|0)+(a<<2)>>2]=l;r=n[b>>2]|0}}n[l>>2]=r;n[o>>2]=0;i=i+12|0;n[i>>2]=(n[i>>2]|0)+-1;n[e>>2]=b;n[e+4>>2]=f;t[e+8>>0]=1;return}function wt(e,i,r){e=e|0;i=i|0;r=r|0;var t=0;t=xt(408)|0;n[t+8>>2]=n[r>>2];Gl(t+16|0,0,392)|0;u[t+248>>3]=.0001;u[t+256>>3]=1.0e3;r=t+264|0;n[r>>2]=0;n[r+4>>2]=0;n[r+8>>2]=0;n[r+12>>2]=0;n[e>>2]=t;e=e+4|0;n[e>>2]=i+8;n[e+4>>2]=257;return}function mt(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0.0,u=0.0,c=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0;d=n[r+8>>2]|0;p=r+4|0;n[p>>2]=d;m=i+4|0;c=n[m>>2]|0;w=(c|0)==0;e:do{if(!w){h=c+-1|0;b=(h&c|0)==0;if(b)o=h&d;else o=(d>>>0)%(c>>>0)|0;a=n[(n[i>>2]|0)+(o<<2)>>2]|0;if(!a)k=12;else while(1){s=n[a>>2]|0;if(!s){k=12;break e}a=n[s+4>>2]|0;if(b)a=a&h;else a=(a>>>0)%(c>>>0)|0;if((a|0)!=(o|0)){k=12;break e}if((n[s+8>>2]|0)==(d|0)){a=0;r=s;break}else a=s}}else{o=0;k=12}}while(0);if((k|0)==12){d=i+12|0;f=+(((n[d>>2]|0)+1|0)>>>0);u=+l[i+16>>2];do{if(w|f>+(c>>>0)*u){if(c>>>0>2)a=(c+-1&c|0)==0;else a=0;s=(a&1|c<<1)^1;a=~~+ie(+(f/u))>>>0;pt(i,s>>>0<a>>>0?a:s);s=n[m>>2]|0;a=n[p>>2]|0;o=s+-1|0;if(!(o&s)){c=s;o=o&a;break}else{c=s;o=(a>>>0)%(s>>>0)|0;break}}}while(0);a=n[(n[i>>2]|0)+(o<<2)>>2]|0;if(!a){a=i+8|0;n[r>>2]=n[a>>2];n[a>>2]=r;n[(n[i>>2]|0)+(o<<2)>>2]=a;a=n[r>>2]|0;if(a){a=n[a+4>>2]|0;o=c+-1|0;if(!(o&c))a=a&o;else a=(a>>>0)%(c>>>0)|0;n[(n[i>>2]|0)+(a<<2)>>2]=r}}else{n[r>>2]=n[a>>2];n[a>>2]=r}n[d>>2]=(n[d>>2]|0)+1;a=1}n[e>>2]=r;t[e+4>>0]=a;return}function pt(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;if((i|0)!=1){if(i+-1&i)i=Ul(i)|0}else i=2;a=n[e+4>>2]|0;if(i>>>0<=a>>>0){if(i>>>0<a>>>0){if(a>>>0>2)t=(a+-1&a|0)==0;else t=0;r=~~+ie(+(+((n[e+12>>2]|0)>>>0)/+l[e+16>>2]))>>>0;if(t)r=1<<32-(ae(r+-1|0)|0);else r=Ul(r)|0;i=i>>>0<r>>>0?r:i;if(i>>>0<a>>>0)Et(e,i)}}else Et(e,i);return}function Et(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,u=0,c=0,d=0;t=e+4|0;e:do{if(i){d=xt(i<<2)|0;r=n[e>>2]|0;n[e>>2]=d;if(r)Ft(r);n[t>>2]=i;if(i){r=0;do{n[(n[e>>2]|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)!=(i|0))}t=e+8|0;a=n[t>>2]|0;if(a){r=n[a+4>>2]|0;c=i+-1|0;d=(c&i|0)==0;if(d)s=r&c;else s=(r>>>0)%(i>>>0)|0;n[(n[e>>2]|0)+(s<<2)>>2]=t;r=n[a>>2]|0;if(r){o=a;t=a;while(1){u=t;i:while(1){while(1){t=n[r+4>>2]|0;if(d)l=t&c;else l=(t>>>0)%(i>>>0)|0;if((l|0)==(s|0)){t=r;break}t=(n[e>>2]|0)+(l<<2)|0;if(!(n[t>>2]|0)){s=l;a=r;break i}f=r+8|0;t=r;while(1){a=n[t>>2]|0;if(!a)break;if((n[f>>2]|0)==(n[a+8>>2]|0))t=a;else break}n[o>>2]=a;n[t>>2]=n[n[(n[e>>2]|0)+(l<<2)>>2]>>2];n[n[(n[e>>2]|0)+(l<<2)>>2]>>2]=r;r=n[u>>2]|0;if(!r)break e}r=n[t>>2]|0;if(!r)break e;else{o=t;u=t}}n[t>>2]=o;r=n[a>>2]|0;if(!r)break;else{o=a;t=a}}}}}else{r=n[e>>2]|0;n[e>>2]=0;if(r)Ft(r);n[t>>2]=0}}while(0);return}function vt(e){e=e|0;return _n(n[e+4>>2]|0)|0}function _t(e){e=e|0;je(624,10917);$e(632,10922,1,1,0);Ne(640,10927,1,-128,127);Ne(656,10932,1,-128,127);Ne(648,10944,1,0,255);Ne(664,10958,2,-32768,32767);Ne(672,10964,2,0,65535);Ne(680,10979,4,-2147483648,2147483647);Ne(688,10983,4,0,-1);Ne(696,10996,4,-2147483648,2147483647);Ne(704,11001,4,0,-1);hi(712,11015,4);hi(720,11021,8);_i(360,11028);_i(392,11040);ai(416,4,11073);oi(440,11086);Ce(448,0,11102);St(11132);yt(11169);Mt(11208);Rt(11239);Tt(11279);At(11308);Ce(456,4,11346);Ce(464,5,11376);St(11415);yt(11447);Mt(11480);Rt(11513);Tt(11547);At(11580);Ce(472,6,11614);Ce(480,7,11645);Ce(488,7,11677);return}function gt(){_t(0);return}function St(e){e=e|0;Ce(536,0,e|0);return}function yt(e){e=e|0;Ce(528,1,e|0);return}function Mt(e){e=e|0;Ce(520,2,e|0);return}function Rt(e){e=e|0;Ce(512,3,e|0);return}function Tt(e){e=e|0;Ce(504,4,e|0);return}function At(e){e=e|0;Ce(496,5,e|0);return}function Ct(e){e=e|0;Ie(12478,12501,303,12589)}function xt(e){e=e|0;var i=0;i=(e|0)==0?1:e;e=Un(i)|0;e:do{if(!e){while(1){e=Nt()|0;if(!e)break;Xu[e&0]();e=Un(i)|0;if(e)break e}i=Ze(4)|0;n[i>>2]=2224;Mi(i|0,544,1)}}while(0);return e|0}function Ft(e){e=e|0;Bn(e);return}function Pt(e){e=e|0;return}function Ot(e){e=e|0;Ft(e);return}function Dt(e){e=e|0;return 12610}function Nt(){var e=0;e=n[559]|0;n[559]=e+0;return e|0}function Ht(e){e=e|0;return}function It(e){e=e|0;return}function Lt(e){e=e|0;return}function jt(e){e=e|0;return}function Vt(e){e=e|0;return}function Ut(e){e=e|0;Ft(e);return}function Bt(e){e=e|0;Ft(e);return}function Wt(e){e=e|0;Ft(e);return}function zt(e){e=e|0;Ft(e);return}function Yt(e,i,r){e=e|0;i=i|0;r=r|0;return(e|0)==(i|0)|0}function qt(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0;s=c;c=c+64|0;o=s;if((e|0)!=(i|0))if((i|0)!=0?(a=Qt(i,576,592,0)|0,(a|0)!=0):0){i=o;t=i+56|0;do{n[i>>2]=0;i=i+4|0}while((i|0)<(t|0));n[o>>2]=a;n[o+8>>2]=e;n[o+12>>2]=-1;n[o+48>>2]=1;ec[n[(n[a>>2]|0)+28>>2]&3](a,o,n[r>>2]|0,1);if((n[o+24>>2]|0)==1){n[r>>2]=n[o+16>>2];i=1}else i=0}else i=0;else i=1;c=s;return i|0}function Gt(e,i,r,a){e=e|0;i=i|0;r=r|0;a=a|0;var o=0;e=i+16|0;o=n[e>>2]|0;do{if(o){if((o|0)!=(r|0)){a=i+36|0;n[a>>2]=(n[a>>2]|0)+1;n[i+24>>2]=2;t[i+54>>0]=1;break}e=i+24|0;if((n[e>>2]|0)==2)n[e>>2]=a}else{n[e>>2]=r;n[i+24>>2]=a;n[i+36>>2]=1}}while(0);return}function Kt(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;if((e|0)==(n[i+8>>2]|0))Gt(0,i,r,t);return}function Xt(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;if((e|0)==(n[i+8>>2]|0))Gt(0,i,r,t);else{e=n[e+8>>2]|0;ec[n[(n[e>>2]|0)+28>>2]&3](e,i,r,t)}return}function Jt(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0;o=n[e+4>>2]|0;a=o>>8;if(o&1)a=n[(n[r>>2]|0)+a>>2]|0;e=n[e>>2]|0;ec[n[(n[e>>2]|0)+28>>2]&3](e,i,r+a|0,(o&2|0)!=0?t:2);return}function Zt(e,i,r,a){e=e|0;i=i|0;r=r|0;a=a|0;var o=0,s=0;e:do{if((e|0)!=(n[i+8>>2]|0)){s=n[e+12>>2]|0;o=e+16+(s<<3)|0;Jt(e+16|0,i,r,a);if((s|0)>1){s=i+54|0;e=e+24|0;do{Jt(e,i,r,a);if(t[s>>0]|0)break e;e=e+8|0}while(e>>>0<o>>>0)}}else Gt(0,i,r,a)}while(0);return}function Qt(e,i,r,o){e=e|0;i=i|0;r=r|0;o=o|0;var s=0,f=0,l=0,u=0,d=0,h=0,b=0,k=0,w=0,m=0;m=c;c=c+64|0;w=m;k=n[e>>2]|0;b=e+(n[k+-8>>2]|0)|0;k=n[k+-4>>2]|0;n[w>>2]=r;n[w+4>>2]=e;n[w+8>>2]=i;n[w+12>>2]=o;o=w+16|0;e=w+20|0;i=w+24|0;s=w+28|0;f=w+32|0;l=w+40|0;u=(k|0)==(r|0);d=o;h=d+36|0;do{n[d>>2]=0;d=d+4|0}while((d|0)<(h|0));a[o+36>>1]=0;t[o+38>>0]=0;e:do{if(u){n[w+48>>2]=1;Qu[n[(n[r>>2]|0)+20>>2]&3](r,w,b,b,1,0);o=(n[i>>2]|0)==1?b:0}else{Vu[n[(n[k>>2]|0)+24>>2]&3](k,w,b,1,0);switch(n[w+36>>2]|0){case 0:{o=(n[l>>2]|0)==1&(n[s>>2]|0)==1&(n[f>>2]|0)==1?n[e>>2]|0:0;break e}case 1:break;default:{o=0;break e}}if((n[i>>2]|0)!=1?!((n[l>>2]|0)==0&(n[s>>2]|0)==1&(n[f>>2]|0)==1):0){o=0;break}o=n[o>>2]|0}}while(0);c=m;return o|0}function $t(e,i,r,a,o){e=e|0;i=i|0;r=r|0;a=a|0;o=o|0;t[i+53>>0]=1;do{if((n[i+4>>2]|0)==(a|0)){t[i+52>>0]=1;a=i+16|0;e=n[a>>2]|0;if(!e){n[a>>2]=r;n[i+24>>2]=o;n[i+36>>2]=1;if(!((o|0)==1?(n[i+48>>2]|0)==1:0))break;t[i+54>>0]=1;break}if((e|0)!=(r|0)){o=i+36|0;n[o>>2]=(n[o>>2]|0)+1;t[i+54>>0]=1;break}e=i+24|0;a=n[e>>2]|0;if((a|0)==2){n[e>>2]=o;a=o}if((a|0)==1?(n[i+48>>2]|0)==1:0)t[i+54>>0]=1}}while(0);return}function ea(e,i,r,a,o){e=e|0;i=i|0;r=r|0;a=a|0;o=o|0;var s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0,w=0;e:do{if((e|0)==(n[i+8>>2]|0)){if((n[i+4>>2]|0)==(r|0)?(s=i+28|0,(n[s>>2]|0)!=1):0)n[s>>2]=a}else{if((e|0)!=(n[i>>2]|0)){w=n[e+12>>2]|0;l=e+16+(w<<3)|0;ra(e+16|0,i,r,a,o);s=e+24|0;if((w|0)<=1)break;f=n[e+8>>2]|0;if((f&2|0)==0?(u=i+36|0,(n[u>>2]|0)!=1):0){if(!(f&1)){f=i+54|0;while(1){if(t[f>>0]|0)break e;if((n[u>>2]|0)==1)break e;ra(s,i,r,a,o);s=s+8|0;if(s>>>0>=l>>>0)break e}}f=i+24|0;e=i+54|0;while(1){if(t[e>>0]|0)break e;if((n[u>>2]|0)==1?(n[f>>2]|0)==1:0)break e;ra(s,i,r,a,o);s=s+8|0;if(s>>>0>=l>>>0)break e}}f=i+54|0;while(1){if(t[f>>0]|0)break e;ra(s,i,r,a,o);s=s+8|0;if(s>>>0>=l>>>0)break e}}if((n[i+16>>2]|0)!=(r|0)?(k=i+20|0,(n[k>>2]|0)!=(r|0)):0){n[i+32>>2]=a;d=i+44|0;if((n[d>>2]|0)==4)break;f=n[e+12>>2]|0;l=e+16+(f<<3)|0;u=i+52|0;a=i+53|0;h=i+54|0;c=e+8|0;b=i+24|0;i:do{if((f|0)>0){f=0;s=0;e=e+16|0;while(1){t[u>>0]=0;t[a>>0]=0;ia(e,i,r,r,1,o);if(t[h>>0]|0){w=20;break i}do{if(t[a>>0]|0){if(!(t[u>>0]|0))if(!(n[c>>2]&1)){s=1;w=20;break i}else{s=1;break}if((n[b>>2]|0)==1)break i;if(!(n[c>>2]&2))break i;else{f=1;s=1}}}while(0);e=e+8|0;if(e>>>0>=l>>>0){w=20;break}}}else{f=0;s=0;w=20}}while(0);do{if((w|0)==20){if((!f?(n[k>>2]=r,r=i+40|0,n[r>>2]=(n[r>>2]|0)+1,(n[i+36>>2]|0)==1):0)?(n[b>>2]|0)==2:0){t[h>>0]=1;if(s)break}else w=24;if((w|0)==24?s:0)break;n[d>>2]=4;break e}}while(0);n[d>>2]=3;break}if((a|0)==1)n[i+32>>2]=1}}while(0);return}function ia(e,i,r,t,a,o){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;var s=0,f=0;f=n[e+4>>2]|0;s=f>>8;if(f&1)s=n[(n[t>>2]|0)+s>>2]|0;e=n[e>>2]|0;Qu[n[(n[e>>2]|0)+20>>2]&3](e,i,r,t+s|0,(f&2|0)!=0?a:2,o);return}function ra(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0,s=0;s=n[e+4>>2]|0;o=s>>8;if(s&1)o=n[(n[r>>2]|0)+o>>2]|0;e=n[e>>2]|0;Vu[n[(n[e>>2]|0)+24>>2]&3](e,i,r+o|0,(s&2|0)!=0?t:2,a);return}function ta(e,i,r,a,o){e=e|0;i=i|0;r=r|0;a=a|0;o=o|0;var s=0,f=0,l=0,u=0;e:do{if((e|0)==(n[i+8>>2]|0)){if((n[i+4>>2]|0)==(r|0)?(s=i+28|0,(n[s>>2]|0)!=1):0)n[s>>2]=a}else{if((e|0)!=(n[i>>2]|0)){l=n[e+8>>2]|0;Vu[n[(n[l>>2]|0)+24>>2]&3](l,i,r,a,o);break}if((n[i+16>>2]|0)!=(r|0)?(f=i+20|0,(n[f>>2]|0)!=(r|0)):0){n[i+32>>2]=a;a=i+44|0;if((n[a>>2]|0)==4)break;s=i+52|0;t[s>>0]=0;u=i+53|0;t[u>>0]=0;e=n[e+8>>2]|0;Qu[n[(n[e>>2]|0)+20>>2]&3](e,i,r,r,1,o);if(t[u>>0]|0){if(!(t[s>>0]|0)){s=1;l=13}}else{s=0;l=13}do{if((l|0)==13){n[f>>2]=r;u=i+40|0;n[u>>2]=(n[u>>2]|0)+1;if((n[i+36>>2]|0)==1?(n[i+24>>2]|0)==2:0){t[i+54>>0]=1;if(s)break}else l=16;if((l|0)==16?s:0)break;n[a>>2]=4;break e}}while(0);n[a>>2]=3;break}if((a|0)==1)n[i+32>>2]=1}}while(0);return}function aa(e,i,r,a,o){e=e|0;i=i|0;r=r|0;a=a|0;o=o|0;var s=0,f=0;do{if((e|0)==(n[i+8>>2]|0)){if((n[i+4>>2]|0)==(r|0)?(f=i+28|0,(n[f>>2]|0)!=1):0)n[f>>2]=a}else if((e|0)==(n[i>>2]|0)){if((n[i+16>>2]|0)!=(r|0)?(s=i+20|0,(n[s>>2]|0)!=(r|0)):0){n[i+32>>2]=a;n[s>>2]=r;o=i+40|0;n[o>>2]=(n[o>>2]|0)+1;if((n[i+36>>2]|0)==1?(n[i+24>>2]|0)==2:0)t[i+54>>0]=1;n[i+44>>2]=4;break}if((a|0)==1)n[i+32>>2]=1}}while(0);return}function na(e,i,r,a,o,s){e=e|0;i=i|0;r=r|0;a=a|0;o=o|0;s=s|0;var f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0;if((e|0)==(n[i+8>>2]|0))$t(0,i,r,a,o);else{d=i+52|0;h=t[d>>0]|0;b=i+53|0;k=t[b>>0]|0;c=n[e+12>>2]|0;f=e+16+(c<<3)|0;t[d>>0]=0;t[b>>0]=0;ia(e+16|0,i,r,a,o,s);e:do{if((c|0)>1){l=i+24|0;u=e+8|0;c=i+54|0;e=e+24|0;do{if(t[c>>0]|0)break e;if(!(t[d>>0]|0)){if((t[b>>0]|0)!=0?(n[u>>2]&1|0)==0:0)break e}else{if((n[l>>2]|0)==1)break e;if(!(n[u>>2]&2))break e}t[d>>0]=0;t[b>>0]=0;ia(e,i,r,a,o,s);e=e+8|0}while(e>>>0<f>>>0)}}while(0);t[d>>0]=h;t[b>>0]=k}return}function oa(e,i,r,t,a,o){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;if((e|0)==(n[i+8>>2]|0))$t(0,i,r,t,a);else{e=n[e+8>>2]|0;Qu[n[(n[e>>2]|0)+20>>2]&3](e,i,r,t,a,o)}return}function sa(e,i,r,t,a,o){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;if((e|0)==(n[i+8>>2]|0))$t(0,i,r,t,a);return}function fa(e){e=e|0;Ie(12625,12654,1164,12589)}function la(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function ua(){var e=0;if(!(n[597]|0))e=2644;else e=n[(li()|0)+60>>2]|0;return e|0}function ca(e){e=e|0;var i=0,r=0;i=0;while(1){if((o[12742+i>>0]|0)==(e|0)){r=2;break}i=i+1|0;if((i|0)==87){i=87;e=12830;r=5;break}}if((r|0)==2)if(!i)e=12830;else{e=12830;r=5}if((r|0)==5)while(1){r=e;while(1){e=r+1|0;if(!(t[r>>0]|0))break;else r=e}i=i+-1|0;if(!i)break;else r=5}return e|0}function da(e,i,r){e=e|0;i=i|0;r=r|0;var a=0.0,s=0,f=0.0,l=0,u=0,d=0.0,h=0,b=0,k=0,w=0.0,m=0.0,p=0,E=0,v=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,O=0,D=0,N=0,H=0,I=0,L=0.0;I=c;c=c+512|0;O=I;switch(i|0){case 0:{H=24;N=-149;R=4;break}case 1:{H=53;N=-1074;R=4;break}case 2:{H=53;N=-1074;R=4;break}default:a=0.0}e:do{if((R|0)==4){C=e+4|0;A=e+100|0;do{i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0}while((la(i)|0)!=0);i:do{switch(i|0){case 43:case 45:{s=1-(((i|0)==45&1)<<1)|0;i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0;D=s;break i}else{i=ka(e)|0;D=s;break i}}default:D=1}}while(0);s=i;i=0;do{if((s|32|0)!=(t[14634+i>>0]|0))break;do{if(i>>>0<7){s=n[C>>2]|0;if(s>>>0<(n[A>>2]|0)>>>0){n[C>>2]=s+1;s=o[s>>0]|0;break}else{s=ka(e)|0;break}}}while(0);i=i+1|0}while(i>>>0<8);i:do{switch(i|0){case 8:break;case 3:{R=23;break}default:{l=(r|0)!=0;if(l&i>>>0>3)if((i|0)==8)break i;else{R=23;break i}r:do{if(!i){i=0;do{if((s|32|0)!=(t[16477+i>>0]|0))break r;do{if(i>>>0<2){s=n[C>>2]|0;if(s>>>0<(n[A>>2]|0)>>>0){n[C>>2]=s+1;s=o[s>>0]|0;break}else{s=ka(e)|0;break}}}while(0);i=i+1|0}while(i>>>0<3)}}while(0);switch(i|0){case 3:{i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if((i|0)==40)i=1;else{if(!(n[A>>2]|0)){a=_;break e}n[C>>2]=(n[C>>2]|0)+-1;a=_;break e}while(1){s=n[C>>2]|0;if(s>>>0<(n[A>>2]|0)>>>0){n[C>>2]=s+1;s=o[s>>0]|0}else s=ka(e)|0;if(!((s+-48|0)>>>0<10|(s+-65|0)>>>0<26)?!((s|0)==95|(s+-97|0)>>>0<26):0)break;i=i+1|0}if((s|0)==41){a=_;break e}s=(n[A>>2]|0)==0;if(!s)n[C>>2]=(n[C>>2]|0)+-1;if(!l){n[(ua()|0)>>2]=22;ba(e,0);a=0.0;break e}if(!i){a=_;break e}while(1){i=i+-1|0;if(!s)n[C>>2]=(n[C>>2]|0)+-1;if(!i){a=_;break e}}}case 0:{do{if((s|0)==48){i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if((i|32|0)!=120){if(!(n[A>>2]|0)){i=48;break}n[C>>2]=(n[C>>2]|0)+-1;i=48;break}i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0;l=0}else{i=ka(e)|0;l=0}r:while(1){switch(i|0){case 46:{R=74;break r}case 48:break;default:{y=0;u=0;S=0;s=0;h=l;b=0;v=0;d=1.0;l=0;a=0.0;break r}}i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0;l=1;continue}else{i=ka(e)|0;l=1;continue}}if((R|0)==74){i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if((i|0)==48){l=0;s=0;do{i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;l=Xl(l|0,s|0,-1,-1)|0;s=P}while((i|0)==48);y=0;u=0;S=l;h=1;b=1;v=0;d=1.0;l=0;a=0.0}else{y=0;u=0;S=0;s=0;h=l;b=1;v=0;d=1.0;l=0;a=0.0}}while(1){p=i+-48|0;k=i|32;if(p>>>0>=10){E=(i|0)==46;if(!(E|(k+-97|0)>>>0<6)){k=S;p=y;break}if(E)if(!b){E=u;s=y;p=y;b=1;k=v;f=d}else{k=S;p=y;i=46;break}else R=86}else R=86;if((R|0)==86){R=0;i=(i|0)>57?k+-87|0:p;do{if(!((y|0)<0|(y|0)==0&u>>>0<8)){if((y|0)<0|(y|0)==0&u>>>0<14){m=d*.0625;k=v;f=m;a=a+m*+(i|0);break}if((v|0)!=0|(i|0)==0){k=v;f=d}else{k=1;f=d;a=a+d*.5}}else{k=v;f=d;l=i+(l<<4)|0}}while(0);u=Xl(u|0,y|0,1,0)|0;E=S;p=P;h=1}i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;y=p;S=E;i=o[i>>0]|0;v=k;d=f;continue}else{y=p;S=E;i=ka(e)|0;v=k;d=f;continue}}if(!h){i=(n[A>>2]|0)==0;if(!i)n[C>>2]=(n[C>>2]|0)+-1;if(r){if(!i?(M=n[C>>2]|0,n[C>>2]=M+-1,(b|0)!=0):0)n[C>>2]=M+-2}else ba(e,0);a=+(D|0)*0.0;break e}h=(b|0)==0;b=h?u:k;h=h?p:s;if((p|0)<0|(p|0)==0&u>>>0<8){s=p;do{l=l<<4;u=Xl(u|0,s|0,1,0)|0;s=P}while((s|0)<0|(s|0)==0&u>>>0<8)}if((i|32|0)==112){s=An(e,r)|0;i=P;if((s|0)==0&(i|0)==-2147483648){if(!r){ba(e,0);a=0.0;break e}if(!(n[A>>2]|0)){s=0;i=0}else{n[C>>2]=(n[C>>2]|0)+-1;s=0;i=0}}}else if(!(n[A>>2]|0)){s=0;i=0}else{n[C>>2]=(n[C>>2]|0)+-1;s=0;i=0}O=Kl(b|0,h|0,2)|0;O=Xl(O|0,P|0,-32,-1)|0;i=Xl(O|0,P|0,s|0,i|0)|0;s=P;if(!l){a=+(D|0)*0.0;break e}if((s|0)>0|(s|0)==0&i>>>0>(0-N|0)>>>0){n[(ua()|0)>>2]=34;a=+(D|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break e}O=N+-106|0;F=((O|0)<0)<<31>>31;if((s|0)<(F|0)|(s|0)==(F|0)&i>>>0<O>>>0){n[(ua()|0)>>2]=34;a=+(D|0)*2.2250738585072014e-308*2.2250738585072014e-308;break e}if((l|0)>-1){do{F=!(a>=.5);O=F&1|l<<1;l=O^1;a=a+(F?a:a+-1.0);i=Xl(i|0,s|0,-1,-1)|0;s=P}while((O|0)>-1);u=i;d=a}else{u=i;d=a}i=ql(32,0,N|0,((N|0)<0)<<31>>31|0)|0;i=Xl(u|0,s|0,i|0,P|0)|0;N=P;if(0>(N|0)|0==(N|0)&H>>>0>i>>>0)if((i|0)<0){i=0;R=127}else R=125;else{i=H;R=125}if((R|0)==125)if((i|0)<53)R=127;else{s=i;f=+(D|0);a=0.0}if((R|0)==127){a=+(D|0);s=i;f=a;a=+pa(+Sa(1.0,84-i|0),a)}H=(l&1|0)==0&(d!=0.0&(s|0)<32);a=f*(H?0.0:d)+(a+f*+(((H&1)+l|0)>>>0))-a;if(!(a!=0.0))n[(ua()|0)>>2]=34;a=+ya(a,u);break e}else i=s}while(0);x=N+H|0;F=0-x|0;l=0;r:while(1){switch(i|0){case 46:{R=138;break r}case 48:break;default:{s=0;k=0;b=0;break r}}i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0;l=1;continue}else{i=ka(e)|0;l=1;continue}}if((R|0)==138){i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if((i|0)==48){s=0;i=0;while(1){s=Xl(s|0,i|0,-1,-1)|0;l=P;i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if((i|0)==48)i=l;else{k=l;l=1;b=1;break}}}else{s=0;k=0;b=1}}n[O>>2]=0;h=i+-48|0;u=(i|0)==46;r:do{if(u|h>>>0<10){T=O+496|0;y=0;E=0;v=u;R=k;p=l;M=b;l=0;u=0;b=0;t:while(1){do{if(v)if(!M){s=y;k=E;M=1}else{k=R;i=y;h=E;break t}else{v=Xl(y|0,E|0,1,0)|0;E=P;S=(i|0)!=48;if((u|0)>=125){if(!S){k=R;y=v;break}n[T>>2]=n[T>>2]|1;k=R;y=v;break}k=O+(u<<2)|0;if(l)h=i+-48+((n[k>>2]|0)*10|0)|0;n[k>>2]=h;l=l+1|0;h=(l|0)==9;k=R;y=v;p=1;l=h?0:l;u=(h&1)+u|0;b=S?v:b}}while(0);i=n[C>>2]|0;if(i>>>0<(n[A>>2]|0)>>>0){n[C>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;h=i+-48|0;v=(i|0)==46;if(!(v|h>>>0<10)){h=M;R=161;break r}else R=k}p=(p|0)!=0;R=169}else{y=0;E=0;p=l;h=b;l=0;u=0;b=0;R=161}}while(0);do{if((R|0)==161){T=(h|0)==0;s=T?y:s;k=T?E:k;p=(p|0)!=0;if(!((i|32|0)==101&p))if((i|0)>-1){i=y;h=E;R=169;break}else{i=y;h=E;R=171;break}h=An(e,r)|0;i=P;if((h|0)==0&(i|0)==-2147483648){if(!r){ba(e,0);a=0.0;break}if(!(n[A>>2]|0)){h=0;i=0}else{n[C>>2]=(n[C>>2]|0)+-1;h=0;i=0}}s=Xl(h|0,i|0,s|0,k|0)|0;p=y;k=P;h=E;R=173}}while(0);if((R|0)==169)if(n[A>>2]|0){n[C>>2]=(n[C>>2]|0)+-1;if(p){p=i;R=173}else R=172}else R=171;if((R|0)==171)if(p){p=i;R=173}else R=172;do{if((R|0)==172){n[(ua()|0)>>2]=22;ba(e,0);a=0.0}else if((R|0)==173){i=n[O>>2]|0;if(!i){a=+(D|0)*0.0;break}if(((h|0)<0|(h|0)==0&p>>>0<10)&((s|0)==(p|0)&(k|0)==(h|0))?H>>>0>30|(i>>>H|0)==0:0){a=+(D|0)*+(i>>>0);break}e=(N|0)/-2|0;C=((e|0)<0)<<31>>31;if((k|0)>(C|0)|(k|0)==(C|0)&s>>>0>e>>>0){n[(ua()|0)>>2]=34;a=+(D|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break}e=N+-106|0;C=((e|0)<0)<<31>>31;if((k|0)<(C|0)|(k|0)==(C|0)&s>>>0<e>>>0){n[(ua()|0)>>2]=34;a=+(D|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(l){if((l|0)<9){h=O+(u<<2)|0;i=n[h>>2]|0;do{i=i*10|0;l=l+1|0}while((l|0)!=9);n[h>>2]=i}u=u+1|0}if((b|0)<9?(b|0)<=(s|0)&(s|0)<18:0){if((s|0)==9){a=+(D|0)*+((n[O>>2]|0)>>>0);break}if((s|0)<9){a=+(D|0)*+((n[O>>2]|0)>>>0)/+(n[2648+(8-s<<2)>>2]|0);break}e=H+27+(re(s,-3)|0)|0;i=n[O>>2]|0;if((e|0)>30|(i>>>e|0)==0){a=+(D|0)*+(i>>>0)*+(n[2648+(s+-10<<2)>>2]|0);break}}i=(s|0)%9|0;if(!i){l=0;i=0}else{p=(s|0)>-1?i:i+9|0;h=n[2648+(8-p<<2)>>2]|0;if(u){b=1e9/(h|0)|0;l=0;i=0;k=0;do{A=O+(k<<2)|0;C=n[A>>2]|0;e=((C>>>0)/(h>>>0)|0)+i|0;n[A>>2]=e;i=re((C>>>0)%(h>>>0)|0,b)|0;e=(k|0)==(l|0)&(e|0)==0;k=k+1|0;s=e?s+-9|0:s;l=e?k&127:l}while((k|0)!=(u|0));if(i){n[O+(u<<2)>>2]=i;u=u+1|0}}else{l=0;u=0}i=0;s=9-p+s|0}r:while(1){E=(s|0)<18;v=(s|0)==18;S=O+(l<<2)|0;do{if(!E){if(!v)break r;if((n[S>>2]|0)>>>0>=9007199){s=18;break r}}h=0;b=u+127|0;while(1){p=b&127;k=O+(p<<2)|0;b=Kl(n[k>>2]|0,0,29)|0;b=Xl(b|0,P|0,h|0,0)|0;h=P;if(h>>>0>0|(h|0)==0&b>>>0>1e9){e=au(b|0,h|0,1e9,0)|0;b=nu(b|0,h|0,1e9,0)|0;h=e}else h=0;n[k>>2]=b;e=(p|0)==(l|0);u=(p|0)!=(u+127&127|0)|e?u:(b|0)==0?p:u;if(e)break;else b=p+-1|0}i=i+-29|0}while((h|0)==0);l=l+127&127;if((l|0)==(u|0)){e=u+127&127;u=O+((u+126&127)<<2)|0;n[u>>2]=n[u>>2]|n[O+(e<<2)>>2];u=e}n[O+(l<<2)>>2]=h;s=s+9|0}r:while(1){y=u+1&127;S=O+((u+127&127)<<2)|0;while(1){E=(s|0)==18;v=(s|0)>27?9:1;p=E^1;while(1){b=l&127;k=(b|0)==(u|0);do{if(!k){h=n[O+(b<<2)>>2]|0;if(h>>>0<9007199){R=219;break}if(h>>>0>9007199)break;h=l+1&127;if((h|0)==(u|0)){R=219;break}h=n[O+(h<<2)>>2]|0;if(h>>>0<254740991){R=219;break}if(!(h>>>0>254740991|p)){s=b;break r}}else R=219}while(0);if((R|0)==219?(R=0,E):0){R=220;break r}i=i+v|0;if((l|0)==(u|0))l=u;else break}p=(1<<v)+-1|0;E=1e9>>>v;b=l;h=0;k=l;while(1){C=O+(k<<2)|0;e=n[C>>2]|0;l=(e>>>v)+h|0;n[C>>2]=l;h=re(e&p,E)|0;l=(k|0)==(b|0)&(l|0)==0;k=k+1&127;s=l?s+-9|0:s;l=l?k:b;if((k|0)==(u|0))break;else b=l}if(!h)continue;if((y|0)!=(l|0))break;n[S>>2]=n[S>>2]|1}n[O+(u<<2)>>2]=h;u=y}if((R|0)==220)if(k){n[O+(y+-1<<2)>>2]=0;s=u;u=y}else s=b;a=+((n[O+(s<<2)>>2]|0)>>>0);s=l+1&127;if((s|0)==(u|0)){u=l+2&127;n[O+(u+-1<<2)>>2]=0}m=+(D|0);f=m*(a*1.0e9+ +((n[O+(s<<2)>>2]|0)>>>0));E=i+53|0;k=E-N|0;p=(k|0)<(H|0);s=p&1;b=p?(k|0)<0?0:k:H;if((b|0)<53){L=+pa(+Sa(1.0,105-b|0),f);d=+va(f,+Sa(1.0,53-b|0));w=L;a=d;d=L+(f-d)}else{w=0.0;a=0.0;d=f}h=l+2&127;do{if((h|0)==(u|0))f=a;else{h=n[O+(h<<2)>>2]|0;do{if(h>>>0>=5e8){if(h>>>0>5e8){a=m*.75+a;break}if((l+3&127|0)==(u|0)){a=m*.5+a;break}else{a=m*.75+a;break}}else{if((h|0)==0?(l+3&127|0)==(u|0):0)break;a=m*.25+a}}while(0);if((53-b|0)<=1){f=a;break}if(+va(a,1.0)!=0.0){f=a;break}f=a+1.0}}while(0);a=d+f-w;do{if((E&2147483647|0)>(-2-x|0)){if(+W(+a)>=9007199254740992.0){s=p&(b|0)==(k|0)?0:s;i=i+1|0;a=a*.5}if((i+50|0)<=(F|0)?!(f!=0.0&(s|0)!=0):0)break;n[(ua()|0)>>2]=34}}while(0);a=+ya(a,i)}}while(0);break e}default:{if(n[A>>2]|0)n[C>>2]=(n[C>>2]|0)+-1;n[(ua()|0)>>2]=22;ba(e,0);a=0.0;break e}}}}}while(0);if((R|0)==23){s=(n[A>>2]|0)==0;if(!s)n[C>>2]=(n[C>>2]|0)+-1;if((r|0)!=0&i>>>0>3)do{if(!s)n[C>>2]=(n[C>>2]|0)+-1;i=i+-1|0}while(i>>>0>3)}a=+(D|0)*g}}while(0);c=I;return+a}function ha(e,i,r,a,s){e=e|0;i=i|0;r=r|0;a=a|0;s=s|0;var f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0;e:do{if(i>>>0>36){n[(ua()|0)>>2]=22;s=0;a=0}else{m=e+4|0;w=e+100|0;do{f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0}while((la(f)|0)!=0);i:do{switch(f|0){case 43:case 45:{l=((f|0)==45)<<31>>31;f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0;k=l;break i}else{f=ka(e)|0;k=l;break i}}default:k=0}}while(0);l=(i|0)==0;do{if((i&-17|0)==0&(f|0)==48){f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0;if((f|32|0)!=120)if(l){i=8;h=46;break}else{h=32;break}i=n[m>>2]|0;if(i>>>0<(n[w>>2]|0)>>>0){n[m>>2]=i+1;f=o[i>>0]|0}else f=ka(e)|0;if((o[14643+(f+1)>>0]|0)>15){a=(n[w>>2]|0)==0;if(!a)n[m>>2]=(n[m>>2]|0)+-1;if(!r){ba(e,0);s=0;a=0;break e}if(a){s=0;a=0;break e}n[m>>2]=(n[m>>2]|0)+-1;s=0;a=0;break e}else{i=16;h=46}}else{i=l?10:i;if((o[14643+(f+1)>>0]|0)>>>0<i>>>0)h=32;else{if(n[w>>2]|0)n[m>>2]=(n[m>>2]|0)+-1;ba(e,0);n[(ua()|0)>>2]=22;s=0;a=0;break e}}}while(0);if((h|0)==32)if((i|0)==10){i=f+-48|0;if(i>>>0<10){f=0;while(1){l=(f*10|0)+i|0;i=n[m>>2]|0;if(i>>>0<(n[w>>2]|0)>>>0){n[m>>2]=i+1;f=o[i>>0]|0}else f=ka(e)|0;i=f+-48|0;if(!(i>>>0<10&l>>>0<429496729)){i=l;break}else f=l}l=0}else{i=0;l=0}r=f+-48|0;if(r>>>0<10){while(1){u=tu(i|0,l|0,10,0)|0;c=P;d=((r|0)<0)<<31>>31;b=~d;if(c>>>0>b>>>0|(c|0)==(b|0)&u>>>0>~r>>>0){u=i;break}i=Xl(u|0,c|0,r|0,d|0)|0;l=P;f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0;r=f+-48|0;if(!(r>>>0<10&(l>>>0<429496729|(l|0)==429496729&i>>>0<2576980378))){u=i;break}}if(r>>>0>9){f=u;i=k}else{i=10;h=72}}else{f=i;i=k}}else h=46;i:do{if((h|0)==46){if(!(i+-1&i)){h=t[14900+((i*23|0)>>>5&7)>>0]|0;l=t[14643+(f+1)>>0]|0;r=l&255;if(r>>>0<i>>>0){f=0;while(1){u=r|f<<h;f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0;l=t[14643+(f+1)>>0]|0;r=l&255;if(!(u>>>0<134217728&r>>>0<i>>>0))break;else f=u}r=0}else{r=0;u=0}c=Jl(-1,-1,h|0)|0;d=P;if((l&255)>>>0>=i>>>0|(r>>>0>d>>>0|(r|0)==(d|0)&u>>>0>c>>>0)){l=r;h=72;break}else f=r;while(1){u=Kl(u|0,f|0,h|0)|0;r=P;u=l&255|u;f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0;l=t[14643+(f+1)>>0]|0;if((l&255)>>>0>=i>>>0|(r>>>0>d>>>0|(r|0)==(d|0)&u>>>0>c>>>0)){l=r;h=72;break i}else f=r}}l=t[14643+(f+1)>>0]|0;r=l&255;if(r>>>0<i>>>0){f=0;while(1){u=r+(re(f,i)|0)|0;f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0;l=t[14643+(f+1)>>0]|0;r=l&255;if(!(u>>>0<119304647&r>>>0<i>>>0))break;else f=u}r=0}else{u=0;r=0}if((l&255)>>>0<i>>>0){h=au(-1,-1,i|0,0)|0;b=P;d=r;while(1){if(d>>>0>b>>>0|(d|0)==(b|0)&u>>>0>h>>>0){l=d;h=72;break i}r=tu(u|0,d|0,i|0,0)|0;c=P;l=l&255;if(c>>>0>4294967295|(c|0)==-1&r>>>0>~l>>>0){l=d;h=72;break i}u=Xl(l|0,0,r|0,c|0)|0;r=P;f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0;l=t[14643+(f+1)>>0]|0;if((l&255)>>>0>=i>>>0){l=r;h=72;break}else d=r}}else{l=r;h=72}}}while(0);if((h|0)==72)if((o[14643+(f+1)>>0]|0)>>>0<i>>>0){do{f=n[m>>2]|0;if(f>>>0<(n[w>>2]|0)>>>0){n[m>>2]=f+1;f=o[f>>0]|0}else f=ka(e)|0}while((o[14643+(f+1)>>0]|0)>>>0<i>>>0);n[(ua()|0)>>2]=34;l=s;f=a;i=(a&1|0)==0&0==0?k:0}else{f=u;i=k}if(n[w>>2]|0)n[m>>2]=(n[m>>2]|0)+-1;if(!(l>>>0<s>>>0|(l|0)==(s|0)&f>>>0<a>>>0)){if(!((a&1|0)!=0|0!=0|(i|0)!=0)){n[(ua()|0)>>2]=34;a=Xl(a|0,s|0,-1,-1)|0;s=P;break}if(l>>>0>s>>>0|(l|0)==(s|0)&f>>>0>a>>>0){n[(ua()|0)>>2]=34;break}}a=((i|0)<0)<<31>>31;a=ql(f^i|0,l^a|0,i|0,a|0)|0;s=P}}while(0);P=s;return a|0}function ba(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;n[e+104>>2]=i;r=n[e+4>>2]|0;t=n[e+8>>2]|0;a=t-r|0;n[e+108>>2]=a;if((i|0)!=0&(a|0)>(i|0))n[e+100>>2]=r+i;else n[e+100>>2]=t;return}function ka(e){e=e|0;var i=0,r=0,a=0,s=0,f=0,l=0;r=e+104|0;f=n[r>>2]|0;if((f|0)!=0?(n[e+108>>2]|0)>=(f|0):0)l=4;else{i=Ua(e)|0;if((i|0)>=0){s=n[r>>2]|0;r=e+8|0;if(s){a=n[r>>2]|0;f=n[e+4>>2]|0;r=a;s=s-(n[e+108>>2]|0)+-1|0;if((r-f|0)>(s|0))n[e+100>>2]=f+s;else l=9}else{a=n[r>>2]|0;r=a;l=9}if((l|0)==9)n[e+100>>2]=r;r=n[e+4>>2]|0;if(a){e=e+108|0;n[e>>2]=a+1-r+(n[e>>2]|0)}r=r+-1|0;if((o[r>>0]|0|0)!=(i|0))t[r>>0]=i}else l=4}if((l|0)==4){n[e+100>>2]=0;i=-1}return i|0}function wa(e){e=e|0;if(e>>>0>4294963200){n[(ua()|0)>>2]=0-e;e=-1}return e|0}function ma(e,i){e=+e;i=+i;var r=0,t=0;u[h>>3]=e;t=n[h>>2]|0;r=n[h+4>>2]|0;u[h>>3]=i;r=n[h+4>>2]&-2147483648|r&2147483647;n[h>>2]=t;n[h+4>>2]=r;return+ +u[h>>3]}function pa(e,i){e=+e;i=+i;return+ +ma(e,i)}function Ea(e,i){e=+e;i=+i;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,c=0,d=0,b=0,k=0,w=0;u[h>>3]=e;r=n[h>>2]|0;c=n[h+4>>2]|0;u[h>>3]=i;d=n[h>>2]|0;b=n[h+4>>2]|0;t=Jl(r|0,c|0,52)|0;t=t&2047;f=Jl(d|0,b|0,52)|0;f=f&2047;k=c&-2147483648;s=Kl(d|0,b|0,1)|0;l=P;e:do{if(!((s|0)==0&(l|0)==0)?(o=b&2147483647,!(o>>>0>2146435072|(o|0)==2146435072&d>>>0>0|(t|0)==2047)):0){a=Kl(r|0,c|0,1)|0;o=P;if(!(o>>>0>l>>>0|(o|0)==(l|0)&a>>>0>s>>>0))return+((a|0)==(s|0)&(o|0)==(l|0)?e*0.0:e);if(!t){t=Kl(r|0,c|0,12)|0;a=P;if((a|0)>-1|(a|0)==-1&t>>>0>4294967295){o=t;t=0;do{t=t+-1|0;o=Kl(o|0,a|0,1)|0;a=P}while((a|0)>-1|(a|0)==-1&o>>>0>4294967295)}else t=0;r=Kl(r|0,c|0,1-t|0)|0;a=P}else a=c&1048575|1048576;if(!f){o=Kl(d|0,b|0,12)|0;s=P;if((s|0)>-1|(s|0)==-1&o>>>0>4294967295){f=0;do{f=f+-1|0;o=Kl(o|0,s|0,1)|0;s=P}while((s|0)>-1|(s|0)==-1&o>>>0>4294967295)}else f=0;d=Kl(d|0,b|0,1-f|0)|0;c=P}else c=b&1048575|1048576;l=ql(r|0,a|0,d|0,c|0)|0;s=P;o=(s|0)>-1|(s|0)==-1&l>>>0>4294967295;i:do{if((t|0)>(f|0)){while(1){if(o)if((r|0)==(d|0)&(a|0)==(c|0))break;else{r=l;a=s}r=Kl(r|0,a|0,1)|0;a=P;t=t+-1|0;l=ql(r|0,a|0,d|0,c|0)|0;s=P;o=(s|0)>-1|(s|0)==-1&l>>>0>4294967295;if((t|0)<=(f|0))break i}i=e*0.0;break e}}while(0);if(o)if((r|0)==(d|0)&(a|0)==(c|0)){i=e*0.0;break}else{a=s;r=l}if(a>>>0<1048576|(a|0)==1048576&r>>>0<0)do{r=Kl(r|0,a|0,1)|0;a=P;t=t+-1|0}while(a>>>0<1048576|(a|0)==1048576&r>>>0<0);if((t|0)>0){b=Xl(r|0,a|0,0,-1048576)|0;r=P;t=Kl(t|0,0,52)|0;r=r|P;t=b|t}else{t=Jl(r|0,a|0,1-t|0)|0;r=P}n[h>>2]=t;n[h+4>>2]=r|k;i=+u[h>>3]}else w=3}while(0);if((w|0)==3){i=e*i;i=i/i}return+i}function va(e,i){e=+e;i=+i;return+ +Ea(e,i)}function _a(e,i){e=+e;i=i|0;var r=0,t=0,a=0;u[h>>3]=e;r=n[h>>2]|0;t=n[h+4>>2]|0;a=Jl(r|0,t|0,52)|0;a=a&2047;switch(a|0){case 0:{if(e!=0.0){e=+_a(e*18446744073709551616.0,i);r=(n[i>>2]|0)+-64|0}else r=0;n[i>>2]=r;break}case 2047:break;default:{n[i>>2]=a+-1022;n[h>>2]=r;n[h+4>>2]=t&-2146435073|1071644672;e=+u[h>>3]}}return+e}function ga(e,i){e=+e;i=i|0;return+ +_a(e,i)}function Sa(e,i){e=+e;i=i|0;var r=0;if((i|0)>1023){e=e*8988465674311579538646525.0e283;r=i+-1023|0;if((r|0)>1023){r=i+-2046|0;r=(r|0)>1023?1023:r;e=e*8988465674311579538646525.0e283}}else if((i|0)<-1022){e=e*2.2250738585072014e-308;r=i+1022|0;if((r|0)<-1022){r=i+2044|0;r=(r|0)<-1022?-1022:r;e=e*2.2250738585072014e-308}}else r=i;r=Kl(r+1023|0,0,52)|0;i=P;n[h>>2]=r;n[h+4>>2]=i;return+(e*+u[h>>3])}function ya(e,i){e=+e;i=i|0;return+ +Sa(e,i)}function Ma(e,i,r,a){e=e|0;i=i|0;r=r|0;a=a|0;var o=0,s=0,f=0,l=0,u=0,d=0;u=c;c=c+16|0;o=u;f=(a|0)==0?2680:a;a=n[f>>2]|0;e:do{if(!i)if(!a)a=0;else l=15;else{s=(e|0)==0?o:e;if(!r)a=-2;else{if(!a){a=t[i>>0]|0;o=a&255;if(a<<24>>24>-1){n[s>>2]=o;a=a<<24>>24!=0&1;break}a=o+-194|0;if(a>>>0>50){l=15;break}a=n[2432+(a<<2)>>2]|0;o=r+-1|0;if(o){i=i+1|0;l=9}}else{o=r;l=9}i:do{if((l|0)==9){e=t[i>>0]|0;d=(e&255)>>>3;if((d+-16|d+(a>>26))>>>0>7){l=15;break e}while(1){i=i+1|0;a=(e&255)+-128|a<<6;o=o+-1|0;if((a|0)>=0)break;if(!o)break i;e=t[i>>0]|0;if((e&-64)<<24>>24!=-128){l=15;break e}}n[f>>2]=0;n[s>>2]=a;a=r-o|0;break e}}while(0);n[f>>2]=a;a=-2}}}while(0);if((l|0)==15){n[f>>2]=0;n[(ua()|0)>>2]=84;a=-1}c=u;return a|0}function Ra(e){e=e|0;if(!e)e=1;else e=(n[e>>2]|0)==0;return e&1|0}function Ta(e,i,r){e=e|0;i=i|0;r=r|0;do{if(e){if(i>>>0<128){t[e>>0]=i;e=1;break}if(i>>>0<2048){t[e>>0]=i>>>6|192;t[e+1>>0]=i&63|128;e=2;break}if(i>>>0<55296|(i&-8192|0)==57344){t[e>>0]=i>>>12|224;t[e+1>>0]=i>>>6&63|128;t[e+2>>0]=i&63|128;e=3;break}if((i+-65536|0)>>>0<1048576){t[e>>0]=i>>>18|240;t[e+1>>0]=i>>>12&63|128;t[e+2>>0]=i>>>6&63|128;t[e+3>>0]=i&63|128;e=4;break}else{n[(ua()|0)>>2]=84;e=-1;break}}else e=1}while(0);return e|0}function Aa(e,i){e=e|0;i=i|0;if(!e)e=0;else e=Ta(e,i,0)|0;return e|0}function Ca(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0,f=0,l=0,u=0,d=0,h=0,b=0;b=c;c=c+112|0;h=b+40|0;u=b+24|0;l=b+16|0;o=b;d=b+52|0;a=t[i>>0]|0;if(hn(14909,a<<24>>24,4)|0){r=Un(1144)|0;if(!r)r=0;else{s=r;f=s+112|0;do{n[s>>2]=0;s=s+4|0}while((s|0)<(f|0));if(!(mn(i,43)|0))n[r>>2]=a<<24>>24==114?8:4;if(mn(i,101)|0){n[o>>2]=e;n[o+4>>2]=2;n[o+8>>2]=1;ye(221,o|0)|0;a=t[i>>0]|0}if(a<<24>>24==97){n[l>>2]=e;n[l+4>>2]=3;a=ye(221,l|0)|0;if(!(a&1024)){n[u>>2]=e;n[u+4>>2]=4;n[u+8>>2]=a|1024;ye(221,u|0)|0}i=n[r>>2]|128;n[r>>2]=i}else i=n[r>>2]|0;n[r+60>>2]=e;n[r+44>>2]=r+120;n[r+48>>2]=1024;a=r+75|0;t[a>>0]=-1;if((i&8|0)==0?(n[h>>2]=e,n[h+4>>2]=21505,n[h+8>>2]=d,(ki(54,h|0)|0)==0):0)t[a>>0]=10;n[r+32>>2]=14;n[r+36>>2]=4;n[r+40>>2]=5;n[r+12>>2]=2;if(!(n[598]|0))n[r+76>>2]=-1;Ti(2416);a=n[603]|0;n[r+56>>2]=a;if(a)n[a+52>>2]=r;n[603]=r;wi(2416)}}else{n[(ua()|0)>>2]=22;r=0}c=b;return r|0}function xa(e){e=e|0;var i=0,r=0,a=0;r=(mn(e,43)|0)==0;i=t[e>>0]|0;r=r?i<<24>>24!=114&1:2;a=(mn(e,120)|0)==0;r=a?r:r|128;e=(mn(e,101)|0)==0;e=e?r:r|524288;e=i<<24>>24==114?e:e|64;e=i<<24>>24==119?e|512:e;return(i<<24>>24==97?e|1024:e)|0}function Fa(e){e=e|0;return 0}function Pa(e){e=e|0;return}function Oa(e){e=e|0;var i=0,r=0;i=c;c=c+16|0;r=i;n[r>>2]=n[e+60>>2];e=wa(Ai(6,r|0)|0)|0;c=i;return e|0}function Da(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0,l=0,u=0,d=0,h=0;d=c;c=c+48|0;s=d+16|0;o=d;a=d+32|0;n[a>>2]=i;f=a+4|0;u=e+48|0;h=n[u>>2]|0;n[f>>2]=r-((h|0)!=0&1);l=e+44|0;n[a+8>>2]=n[l>>2];n[a+12>>2]=h;if(!(n[597]|0)){n[s>>2]=n[e+60>>2];n[s+4>>2]=a;n[s+8>>2]=2;a=wa(Bi(145,s|0)|0)|0}else{De(13,e|0);n[o>>2]=n[e+60>>2];n[o+4>>2]=a;n[o+8>>2]=2;a=wa(Bi(145,o|0)|0)|0;pi(0)}if((a|0)>=1){f=n[f>>2]|0;if(a>>>0>f>>>0){s=n[l>>2]|0;o=e+4|0;n[o>>2]=s;n[e+8>>2]=s+(a-f);if(!(n[u>>2]|0))a=r;else{n[o>>2]=s+1;t[i+(r+-1)>>0]=t[s>>0]|0;a=r}}}else{n[e>>2]=n[e>>2]|a&48^16;n[e+8>>2]=0;n[e+4>>2]=0}c=d;return a|0}function Na(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0;a=c;c=c+32|0;o=a;t=a+20|0;n[o>>2]=n[e+60>>2];n[o+4>>2]=0;n[o+8>>2]=i;n[o+12>>2]=t;n[o+16>>2]=r;if((wa(Ii(140,o|0)|0)|0)<0){n[t>>2]=-1;e=-1}else e=n[t>>2]|0;c=a;return e|0}function Ha(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0,f=0,l=0,u=0,d=0,h=0,b=0,k=0,w=0;w=c;c=c+48|0;h=w+16|0;d=w;t=w+32|0;b=e+28|0;a=n[b>>2]|0;n[t>>2]=a;k=e+20|0;a=(n[k>>2]|0)-a|0;n[t+4>>2]=a;n[t+8>>2]=i;n[t+12>>2]=r;l=e+60|0;u=e+44|0;i=2;a=a+r|0;while(1){if(!(n[597]|0)){n[h>>2]=n[l>>2];n[h+4>>2]=t;n[h+8>>2]=i;s=wa(Wi(146,h|0)|0)|0}else{De(14,e|0);n[d>>2]=n[l>>2];n[d+4>>2]=t;n[d+8>>2]=i;s=wa(Wi(146,d|0)|0)|0;pi(0)}if((a|0)==(s|0)){a=6;break}if((s|0)<0){a=8;break}a=a-s|0;o=n[t+4>>2]|0;if(s>>>0<=o>>>0)if((i|0)==2){n[b>>2]=(n[b>>2]|0)+s;f=o;i=2}else f=o;else{f=n[u>>2]|0;n[b>>2]=f;n[k>>2]=f;f=n[t+12>>2]|0;s=s-o|0;t=t+8|0;i=i+-1|0}n[t>>2]=(n[t>>2]|0)+s;n[t+4>>2]=f-s}if((a|0)==6){h=n[u>>2]|0;n[e+16>>2]=h+(n[e+48>>2]|0);e=h;n[b>>2]=e;n[k>>2]=e}else if((a|0)==8){n[e+16>>2]=0;n[b>>2]=0;n[k>>2]=0;n[e>>2]=n[e>>2]|32;if((i|0)==2)r=0;else r=r-(n[t+4>>2]|0)|0}c=w;return r|0}function Ia(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0;o=c;c=c+80|0;a=o;n[e+36>>2]=4;if((n[e>>2]&64|0)==0?(n[a>>2]=n[e+60>>2],n[a+4>>2]=21505,n[a+8>>2]=o+12,(ki(54,a|0)|0)!=0):0)t[e+75>>0]=-1;a=Ha(e,i,r)|0;c=o;return a|0}function La(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0;t=e+84|0;o=n[t>>2]|0;s=r+256|0;a=hn(o,0,s)|0;a=(a|0)==0?s:a-o|0;r=a>>>0<r>>>0?a:r;Zl(i|0,o|0,r|0)|0;n[e+4>>2]=o+r;i=o+a|0;n[e+8>>2]=i;n[t>>2]=i;return r|0}function ja(e){e=e|0;var i=0,r=0;i=e+74|0;r=t[i>>0]|0;t[i>>0]=r+255|r;i=e+20|0;r=e+44|0;if((n[i>>2]|0)>>>0>(n[r>>2]|0)>>>0)ju[n[e+36>>2]&15](e,0,0)|0;n[e+16>>2]=0;n[e+28>>2]=0;n[i>>2]=0;i=n[e>>2]|0;if(i&20)if(!(i&4))i=-1;else{n[e>>2]=i|32;i=-1}else{i=n[r>>2]|0;n[e+8>>2]=i;n[e+4>>2]=i;i=0}return i|0}function Va(e){e=e|0;var i=0,r=0;i=e+74|0;r=t[i>>0]|0;t[i>>0]=r+255|r;i=n[e>>2]|0;if(!(i&8)){n[e+8>>2]=0;n[e+4>>2]=0;i=n[e+44>>2]|0;n[e+28>>2]=i;n[e+20>>2]=i;n[e+16>>2]=i+(n[e+48>>2]|0);i=0}else{n[e>>2]=i|32;i=-1}return i|0}function Ua(e){e=e|0;var i=0,r=0;r=c;c=c+16|0;i=r;if((n[e+8>>2]|0)==0?(ja(e)|0)!=0:0)i=-1;else if((ju[n[e+32>>2]&15](e,i,1)|0)==1)i=o[i>>0]|0;else i=-1;c=r;return i|0}function Ba(e){e=e|0;var i=0,r=0,t=0;t=(n[e>>2]&1|0)!=0;if(!t){Ti(2416);r=n[e+52>>2]|0;i=e+56|0;if(r)n[r+56>>2]=n[i>>2];i=n[i>>2]|0;if(i)n[i+52>>2]=r;if((n[603]|0)==(e|0))n[603]=i;wi(2416)}i=za(e)|0;i=Gu[n[e+12>>2]&31](e)|0|i;r=n[e+92>>2]|0;if(r)Bn(r);if(!t)Bn(e);return i|0}function Wa(e){e=e|0;var i=0;if((n[e+76>>2]|0)>-1){i=(Fa(e)|0)==0;e=(n[e>>2]|0)>>>5&1}else e=(n[e>>2]|0)>>>5&1;return e|0}function za(e){e=e|0;var i=0,r=0;do{if(e){if((n[e+76>>2]|0)<=-1){i=Fn(e)|0;break}r=(Fa(e)|0)==0;i=Fn(e)|0;if(!r)Pa(e)}else{if(!(n[660]|0))i=0;else i=za(n[660]|0)|0;Ti(2416);e=n[603]|0;if(e)do{if((n[e+76>>2]|0)>-1)r=Fa(e)|0;else r=0;if((n[e+20>>2]|0)>>>0>(n[e+28>>2]|0)>>>0)i=Fn(e)|0|i;if(r)Pa(e);e=n[e+56>>2]|0}while((e|0)!=0);wi(2416)}}while(0);return i|0}function Ya(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0;if((n[r+76>>2]|0)>-1)b=Fa(r)|0;else b=0;a=i+-1|0;if((i|0)<2){k=r+74|0;h=t[k>>0]|0;t[k>>0]=h+255|h;if(b)Pa(r);if(!a)t[e>>0]=0;else e=0}else{e:do{if(a){d=r+4|0;h=r+8|0;s=e;while(1){f=n[d>>2]|0;w=f;u=(n[h>>2]|0)-w|0;l=hn(f,10,u)|0;m=(l|0)==0;l=m?u:1-w+l|0;w=l>>>0<a>>>0;l=w?l:a;Zl(s|0,f|0,l|0)|0;f=n[d>>2]|0;u=f+l|0;n[d>>2]=u;i=s+l|0;c=a-l|0;if(!(m&w)){k=18;break e}if(u>>>0<(n[h>>2]|0)>>>0){l=l+1|0;n[d>>2]=f+l;f=o[u>>0]|0}else{a=Ua(r)|0;if((a|0)<0)break;l=l+1|0;f=a}a=c+-1|0;s=s+l|0;t[i>>0]=f;if(!((a|0)!=0&(f&255|0)!=10)){i=s;k=18;break e}}if((i|0)!=(e|0)?(n[r>>2]&16|0)!=0:0)k=18;else e=0}else{i=e;k=18}}while(0);if((k|0)==18)if(!e)e=0;else t[i>>0]=0;if(b)Pa(r)}return e|0}function qa(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0;o=c;c=c+32|0;a=o+16|0;r=o;if(hn(14909,t[i>>0]|0,4)|0){s=xa(i)|0|32768;n[r>>2]=e;n[r+4>>2]=s;n[r+8>>2]=438;r=wa(Ci(5,r|0)|0)|0;if((r|0)>=0){e=Ca(r,i)|0;if(!e){n[a>>2]=r;Ai(6,a|0)|0;e=0}}else e=0}else{n[(ua()|0)>>2]=22;e=0}c=o;return e|0}function Ga(e,i){e=e|0;i=i|0;return(tn(e,gn(e)|0,1,i)|0)+-1|0}function Ka(e,i,r,a){e=e|0;i=i|0;r=r|0;a=a|0;var o=0,s=0,f=0,l=0,u=0,c=0;l=re(r,i)|0;if((n[a+76>>2]|0)>-1)u=Fa(a)|0;else u=0;o=a+74|0;s=t[o>>0]|0;t[o>>0]=s+255|s;o=a+4|0;s=n[o>>2]|0;f=(n[a+8>>2]|0)-s|0;if((f|0)>0){f=f>>>0<l>>>0?f:l;Zl(e|0,s|0,f|0)|0;n[o>>2]=s+f;e=e+f|0;o=l-f|0}else o=l;e:do{if(!o)c=13;else{f=a+32|0;s=o;while(1){if(ja(a)|0){r=s;break}o=ju[n[f>>2]&15](a,e,s)|0;if((o+1|0)>>>0<2){r=s;break}if((s|0)==(o|0)){c=13;break e}else{e=e+o|0;s=s-o|0}}if(u)Pa(a);r=((l-r|0)>>>0)/(i>>>0)|0}}while(0);if((c|0)==13)if(u)Pa(a);return r|0}function Xa(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;if((r|0)==1)i=i-(n[e+8>>2]|0)+(n[e+4>>2]|0)|0;a=e+20|0;t=e+28|0;if((n[a>>2]|0)>>>0>(n[t>>2]|0)>>>0?(ju[n[e+36>>2]&15](e,0,0)|0,(n[a>>2]|0)==0):0)i=-1;else{n[e+16>>2]=0;n[t>>2]=0;n[a>>2]=0;if((ju[n[e+40>>2]&15](e,i,r)|0)<0)i=-1;else{n[e+8>>2]=0;n[e+4>>2]=0;n[e>>2]=n[e>>2]&-17;i=0}}return i|0}function Ja(e,i,r){e=e|0;i=i|0;r=r|0;var t=0;if((n[e+76>>2]|0)>-1){t=(Fa(e)|0)==0;i=Xa(e,i,r)|0;if(!t)Pa(e)}else i=Xa(e,i,r)|0;return i|0}function Za(e,i,r){e=e|0;i=i|0;r=r|0;return Ja(e,i,r)|0}function Qa(e){e=e|0;var i=0;if(!(n[e>>2]&128))i=1;else i=(n[e+20>>2]|0)>>>0>(n[e+28>>2]|0)>>>0?2:1;i=ju[n[e+40>>2]&15](e,0,i)|0;if((i|0)>=0)i=i-(n[e+8>>2]|0)+(n[e+4>>2]|0)+(n[e+20>>2]|0)-(n[e+28>>2]|0)|0;return i|0}function $a(e){e=e|0;var i=0;if((n[e+76>>2]|0)>-1){i=(Fa(e)|0)==0;e=Qa(e)|0}else e=Qa(e)|0;return e|0}function en(e){e=e|0;return $a(e)|0}function rn(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0;a=r+16|0;o=n[a>>2]|0;if(!o)if(!(Va(r)|0)){o=n[a>>2]|0;s=4}else a=0;else s=4;e:do{if((s|0)==4){f=r+20|0;s=n[f>>2]|0;if((o-s|0)>>>0<i>>>0){a=ju[n[r+36>>2]&15](r,e,i)|0;break}i:do{if((t[r+75>>0]|0)>-1){a=i;while(1){if(!a){o=s;a=0;break i}o=a+-1|0;if((t[e+o>>0]|0)==10)break;else a=o}if((ju[n[r+36>>2]&15](r,e,a)|0)>>>0<a>>>0)break e;i=i-a|0;e=e+a|0;o=n[f>>2]|0}else{o=s;a=0}}while(0);Zl(o|0,e|0,i|0)|0;n[f>>2]=(n[f>>2]|0)+i;a=a+i|0}}while(0);return a|0}function tn(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0;a=re(r,i)|0;if((n[t+76>>2]|0)>-1){o=(Fa(t)|0)==0;e=rn(e,a,t)|0;if(!o)Pa(t)}else e=rn(e,a,t)|0;if((e|0)!=(a|0))r=(e>>>0)/(i>>>0)|0;return r|0}function an(e){e=e|0;var i=0;if((n[e+76>>2]|0)>-1){i=(Fa(e)|0)==0;Xa(e,0,0)|0;n[e>>2]=n[e>>2]&-33;if(!i)Pa(e)}else{Xa(e,0,0)|0;n[e>>2]=n[e>>2]&-33}return}function nn(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;t=c;c=c+16|0;a=t;n[a>>2]=r;r=un(e,i,a)|0;c=t;return r|0}function on(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0,f=0;f=c;c=c+16|0;t=f;a=Un(240)|0;do{if(a){n[t>>2]=n[r>>2];t=ln(a,240,i,t)|0;if(t>>>0<240){i=zn(a,t+1|0)|0;n[e>>2]=(i|0)!=0?i:a;break}Bn(a);if((t|0)>=0?(s=t+1|0,o=Un(s)|0,n[e>>2]=o,(o|0)!=0):0)t=ln(o,s,i,r)|0;else t=-1}else t=-1}while(0);c=f;return t|0}function sn(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0,l=0,u=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0;p=c;c=c+224|0;b=p+80|0;m=p+96|0;w=p;k=p+136|0;a=m;o=a+40|0;do{n[a>>2]=0;a=a+4|0}while((a|0)<(o|0));n[b>>2]=n[r>>2];if((Pn(0,i,b,w,m)|0)<0)r=-1;else{if((n[e+76>>2]|0)>-1)d=Fa(e)|0;else d=0;r=n[e>>2]|0;h=r&32;if((t[e+74>>0]|0)<1)n[e>>2]=r&-33;r=e+48|0;if(!(n[r>>2]|0)){o=e+44|0;s=n[o>>2]|0;n[o>>2]=k;f=e+28|0;n[f>>2]=k;l=e+20|0;n[l>>2]=k;n[r>>2]=80;u=e+16|0;n[u>>2]=k+80;a=Pn(e,i,b,w,m)|0;if(s){ju[n[e+36>>2]&15](e,0,0)|0;a=(n[l>>2]|0)==0?-1:a;n[o>>2]=s;n[r>>2]=0;n[u>>2]=0;n[f>>2]=0;n[l>>2]=0}}else a=Pn(e,i,b,w,m)|0;r=n[e>>2]|0;n[e>>2]=r|h;if(d)Pa(e);r=(r&32|0)==0?a:-1}c=p;return r|0}function fn(e,i,r){e=e|0;i=i|0;r=r|0;var s=0,f=0,d=0,h=0,b=0,k=0.0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,O=0,D=0,N=0,H=0,I=0,L=0,j=0,V=0,U=0,B=0;U=c;c=c+304|0;O=U+16|0;N=U+8|0;D=U+33|0;H=U;y=U+32|0;if((n[e+76>>2]|0)>-1)V=Fa(e)|0;else V=0;s=t[i>>0]|0;e:do{if(s<<24>>24){I=e+4|0;L=e+100|0;F=e+108|0;M=e+8|0;R=D+10|0;T=D+33|0;A=N+4|0;C=D+46|0;x=D+94|0;d=s;s=0;h=i;p=0;f=0;i=0;i:while(1){r:do{if(!(la(d&255)|0)){d=(t[h>>0]|0)==37;t:do{if(d){w=h+1|0;b=t[w>>0]|0;a:do{switch(b<<24>>24){case 37:break t;case 42:{S=0;b=h+2|0;break}default:{b=(b&255)+-48|0;if(b>>>0<10?(t[h+2>>0]|0)==36:0){n[O>>2]=n[r>>2];while(1){S=(n[O>>2]|0)+(4-1)&~(4-1);d=n[S>>2]|0;n[O>>2]=S+4;if(b>>>0>1)b=b+-1|0;else break}S=d;b=h+3|0;break a}b=(n[r>>2]|0)+(4-1)&~(4-1);S=n[b>>2]|0;n[r>>2]=b+4;b=w}}}while(0);d=t[b>>0]|0;h=d&255;if((h+-48|0)>>>0<10){d=0;while(1){w=(d*10|0)+-48+h|0;b=b+1|0;d=t[b>>0]|0;h=d&255;if((h+-48|0)>>>0>=10)break;else d=w}}else w=0;if(d<<24>>24==109){b=b+1|0;m=t[b>>0]|0;d=(S|0)!=0&1;f=0;i=0}else{m=d;d=0}h=b+1|0;switch(m&255|0){case 104:{g=(t[h>>0]|0)==104;h=g?b+2|0:h;b=g?-2:-1;break}case 108:{g=(t[h>>0]|0)==108;h=g?b+2|0:h;b=g?3:1;break}case 106:{b=3;break}case 116:case 122:{b=1;break}case 76:{b=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{h=b;b=0;break}default:{j=152;break i}}m=o[h>>0]|0;E=(m&47|0)==3;m=E?m|32:m;E=E?1:b;switch(m|0){case 99:{g=p;_=(w|0)<1?1:w;break}case 91:{g=p;_=w;break}case 110:{if(!S){b=p;break r}switch(E|0){case-2:{t[S>>0]=p;b=p;break r}case-1:{a[S>>1]=p;b=p;break r}case 0:{n[S>>2]=p;b=p;break r}case 1:{n[S>>2]=p;b=p;break r}case 3:{b=S;n[b>>2]=p;n[b+4>>2]=((p|0)<0)<<31>>31;b=p;break r}default:{b=p;break r}}}default:{ba(e,0);do{b=n[I>>2]|0;if(b>>>0<(n[L>>2]|0)>>>0){n[I>>2]=b+1;b=o[b>>0]|0}else b=ka(e)|0}while((la(b)|0)!=0);b=n[I>>2]|0;if(n[L>>2]|0){b=b+-1|0;n[I>>2]=b}g=(n[F>>2]|0)+p+b-(n[M>>2]|0)|0;_=w}}ba(e,_);b=n[I>>2]|0;w=n[L>>2]|0;if(b>>>0<w>>>0)n[I>>2]=b+1;else{if((ka(e)|0)<0){j=152;break i}w=n[L>>2]|0}if(w)n[I>>2]=(n[I>>2]|0)+-1;a:do{switch(m|0){case 91:case 99:case 115:{v=(m|0)==99;n:do{if((m&239|0)==99){Gl(D|0,-1,257)|0;t[D>>0]=0;if((m|0)==115){t[T>>0]=0;t[R>>0]=0;t[R+1>>0]=0;t[R+2>>0]=0;t[R+3>>0]=0;t[R+4>>0]=0}}else{B=h+1|0;p=(t[B>>0]|0)==94;b=p&1;m=p?B:h;h=p?h+2|0:B;Gl(D|0,p&1|0,257)|0;t[D>>0]=0;switch(t[h>>0]|0){case 45:{p=(b^1)&255;t[C>>0]=p;h=m+2|0;break}case 93:{p=(b^1)&255;t[x>>0]=p;h=m+2|0;break}default:p=(b^1)&255}while(1){b=t[h>>0]|0;o:do{switch(b<<24>>24){case 0:{j=152;break i}case 93:break n;case 45:{m=h+1|0;b=t[m>>0]|0;switch(b<<24>>24){case 93:case 0:{b=45;break o}default:{}}h=t[h+-1>>0]|0;if((h&255)<(b&255)){h=h&255;do{h=h+1|0;t[D+h>>0]=p;b=t[m>>0]|0}while((h|0)<(b&255|0));h=m}else h=m;break}default:{}}}while(0);t[D+((b&255)+1)>>0]=p;h=h+1|0}}}while(0);m=v?_+1|0:31;p=(E|0)==1;E=(d|0)!=0;n:do{if(p){if(E){i=Un(m<<2)|0;if(!i){f=0;j=152;break i}}else i=S;n[N>>2]=0;n[A>>2]=0;f=0;o:while(1){w=(i|0)==0;do{s:while(1){b=n[I>>2]|0;if(b>>>0<(n[L>>2]|0)>>>0){n[I>>2]=b+1;b=o[b>>0]|0}else b=ka(e)|0;if(!(t[D+(b+1)>>0]|0))break o;t[y>>0]=b;switch(Ma(H,y,1,N)|0){case-1:{f=0;j=152;break i}case-2:break;default:break s}}if(!w){n[i+(f<<2)>>2]=n[H>>2];f=f+1|0}}while(!(E&(f|0)==(m|0)));f=m<<1|1;b=zn(i,f<<2)|0;if(!b){f=0;j=152;break i}B=m;m=f;i=b;f=B}if(!(Ra(N)|0)){f=0;j=152;break i}else{w=f;f=0}}else{if(E){f=Un(m)|0;if(!f){f=0;i=0;j=152;break i}else b=0;while(1){do{i=n[I>>2]|0;if(i>>>0<(n[L>>2]|0)>>>0){n[I>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if(!(t[D+(i+1)>>0]|0)){w=b;i=0;break n}t[f+b>>0]=i;b=b+1|0}while((b|0)!=(m|0));i=m<<1|1;b=zn(f,i)|0;if(!b){i=0;j=152;break i}else{B=m;m=i;f=b;b=B}}}if(!S){f=w;while(1){i=n[I>>2]|0;if(i>>>0<f>>>0){n[I>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if(!(t[D+(i+1)>>0]|0)){w=0;f=0;i=0;break n}f=n[L>>2]|0}}else{f=0;while(1){i=n[I>>2]|0;if(i>>>0<w>>>0){n[I>>2]=i+1;i=o[i>>0]|0}else i=ka(e)|0;if(!(t[D+(i+1)>>0]|0)){w=f;f=S;i=0;break n}t[S+f>>0]=i;w=n[L>>2]|0;f=f+1|0}}}}while(0);b=n[I>>2]|0;if(n[L>>2]|0){b=b+-1|0;n[I>>2]=b}b=b-(n[M>>2]|0)+(n[F>>2]|0)|0;if(!b)break i;if(!((b|0)==(_|0)|v^1))break i;do{if(E)if(p){n[S>>2]=i;break}else{n[S>>2]=f;break}}while(0);if(!v){if(i)n[i+(w<<2)>>2]=0;if(!f){f=0;break a}t[f+w>>0]=0}break}case 120:case 88:case 112:{b=16;j=134;break}case 111:{b=8;j=134;break}case 117:case 100:{b=10;j=134;break}case 105:{b=0;j=134;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{k=+da(e,E,0);if((n[F>>2]|0)==((n[M>>2]|0)-(n[I>>2]|0)|0))break i;if(S)switch(E|0){case 0:{l[S>>2]=k;break a}case 1:{u[S>>3]=k;break a}case 2:{u[S>>3]=k;break a}default:break a}break}default:{}}}while(0);a:do{if((j|0)==134){j=0;b=ha(e,b,0,-1,-1)|0;if((n[F>>2]|0)==((n[M>>2]|0)-(n[I>>2]|0)|0))break i;if((S|0)!=0&(m|0)==112){n[S>>2]=b;break}if(S)switch(E|0){case-2:{t[S>>0]=b;break a}case-1:{a[S>>1]=b;break a}case 0:{n[S>>2]=b;break a}case 1:{n[S>>2]=b;break a}case 3:{B=S;n[B>>2]=b;n[B+4>>2]=P;break a}default:break a}}}while(0);s=((S|0)!=0&1)+s|0;b=(n[F>>2]|0)+g+(n[I>>2]|0)-(n[M>>2]|0)|0;break r}}while(0);h=h+(d&1)|0;ba(e,0);d=n[I>>2]|0;if(d>>>0<(n[L>>2]|0)>>>0){n[I>>2]=d+1;d=o[d>>0]|0}else d=ka(e)|0;if((d|0)!=(o[h>>0]|0)){j=21;break i}b=p+1|0}else{while(1){d=h+1|0;if(!(la(o[d>>0]|0)|0))break;else h=d}ba(e,0);do{d=n[I>>2]|0;if(d>>>0<(n[L>>2]|0)>>>0){n[I>>2]=d+1;d=o[d>>0]|0}else d=ka(e)|0}while((la(d)|0)!=0);d=n[I>>2]|0;if(n[L>>2]|0){d=d+-1|0;n[I>>2]=d}b=(n[F>>2]|0)+p+d-(n[M>>2]|0)|0}}while(0);h=h+1|0;d=t[h>>0]|0;if(!(d<<24>>24))break e;else p=b}if((j|0)==21){if(n[L>>2]|0)n[I>>2]=(n[I>>2]|0)+-1;if((s|0)!=0|(d|0)>-1)break;else{s=0;j=153}}else if((j|0)==152)if(!s){s=d;j=153}if((j|0)==153){d=s;s=-1}if(d){Bn(f);Bn(i)}}else s=0}while(0);if(V)Pa(e);c=U;return s|0}function ln(e,i,r,a){e=e|0;i=i|0;r=r|0;a=a|0;var o=0,s=0,f=0,l=0,u=0,d=0,h=0;h=c;c=c+128|0;o=h+112|0;d=h;s=d;f=2684;l=s+112|0;do{n[s>>2]=n[f>>2];s=s+4|0;f=f+4|0}while((s|0)<(l|0));if((i+-1|0)>>>0>2147483646)if(!i){i=1;u=4}else{n[(ua()|0)>>2]=75;i=-1}else{o=e;u=4}if((u|0)==4){u=-2-o|0;u=i>>>0>u>>>0?u:i;n[d+48>>2]=u;e=d+20|0;n[e>>2]=o;n[d+44>>2]=o;i=o+u|0;o=d+16|0;n[o>>2]=i;n[d+28>>2]=i;i=sn(d,r,a)|0;if(u){r=n[e>>2]|0;t[r+(((r|0)==(n[o>>2]|0))<<31>>31)>>0]=0}}c=h;return i|0}function un(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0;o=c;c=c+112|0;t=o;a=t;s=a+112|0;do{n[a>>2]=0;a=a+4|0}while((a|0)<(s|0));n[t+32>>2]=15;n[t+44>>2]=e;n[t+76>>2]=-1;n[t+84>>2]=e;s=fn(t,i,r)|0;c=o;return s|0}function cn(e){e=e|0;var i=0,r=0,a=0,n=0;while(1){i=e+1|0;if(!(la(t[e>>0]|0)|0))break;else e=i}r=t[e>>0]|0;switch(r<<24>>24|0){case 45:{a=1;n=5;break}case 43:{a=0;n=5;break}default:a=0}if((n|0)==5){e=i;r=t[i>>0]|0}i=(r<<24>>24)+-48|0;if(i>>>0<10){r=e;e=0;do{r=r+1|0;e=(e*10|0)-i|0;i=(t[r>>0]|0)+-48|0}while(i>>>0<10)}else e=0;return((a|0)!=0?e:0-e|0)|0}function dn(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0,s=0,f=0,l=0,u=0,d=0,h=0,b=0,k=0,w=0,m=0;m=c;c=c+208|0;b=m+8|0;k=m;a=re(r,i)|0;h=k;n[h>>2]=1;n[h+4>>2]=0;if(a){f=a-r|0;n[b+4>>2]=r;n[b>>2]=r;o=r;i=r;s=2;while(1){i=i+r+o|0;n[b+(s<<2)>>2]=i;if(i>>>0<a>>>0){h=o;o=i;s=s+1|0;i=h}else break}h=0-r|0;l=e+f|0;d=k+4|0;if((f|0)>0){f=l;a=1;s=1;while(1){do{if((a&3|0)==3){Dn(e,r,t,s,b);u=n[d>>2]|0;i=u<<30|(n[k>>2]|0)>>>2;n[k>>2]=i;n[d>>2]=u>>>2;s=s+2|0}else{i=s+-1|0;if((n[b+(i<<2)>>2]|0)>>>0<(f-e|0)>>>0)Dn(e,r,t,s,b);else Nn(e,r,t,k,s,0,b);if((s|0)==1){i=n[k>>2]|0;n[d>>2]=i>>>31|n[d>>2]<<1;i=i<<1;n[k>>2]=i;s=0;break}if(i>>>0>31){a=n[k>>2]|0;n[d>>2]=a;n[k>>2]=0;i=s+-33|0;o=0}else{a=n[d>>2]|0;o=n[k>>2]|0}n[d>>2]=o>>>(32-i|0)|a<<i;i=o<<i;n[k>>2]=i;s=1}}while(0);a=i|1;n[k>>2]=a;i=e+r|0;if(i>>>0>=l>>>0){a=i;break}else e=i}}else{a=e;s=1}Nn(a,r,t,k,s,0,b);u=k+4|0;i=n[k>>2]|0;if(!((s|0)==1&(i|0)==1&(n[u>>2]|0)==0)){o=a;while(1){if((s|0)<2){a=i+-1|0;do{if(a){if(!(a&1)){f=a;a=0;do{a=a+1|0;f=f>>>1}while((f&1|0)==0);if(!a)w=24}else w=24;if((w|0)==24){w=0;l=n[d>>2]|0;if(!l){a=64;w=30;break}if(!(l&1)){f=l;a=0}else{e=0;f=l;a=0;break}while(1){e=a+1|0;f=f>>>1;if(f&1){f=e;break}else a=e}if(!f){e=0;f=l;a=0;break}else a=a+33|0}if(a>>>0>31)w=30;else{e=a;f=n[d>>2]|0}}else{a=32;w=30}}while(0);if((w|0)==30){w=0;i=n[d>>2]|0;n[k>>2]=i;n[d>>2]=0;e=a+-32|0;f=0}n[k>>2]=f<<32-e|i>>>e;n[d>>2]=f>>>e;o=o+h|0;a=a+s|0}else{e=i>>>30;l=e|n[d>>2]<<2;a=s+-2|0;n[k>>2]=(i<<1&2147483646|e<<31)^3;n[d>>2]=l>>>1;Nn(o+(0-((n[b+(a<<2)>>2]|0)+r))|0,r,t,k,s+-1|0,1,b);l=n[k>>2]|0;n[d>>2]=l>>>31|n[d>>2]<<1;n[k>>2]=l<<1|1;o=o+h|0;Nn(o,r,t,k,a,1,b)}i=n[k>>2]|0;if((a|0)==1&(i|0)==1&(n[u>>2]|0)==0)break;else s=a}}}c=m;return}function hn(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0;s=i&255;a=(r|0)!=0;e:do{if(a&(e&3|0)!=0){o=i&255;while(1){if((t[e>>0]|0)==o<<24>>24){f=6;break e}e=e+1|0;r=r+-1|0;a=(r|0)!=0;if(!(a&(e&3|0)!=0)){f=5;break}}}else f=5}while(0);if((f|0)==5)if(a)f=6;else r=0;e:do{if((f|0)==6){o=i&255;if((t[e>>0]|0)!=o<<24>>24){a=re(s,16843009)|0;i:do{if(r>>>0>3)while(1){s=n[e>>2]^a;if((s&-2139062144^-2139062144)&s+-16843009)break;e=e+4|0;r=r+-4|0;if(r>>>0<=3){f=11;break i}}else f=11}while(0);if((f|0)==11)if(!r){r=0;break}while(1){if((t[e>>0]|0)==o<<24>>24)break e;e=e+1|0;r=r+-1|0;if(!r){r=0;break}}}}}while(0);return((r|0)!=0?e:0)|0}function bn(e,i,r){e=e|0;i=i|0;r=r|0;var a=0;a=i&255;do{if(!r){i=0;break}r=r+-1|0;i=e+r|0}while((t[i>>0]|0)!=a<<24>>24);return i|0}function kn(e,i){e=e|0;i=i|0;var r=0,a=0;r=i;e:do{if(!((r^e)&3)){if(r&3)do{r=t[i>>0]|0;t[e>>0]=r;if(!(r<<24>>24))break e;i=i+1|0;e=e+1|0}while((i&3|0)!=0);r=n[i>>2]|0;if(!((r&-2139062144^-2139062144)&r+-16843009)){a=e;while(1){i=i+4|0;e=a+4|0;n[a>>2]=r;r=n[i>>2]|0;if((r&-2139062144^-2139062144)&r+-16843009)break;else a=e}}a=8}else a=8}while(0);if((a|0)==8){a=t[i>>0]|0;t[e>>0]=a;if(a<<24>>24)do{i=i+1|0;e=e+1|0;a=t[i>>0]|0;t[e>>0]=a}while(a<<24>>24!=0)}return e|0}function wn(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0;o=i;do{if(!((o^e)&3)){a=(r|0)!=0;e:do{if(a&(o&3|0)!=0)while(1){o=t[i>>0]|0;t[e>>0]=o;if(!(o<<24>>24))break e;r=r+-1|0;i=i+1|0;e=e+1|0;a=(r|0)!=0;if(!(a&(i&3|0)!=0)){s=5;break}}else s=5}while(0);if((s|0)==5)if(!a){r=0;break}if(t[i>>0]|0){e:do{if(r>>>0>3)do{a=n[i>>2]|0;if((a&-2139062144^-2139062144)&a+-16843009)break e;n[e>>2]=a;r=r+-4|0;i=i+4|0;e=e+4|0}while(r>>>0>3)}while(0);s=11}}else s=11}while(0);e:do{if((s|0)==11)if(!r)r=0;else while(1){s=t[i>>0]|0;t[e>>0]=s;if(!(s<<24>>24))break e;r=r+-1|0;e=e+1|0;if(!r){r=0;break}else i=i+1|0}}while(0);Gl(e|0,0,r|0)|0;return e|0}function mn(e,i){e=e|0;i=i|0;e=pn(e,i)|0;return((t[e>>0]|0)==(i&255)<<24>>24?e:0)|0}function pn(e,i){e=e|0;i=i|0;var r=0,a=0,o=0;a=i&255;e:do{if(!a)e=e+(gn(e)|0)|0;else{if(e&3){r=i&255;do{o=t[e>>0]|0;if(o<<24>>24==0?1:o<<24>>24==r<<24>>24)break e;e=e+1|0}while((e&3|0)!=0)}a=re(a,16843009)|0;r=n[e>>2]|0;i:do{if(!((r&-2139062144^-2139062144)&r+-16843009))do{o=r^a;if((o&-2139062144^-2139062144)&o+-16843009)break i;e=e+4|0;r=n[e>>2]|0}while(((r&-2139062144^-2139062144)&r+-16843009|0)==0)}while(0);r=i&255;while(1){o=t[e>>0]|0;if(o<<24>>24==0?1:o<<24>>24==r<<24>>24)break;else e=e+1|0}}}while(0);return e|0}function En(e,i){e=e|0;i=i|0;kn(e,i)|0;return e|0}function vn(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0;o=c;c=c+32|0;a=o;r=t[i>>0]|0;if(r<<24>>24!=0?(t[i+1>>0]|0)!=0:0){n[a>>2]=0;n[a+4>>2]=0;n[a+8>>2]=0;n[a+12>>2]=0;n[a+16>>2]=0;n[a+20>>2]=0;n[a+24>>2]=0;n[a+28>>2]=0;do{s=a+(((r&255)>>>5&255)<<2)|0;n[s>>2]=n[s>>2]|1<<(r&31);i=i+1|0;r=t[i>>0]|0}while(r<<24>>24!=0);i=t[e>>0]|0;e:do{if(!(i<<24>>24))r=e;else{r=e;do{if(n[a+(((i&255)>>>5&255)<<2)>>2]&1<<(i&31))break e;r=r+1|0;i=t[r>>0]|0}while(i<<24>>24!=0)}}while(0);r=r-e|0}else r=(pn(e,r<<24>>24)|0)-e|0;c=o;return r|0}function _n(e){e=e|0;var i=0,r=0;r=(gn(e)|0)+1|0;i=Un(r)|0;if(!i)i=0;else Zl(i|0,e|0,r|0)|0;return i|0}function gn(e){e=e|0;var i=0,r=0,a=0;a=e;e:do{if(!(a&3))r=4;else{i=e;e=a;while(1){if(!(t[i>>0]|0))break e;i=i+1|0;e=i;if(!(e&3)){e=i;r=4;break}}}}while(0);if((r|0)==4){while(1){i=n[e>>2]|0;if(!((i&-2139062144^-2139062144)&i+-16843009))e=e+4|0;else break}if((i&255)<<24>>24)do{e=e+1|0}while((t[e>>0]|0)!=0)}return e-a|0}function Sn(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,n=0,o=0;a=e+(gn(e)|0)|0;e:do{if(r)while(1){n=t[i>>0]|0;if(!(n<<24>>24))break e;r=r+-1|0;o=a+1|0;t[a>>0]=n;if(!r){a=o;break}else{i=i+1|0;a=o}}}while(0);t[a>>0]=0;return e|0}function yn(e,i,r){e=e|0;i=i|0;r=r|0;wn(e,i,r)|0;return e|0}function Mn(e,i){e=e|0;i=i|0;return bn(e,i,(gn(e)|0)+1|0)|0}function Rn(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0;s=c;c=c+32|0;o=s;n[o>>2]=0;n[o+4>>2]=0;n[o+8>>2]=0;n[o+12>>2]=0;n[o+16>>2]=0;n[o+20>>2]=0;n[o+24>>2]=0;n[o+28>>2]=0;a=t[i>>0]|0;do{if(!(a<<24>>24))i=0;else{if(!(t[i+1>>0]|0)){i=e;while(1)if((t[i>>0]|0)==a<<24>>24)i=i+1|0;else break;i=i-e|0;break}else{r=i;i=a}do{a=o+(((i&255)>>>5&255)<<2)|0;n[a>>2]=n[a>>2]|1<<(i&31);r=r+1|0;i=t[r>>0]|0}while(i<<24>>24!=0);r=t[e>>0]|0;e:do{if(!(r<<24>>24))i=e;else{i=e;do{if(!(n[o+(((r&255)>>>5&255)<<2)>>2]&1<<(r&31)))break e;i=i+1|0;r=t[i>>0]|0}while(r<<24>>24!=0)}}while(0);i=i-e|0}}while(0);c=s;return i|0}function Tn(e,i){e=e|0;i=i|0;var r=0,a=0;if(!e){e=n[699]|0;if(!e)e=0;else{a=e;r=3}}else{a=e;r=3}do{if((r|0)==3){r=Rn(a,i)|0;e=a+r|0;if(!(t[e>>0]|0)){n[699]=0;e=0;break}r=(vn(e,i)|0)+r|0;i=a+r|0;n[699]=i;if(!(t[i>>0]|0)){n[699]=0;break}else{n[699]=a+(r+1);t[i>>0]=0;break}}}while(0);return e|0}function An(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,s=0,f=0,l=0;f=e+4|0;r=n[f>>2]|0;l=e+100|0;if(r>>>0<(n[l>>2]|0)>>>0){n[f>>2]=r+1;r=o[r>>0]|0}else r=ka(e)|0;switch(r|0){case 43:case 45:{t=(r|0)==45&1;r=n[f>>2]|0;if(r>>>0<(n[l>>2]|0)>>>0){n[f>>2]=r+1;r=o[r>>0]|0}else r=ka(e)|0;if((i|0)!=0&(r+-48|0)>>>0>9?(n[l>>2]|0)!=0:0){n[f>>2]=(n[f>>2]|0)+-1;s=t}else s=t;break}default:s=0}if((r+-48|0)>>>0>9)if(!(n[l>>2]|0)){t=-2147483648;r=0}else{n[f>>2]=(n[f>>2]|0)+-1;t=-2147483648;r=0}else{t=0;do{t=r+-48+(t*10|0)|0;r=n[f>>2]|0;if(r>>>0<(n[l>>2]|0)>>>0){n[f>>2]=r+1;r=o[r>>0]|0}else r=ka(e)|0}while((r+-48|0)>>>0<10&(t|0)<214748364);i=((t|0)<0)<<31>>31;if((r+-48|0)>>>0<10){do{i=tu(t|0,i|0,10,0)|0;t=P;r=Xl(r|0,((r|0)<0)<<31>>31|0,-48,-1)|0;t=Xl(r|0,P|0,i|0,t|0)|0;i=P;r=n[f>>2]|0;if(r>>>0<(n[l>>2]|0)>>>0){n[f>>2]=r+1;r=o[r>>0]|0}else r=ka(e)|0}while((r+-48|0)>>>0<10&((i|0)<21474836|(i|0)==21474836&t>>>0<2061584302));a=t}else a=t;if((r+-48|0)>>>0<10)do{r=n[f>>2]|0;if(r>>>0<(n[l>>2]|0)>>>0){n[f>>2]=r+1;r=o[r>>0]|0}else r=ka(e)|0}while((r+-48|0)>>>0<10);if(n[l>>2]|0)n[f>>2]=(n[f>>2]|0)+-1;e=(s|0)!=0;r=ql(0,0,a|0,i|0)|0;t=e?P:i;r=e?r:a}P=t;return r|0}function Cn(e){e=e|0;if(!(n[e+68>>2]|0))Pa(e);return}function xn(e){e=e|0;if(!(n[e+68>>2]|0))Pa(e);return}function Fn(e){e=e|0;var i=0,r=0,t=0,a=0,o=0,s=0;i=e+20|0;o=e+28|0;if((n[i>>2]|0)>>>0>(n[o>>2]|0)>>>0?(ju[n[e+36>>2]&15](e,0,0)|0,(n[i>>2]|0)==0):0)i=-1;else{s=e+4|0;r=n[s>>2]|0;t=e+8|0;a=n[t>>2]|0;if(r>>>0<a>>>0)ju[n[e+40>>2]&15](e,r-a|0,1)|0;n[e+16>>2]=0;n[o>>2]=0;n[i>>2]=0;n[t>>2]=0;n[s>>2]=0;i=0}return i|0}function Pn(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,b=0,k=0,w=0.0,m=0,p=0,E=0,v=0,_=0.0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,O=0,D=0,N=0,H=0,I=0,L=0,j=0,V=0,U=0,B=0,W=0,z=0,Y=0,q=0,G=0,K=0,X=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,te=0,ae=0,ne=0,oe=0,se=0;se=c;c=c+624|0;ie=se+24|0;ae=se+16|0;te=se+588|0;J=se+576|0;ee=se;G=se+536|0;oe=se+8|0;ne=se+528|0;L=(e|0)!=0;j=G+40|0;q=j;G=G+39|0;K=oe+4|0;X=J+12|0;J=J+11|0;Z=te;Q=X;$=Q-Z|0;V=-2-Z|0;U=Q+2|0;B=ie+288|0;W=te+9|0;z=W;Y=te+8|0;l=0;g=i;d=0;i=0;e:while(1){do{if((l|0)>-1)if((d|0)>(2147483647-l|0)){n[(ua()|0)>>2]=75;l=-1;break}else{l=d+l|0;break}}while(0);d=t[g>>0]|0;if(!(d<<24>>24)){I=245;break}else b=g;i:while(1){switch(d<<24>>24){case 37:{d=b;I=9;break i}case 0:{d=b;break i}default:{}}H=b+1|0;d=t[H>>0]|0;b=H}i:do{if((I|0)==9)while(1){I=0;if((t[d+1>>0]|0)!=37)break i;b=b+1|0;d=d+2|0;if((t[d>>0]|0)==37)I=9;else break}}while(0);y=b-g|0;if(L?(n[e>>2]&32|0)==0:0)rn(g,y,e)|0;if((b|0)!=(g|0)){g=d;d=y;continue}m=d+1|0;b=t[m>>0]|0;k=(b<<24>>24)+-48|0;if(k>>>0<10){H=(t[d+2>>0]|0)==36;m=H?d+3|0:m;b=t[m>>0]|0;v=H?k:-1;i=H?1:i}else v=-1;d=b<<24>>24;i:do{if((d&-32|0)==32){k=0;while(1){if(!(1<<d+-32&75913)){p=k;d=m;break i}k=1<<(b<<24>>24)+-32|k;m=m+1|0;b=t[m>>0]|0;d=b<<24>>24;if((d&-32|0)!=32){p=k;d=m;break}}}else{p=0;d=m}}while(0);do{if(b<<24>>24==42){k=d+1|0;b=(t[k>>0]|0)+-48|0;if(b>>>0<10?(t[d+2>>0]|0)==36:0){n[f+(b<<2)>>2]=10;i=1;d=d+3|0;b=n[s+((t[k>>0]|0)+-48<<3)>>2]|0}else{if(i){l=-1;break e}if(!L){S=p;d=k;i=0;H=0;break}i=(n[r>>2]|0)+(4-1)&~(4-1);b=n[i>>2]|0;n[r>>2]=i+4;i=0;d=k}if((b|0)<0){S=p|8192;H=0-b|0}else{S=p;H=b}}else{k=(b<<24>>24)+-48|0;if(k>>>0<10){b=0;do{b=(b*10|0)+k|0;d=d+1|0;k=(t[d>>0]|0)+-48|0}while(k>>>0<10);if((b|0)<0){l=-1;break e}else{S=p;H=b}}else{S=p;H=0}}}while(0);i:do{if((t[d>>0]|0)==46){k=d+1|0;b=t[k>>0]|0;if(b<<24>>24!=42){m=(b<<24>>24)+-48|0;if(m>>>0<10){d=k;b=0}else{d=k;m=0;break}while(1){b=(b*10|0)+m|0;d=d+1|0;m=(t[d>>0]|0)+-48|0;if(m>>>0>=10){m=b;break i}}}k=d+2|0;b=(t[k>>0]|0)+-48|0;if(b>>>0<10?(t[d+3>>0]|0)==36:0){n[f+(b<<2)>>2]=10;d=d+4|0;m=n[s+((t[k>>0]|0)+-48<<3)>>2]|0;break}if(i){l=-1;break e}if(L){d=(n[r>>2]|0)+(4-1)&~(4-1);m=n[d>>2]|0;n[r>>2]=d+4;d=k}else{d=k;m=0}}else m=-1}while(0);E=0;while(1){b=(t[d>>0]|0)+-65|0;if(b>>>0>57){l=-1;break e}k=d+1|0;b=t[15953+(E*58|0)+b>>0]|0;p=b&255;if((p+-1|0)>>>0<8){d=k;E=p}else{N=k;break}}if(!(b<<24>>24)){l=-1;break}k=(v|0)>-1;do{if(b<<24>>24==19)if(k){l=-1;break e}else I=52;else{if(k){n[f+(v<<2)>>2]=p;O=s+(v<<3)|0;D=n[O+4>>2]|0;I=ee;n[I>>2]=n[O>>2];n[I+4>>2]=D;I=52;break}if(!L){l=0;break e}Ln(ee,p,r)}}while(0);if((I|0)==52?(I=0,!L):0){g=N;d=y;continue}v=t[d>>0]|0;v=(E|0)!=0&(v&15|0)==3?v&-33:v;k=S&-65537;D=(S&8192|0)==0?S:k;i:do{switch(v|0){case 110:switch(E|0){case 0:{n[n[ee>>2]>>2]=l;g=N;d=y;continue e}case 1:{n[n[ee>>2]>>2]=l;g=N;d=y;continue e}case 2:{g=n[ee>>2]|0;n[g>>2]=l;n[g+4>>2]=((l|0)<0)<<31>>31;g=N;d=y;continue e}case 3:{a[n[ee>>2]>>1]=l;g=N;d=y;continue e}case 4:{t[n[ee>>2]>>0]=l;g=N;d=y;continue e}case 6:{n[n[ee>>2]>>2]=l;g=N;d=y;continue e}case 7:{g=n[ee>>2]|0;n[g>>2]=l;n[g+4>>2]=((l|0)<0)<<31>>31;g=N;d=y;continue e}default:{g=N;d=y;continue e}}case 112:{E=D|8;m=m>>>0>8?m:8;v=120;I=64;break}case 88:case 120:{E=D;I=64;break}case 111:{k=ee;b=n[k>>2]|0;k=n[k+4>>2]|0;if((b|0)==0&(k|0)==0)d=j;else{d=j;do{d=d+-1|0;t[d>>0]=b&7|48;b=Jl(b|0,k|0,3)|0;k=P}while(!((b|0)==0&(k|0)==0))}if(!(D&8)){b=D;E=0;p=16433;I=77}else{E=q-d+1|0;b=D;m=(m|0)<(E|0)?E:m;E=0;p=16433;I=77}break}case 105:case 100:{b=ee;d=n[b>>2]|0;b=n[b+4>>2]|0;if((b|0)<0){d=ql(0,0,d|0,b|0)|0;b=P;k=ee;n[k>>2]=d;n[k+4>>2]=b;k=1;p=16433;I=76;break i}if(!(D&2048)){p=D&1;k=p;p=(p|0)==0?16433:16435;I=76}else{k=1;p=16434;I=76}break}case 117:{b=ee;d=n[b>>2]|0;b=n[b+4>>2]|0;k=0;p=16433;I=76;break}case 99:{t[G>>0]=n[ee>>2];g=G;b=1;E=0;v=16433;d=j;break}case 109:{d=ca(n[(ua()|0)>>2]|0)|0;I=82;break}case 115:{d=n[ee>>2]|0;d=(d|0)!=0?d:16443;I=82;break}case 67:{n[oe>>2]=n[ee>>2];n[K>>2]=0;n[ee>>2]=oe;m=-1;I=86;break}case 83:{if(!m){Vn(e,32,H,0,D);d=0;I=98}else I=86;break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{w=+u[ee>>3];n[ae>>2]=0;u[h>>3]=w;if((n[h+4>>2]|0)>=0)if(!(D&2048)){O=D&1;F=O;O=(O|0)==0?16451:16456}else{F=1;O=16453}else{w=-w;F=1;O=16450}u[h>>3]=w;x=n[h+4>>2]&2146435072;do{if(x>>>0<2146435072|(x|0)==2146435072&0<0){_=+ga(w,ae)*2.0;b=_!=0.0;if(b)n[ae>>2]=(n[ae>>2]|0)+-1;A=v|32;if((A|0)==97){g=v&32;y=(g|0)==0?O:O+9|0;S=F|2;d=12-m|0;do{if(!(m>>>0>11|(d|0)==0)){w=8.0;do{d=d+-1|0;w=w*16.0}while((d|0)!=0);if((t[y>>0]|0)==45){w=-(w+(-_-w));break}else{w=_+w-w;break}}else w=_}while(0);b=n[ae>>2]|0;d=(b|0)<0?0-b|0:b;d=jn(d,((d|0)<0)<<31>>31,X)|0;if((d|0)==(X|0)){t[J>>0]=48;d=J}t[d+-1>>0]=(b>>31&2)+43;E=d+-2|0;t[E>>0]=v+15;p=(m|0)<1;k=(D&8|0)==0;b=te;while(1){O=~~w;d=b+1|0;t[b>>0]=o[16417+O>>0]|g;w=(w-+(O|0))*16.0;do{if((d-Z|0)==1){if(k&(p&w==0.0))break;t[d>>0]=46;d=b+2|0}}while(0);if(!(w!=0.0))break;else b=d}m=(m|0)!=0&(V+d|0)<(m|0)?U+m-E|0:$-E+d|0;k=m+S|0;Vn(e,32,H,k,D);if(!(n[e>>2]&32))rn(y,S,e)|0;Vn(e,48,H,k,D^65536);d=d-Z|0;if(!(n[e>>2]&32))rn(te,d,e)|0;b=Q-E|0;Vn(e,48,m-(d+b)|0,0,0);if(!(n[e>>2]&32))rn(E,b,e)|0;Vn(e,32,H,k,D^8192);d=(k|0)<(H|0)?H:k;break}d=(m|0)<0?6:m;if(b){b=(n[ae>>2]|0)+-28|0;n[ae>>2]=b;w=_*268435456.0}else{w=_;b=n[ae>>2]|0}x=(b|0)<0?ie:B;C=x;b=x;do{T=~~w>>>0;n[b>>2]=T;b=b+4|0;w=(w-+(T>>>0))*1.0e9}while(w!=0.0);k=b;b=n[ae>>2]|0;if((b|0)>0){p=x;while(1){E=(b|0)>29?29:b;m=k+-4|0;do{if(m>>>0<p>>>0)m=p;else{b=0;do{T=Kl(n[m>>2]|0,0,E|0)|0;T=Xl(T|0,P|0,b|0,0)|0;b=P;R=nu(T|0,b|0,1e9,0)|0;n[m>>2]=R;b=au(T|0,b|0,1e9,0)|0;m=m+-4|0}while(m>>>0>=p>>>0);if(!b){m=p;break}m=p+-4|0;n[m>>2]=b}}while(0);while(1){if(k>>>0<=m>>>0)break;b=k+-4|0;if(!(n[b>>2]|0))k=b;else break}b=(n[ae>>2]|0)-E|0;n[ae>>2]=b;if((b|0)>0)p=m;else break}}else m=x;if((b|0)<0){y=((d+25|0)/9|0)+1|0;M=(A|0)==102;g=m;while(1){S=0-b|0;S=(S|0)>9?9:S;do{if(g>>>0<k>>>0){b=(1<<S)+-1|0;p=1e9>>>S;m=0;E=g;do{T=n[E>>2]|0;n[E>>2]=(T>>>S)+m;m=re(T&b,p)|0;E=E+4|0}while(E>>>0<k>>>0);b=(n[g>>2]|0)==0?g+4|0:g;if(!m){m=b;break}n[k>>2]=m;m=b;k=k+4|0}else m=(n[g>>2]|0)==0?g+4|0:g}while(0);b=M?x:m;k=(k-b>>2|0)>(y|0)?b+(y<<2)|0:k;b=(n[ae>>2]|0)+S|0;n[ae>>2]=b;if((b|0)>=0){g=m;break}else g=m}}else g=m;do{if(g>>>0<k>>>0){b=(C-g>>2)*9|0;p=n[g>>2]|0;if(p>>>0<10)break;else m=10;do{m=m*10|0;b=b+1|0}while(p>>>0>=m>>>0)}else b=0}while(0);R=(A|0)==103;T=(d|0)!=0;m=d-((A|0)!=102?b:0)+((T&R)<<31>>31)|0;if((m|0)<(((k-C>>2)*9|0)+-9|0)){E=m+9216|0;M=(E|0)/9|0;m=x+(M+-1023<<2)|0;E=((E|0)%9|0)+1|0;if((E|0)<9){p=10;do{p=p*10|0;E=E+1|0}while((E|0)!=9)}else p=10;S=n[m>>2]|0;y=(S>>>0)%(p>>>0)|0;if((y|0)==0?(x+(M+-1022<<2)|0)==(k|0):0)p=g;else I=163;do{if((I|0)==163){I=0;_=(((S>>>0)/(p>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;E=(p|0)/2|0;do{if(y>>>0<E>>>0)w=.5;else{if((y|0)==(E|0)?(x+(M+-1022<<2)|0)==(k|0):0){w=1.0;break}w=1.5}}while(0);do{if(F){if((t[O>>0]|0)!=45)break;_=-_;w=-w}}while(0);E=S-y|0;n[m>>2]=E;if(!(_+w!=_)){p=g;break}A=E+p|0;n[m>>2]=A;if(A>>>0>999999999){b=g;while(1){p=m+-4|0;n[m>>2]=0;if(p>>>0<b>>>0){b=b+-4|0;n[b>>2]=0}A=(n[p>>2]|0)+1|0;n[p>>2]=A;if(A>>>0>999999999)m=p;else{g=b;m=p;break}}}b=(C-g>>2)*9|0;E=n[g>>2]|0;if(E>>>0<10){p=g;break}else p=10;do{p=p*10|0;b=b+1|0}while(E>>>0>=p>>>0);p=g}}while(0);A=m+4|0;g=p;k=k>>>0>A>>>0?A:k}y=0-b|0;while(1){if(k>>>0<=g>>>0){M=0;A=k;break}m=k+-4|0;if(!(n[m>>2]|0))k=m;else{M=1;A=k;break}}do{if(R){d=(T&1^1)+d|0;if((d|0)>(b|0)&(b|0)>-5){v=v+-1|0;d=d+-1-b|0}else{v=v+-2|0;d=d+-1|0}k=D&8;if(k)break;do{if(M){k=n[A+-4>>2]|0;if(!k){m=9;break}if(!((k>>>0)%10|0)){p=10;m=0}else{m=0;break}do{p=p*10|0;m=m+1|0}while(((k>>>0)%(p>>>0)|0|0)==0)}else m=9}while(0);k=((A-C>>2)*9|0)+-9|0;if((v|32|0)==102){k=k-m|0;k=(k|0)<0?0:k;d=(d|0)<(k|0)?d:k;k=0;break}else{k=k+b-m|0;k=(k|0)<0?0:k;d=(d|0)<(k|0)?d:k;k=0;break}}else k=D&8}while(0);S=d|k;p=(S|0)!=0&1;E=(v|32|0)==102;if(E){b=(b|0)>0?b:0;v=0}else{m=(b|0)<0?y:b;m=jn(m,((m|0)<0)<<31>>31,X)|0;if((Q-m|0)<2)do{m=m+-1|0;t[m>>0]=48}while((Q-m|0)<2);t[m+-1>>0]=(b>>31&2)+43;C=m+-2|0;t[C>>0]=v;b=Q-C|0;v=C}y=F+1+d+p+b|0;Vn(e,32,H,y,D);if(!(n[e>>2]&32))rn(O,F,e)|0;Vn(e,48,H,y,D^65536);do{if(E){m=g>>>0>x>>>0?x:g;b=m;do{k=jn(n[b>>2]|0,0,W)|0;do{if((b|0)==(m|0)){if((k|0)!=(W|0))break;t[Y>>0]=48;k=Y}else{if(k>>>0<=te>>>0)break;do{k=k+-1|0;t[k>>0]=48}while(k>>>0>te>>>0)}}while(0);if(!(n[e>>2]&32))rn(k,z-k|0,e)|0;b=b+4|0}while(b>>>0<=x>>>0);do{if(S){if(n[e>>2]&32)break;rn(16485,1,e)|0}}while(0);if((d|0)>0&b>>>0<A>>>0){k=b;while(1){b=jn(n[k>>2]|0,0,W)|0;if(b>>>0>te>>>0)do{b=b+-1|0;t[b>>0]=48}while(b>>>0>te>>>0);if(!(n[e>>2]&32))rn(b,(d|0)>9?9:d,e)|0;k=k+4|0;b=d+-9|0;if(!((d|0)>9&k>>>0<A>>>0)){d=b;break}else d=b}}Vn(e,48,d+9|0,9,0)}else{E=M?A:g+4|0;if((d|0)>-1){p=(k|0)==0;m=g;do{b=jn(n[m>>2]|0,0,W)|0;if((b|0)==(W|0)){t[Y>>0]=48;b=Y}do{if((m|0)==(g|0)){k=b+1|0;if(!(n[e>>2]&32))rn(b,1,e)|0;if(p&(d|0)<1){b=k;break}if(n[e>>2]&32){b=k;break}rn(16485,1,e)|0;b=k}else{if(b>>>0<=te>>>0)break;do{b=b+-1|0;t[b>>0]=48}while(b>>>0>te>>>0)}}while(0);k=z-b|0;if(!(n[e>>2]&32))rn(b,(d|0)>(k|0)?k:d,e)|0;d=d-k|0;m=m+4|0}while(m>>>0<E>>>0&(d|0)>-1)}Vn(e,48,d+18|0,18,0);if(n[e>>2]&32)break;rn(v,Q-v|0,e)|0}}while(0);Vn(e,32,H,y,D^8192);d=(y|0)<(H|0)?H:y}else{E=(v&32|0)!=0;p=w!=w|0.0!=0.0;b=p?0:F;m=b+3|0;Vn(e,32,H,m,k);d=n[e>>2]|0;if(!(d&32)){rn(O,b,e)|0;d=n[e>>2]|0}if(!(d&32))rn(p?E?16477:16481:E?16469:16473,3,e)|0;Vn(e,32,H,m,D^8192);d=(m|0)<(H|0)?H:m}}while(0);g=N;continue e}default:{k=D;b=m;E=0;v=16433;d=j}}}while(0);i:do{if((I|0)==64){k=ee;b=n[k>>2]|0;k=n[k+4>>2]|0;p=v&32;if(!((b|0)==0&(k|0)==0)){d=j;do{d=d+-1|0;t[d>>0]=o[16417+(b&15)>>0]|p;b=Jl(b|0,k|0,4)|0;k=P}while(!((b|0)==0&(k|0)==0));I=ee;if((E&8|0)==0|(n[I>>2]|0)==0&(n[I+4>>2]|0)==0){b=E;E=0;p=16433;I=77}else{b=E;E=2;p=16433+(v>>4)|0;I=77}}else{d=j;b=E;E=0;p=16433;I=77}}else if((I|0)==76){d=jn(d,b,j)|0;b=D;E=k;I=77}else if((I|0)==82){I=0;D=hn(d,0,m)|0;O=(D|0)==0;g=d;b=O?m:D-d|0;E=0;v=16433;d=O?d+m|0:D}else if((I|0)==86){I=0;b=0;d=0;p=n[ee>>2]|0;while(1){k=n[p>>2]|0;if(!k)break;d=Aa(ne,k)|0;if((d|0)<0|d>>>0>(m-b|0)>>>0)break;b=d+b|0;if(m>>>0>b>>>0)p=p+4|0;else break}if((d|0)<0){l=-1;break e}Vn(e,32,H,b,D);if(!b){d=0;I=98}else{k=0;m=n[ee>>2]|0;while(1){d=n[m>>2]|0;if(!d){d=b;I=98;break i}d=Aa(ne,d)|0;k=d+k|0;if((k|0)>(b|0)){d=b;I=98;break i}if(!(n[e>>2]&32))rn(ne,d,e)|0;if(k>>>0>=b>>>0){d=b;I=98;break}else m=m+4|0}}}}while(0);if((I|0)==98){I=0;Vn(e,32,H,d,D^8192);g=N;d=(H|0)>(d|0)?H:d;continue}if((I|0)==77){I=0;k=(m|0)>-1?b&-65537:b;b=ee;b=(n[b>>2]|0)!=0|(n[b+4>>2]|0)!=0;if((m|0)!=0|b){b=(b&1^1)+(q-d)|0;g=d;b=(m|0)>(b|0)?m:b;v=p;d=j}else{g=j;b=0;v=p;d=j}}p=d-g|0;b=(b|0)<(p|0)?p:b;m=E+b|0;d=(H|0)<(m|0)?m:H;Vn(e,32,d,m,k);if(!(n[e>>2]&32))rn(v,E,e)|0;Vn(e,48,d,m,k^65536);Vn(e,48,b,p,0);if(!(n[e>>2]&32))rn(g,p,e)|0;Vn(e,32,d,m,k^8192);g=N}e:do{if((I|0)==245)if(!e)if(i){l=1;while(1){i=n[f+(l<<2)>>2]|0;if(!i)break;Ln(s+(l<<3)|0,i,r);l=l+1|0;if((l|0)>=10){l=1;break e}}if((l|0)<10)while(1){if(n[f+(l<<2)>>2]|0){l=-1;break e}l=l+1|0;if((l|0)>=10){l=1;break}}else l=1}else l=0}while(0);c=se;return l|0}function On(e,i,r){e=e|0;i=i|0;r=r|0;return La(e,i,r)|0}function Dn(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0,s=0,f=0,l=0,u=0,d=0,h=0,b=0,k=0;k=c;c=c+240|0;b=k;n[b>>2]=e;e:do{if((t|0)>1){h=0-i|0;o=t;s=e;l=e;u=1;while(1){e=s+h|0;d=o+-2|0;f=s+(0-((n[a+(d<<2)>>2]|0)+i))|0;if(($u[r&15](l,f)|0)>-1?($u[r&15](l,e)|0)>-1:0){t=u;break e}t=u+1|0;s=b+(u<<2)|0;if(($u[r&15](f,e)|0)>-1){n[s>>2]=f;e=f;o=o+-1|0}else{n[s>>2]=e;o=d}if((o|0)<=1)break e;s=e;l=n[b>>2]|0;u=t}}else t=1}while(0);Hn(i,b,t);c=k;return}function Nn(e,i,r,t,a,o,s){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;s=s|0;var f=0,l=0,u=0,d=0,h=0,b=0,k=0,w=0,m=0;m=c;c=c+240|0;k=m;l=n[t>>2]|0;t=n[t+4>>2]|0;n[k>>2]=e;b=0-i|0;e:do{if((t|0)!=0|(l|0)!=1?(f=e+(0-(n[s+(a<<2)>>2]|0))|0,($u[r&15](f,e)|0)>=1):0){o=(o|0)==0;h=f;u=l;d=t;f=1;while(1){if(o&(a|0)>1){t=n[s+(a+-2<<2)>>2]|0;if(($u[r&15](e+b|0,h)|0)>-1){o=a;t=f;w=20;break e}if(($u[r&15](e+(0-(t+i))|0,h)|0)>-1){o=a;t=f;w=20;break e}}t=f+1|0;n[k+(f<<2)>>2]=h;o=u+-1|0;do{if(o){if(!(o&1)){e=o;o=0;do{o=o+1|0;e=e>>>1}while((e&1|0)==0);if(!o)w=11}else w=11;if((w|0)==11){w=0;if(!d){o=64;w=16;break}if(!(d&1)){e=d;o=0}else{l=0;e=u;f=d;o=0;break}while(1){f=o+1|0;e=e>>>1;if(e&1){e=f;break}else o=f}if(!e){l=0;e=u;f=d;o=0;break}else o=o+33|0}if(o>>>0>31)w=16;else{l=o;e=u;f=d}}else{o=32;w=16}}while(0);if((w|0)==16){w=0;l=o+-32|0;e=d;f=0}u=f<<32-l|e>>>l;d=f>>>l;o=o+a|0;if(!((d|0)!=0|(u|0)!=1)){e=h;w=20;break e}e=h+(0-(n[s+(o<<2)>>2]|0))|0;if(($u[r&15](e,n[k>>2]|0)|0)<1){e=h;a=o;o=0;w=19;break}else{l=h;a=o;o=1;h=e;f=t;e=l}}}else{t=1;w=19}}while(0);if((w|0)==19?(o|0)==0:0){o=a;w=20}if((w|0)==20){Hn(i,k,t);Dn(e,i,r,o,s)}c=m;return}function Hn(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0,f=0;s=c;c=c+256|0;t=s;e:do{if((r|0)>=2?(o=i+(r<<2)|0,n[o>>2]=t,(e|0)!=0):0)while(1){a=e>>>0>256?256:e;Zl(t|0,n[i>>2]|0,a|0)|0;t=0;do{f=i+(t<<2)|0;t=t+1|0;Zl(n[f>>2]|0,n[i+(t<<2)>>2]|0,a|0)|0;n[f>>2]=(n[f>>2]|0)+a}while((t|0)!=(r|0));if((e|0)==(a|0))break e;e=e-a|0;t=n[o>>2]|0}}while(0);c=s;return}function In(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;t=e+20|0;a=n[t>>2]|0;e=(n[e+16>>2]|0)-a|0;e=e>>>0>r>>>0?r:e;Zl(a|0,i|0,e|0)|0;n[t>>2]=(n[t>>2]|0)+e;return r|0}function Ln(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0.0;e:do{if(i>>>0<=20)do{switch(i|0){case 9:{t=(n[r>>2]|0)+(4-1)&~(4-1);i=n[t>>2]|0;n[r>>2]=t+4;n[e>>2]=i;break e}case 10:{t=(n[r>>2]|0)+(4-1)&~(4-1);i=n[t>>2]|0;n[r>>2]=t+4;t=e;n[t>>2]=i;n[t+4>>2]=((i|0)<0)<<31>>31;break e}case 11:{t=(n[r>>2]|0)+(4-1)&~(4-1);i=n[t>>2]|0;n[r>>2]=t+4;t=e;n[t>>2]=i;n[t+4>>2]=0;break e}case 12:{t=(n[r>>2]|0)+(8-1)&~(8-1);i=t;a=n[i>>2]|0;i=n[i+4>>2]|0;n[r>>2]=t+8;t=e;n[t>>2]=a;n[t+4>>2]=i;break e}case 13:{a=(n[r>>2]|0)+(4-1)&~(4-1);t=n[a>>2]|0;n[r>>2]=a+4;t=(t&65535)<<16>>16;a=e;n[a>>2]=t;n[a+4>>2]=((t|0)<0)<<31>>31;break e}case 14:{a=(n[r>>2]|0)+(4-1)&~(4-1);t=n[a>>2]|0;n[r>>2]=a+4;a=e;n[a>>2]=t&65535;n[a+4>>2]=0;break e}case 15:{a=(n[r>>2]|0)+(4-1)&~(4-1);t=n[a>>2]|0;n[r>>2]=a+4;t=(t&255)<<24>>24;a=e;n[a>>2]=t;n[a+4>>2]=((t|0)<0)<<31>>31;break e}case 16:{a=(n[r>>2]|0)+(4-1)&~(4-1);t=n[a>>2]|0;n[r>>2]=a+4;a=e;n[a>>2]=t&255;n[a+4>>2]=0;break e}case 17:{a=(n[r>>2]|0)+(8-1)&~(8-1);o=+u[a>>3];n[r>>2]=a+8;u[e>>3]=o;break e}case 18:{a=(n[r>>2]|0)+(8-1)&~(8-1);o=+u[a>>3];n[r>>2]=a+8;u[e>>3]=o;break e}default:break e}}while(0)}while(0);return}function jn(e,i,r){e=e|0;i=i|0;r=r|0;var a=0;if(i>>>0>0|(i|0)==0&e>>>0>4294967295)while(1){a=nu(e|0,i|0,10,0)|0;r=r+-1|0;t[r>>0]=a|48;a=au(e|0,i|0,10,0)|0;if(i>>>0>9|(i|0)==9&e>>>0>4294967295){e=a;i=P}else{e=a;break}}if(e)while(1){r=r+-1|0;t[r>>0]=(e>>>0)%10|0|48;if(e>>>0<10)break;else e=(e>>>0)/10|0}return r|0}function Vn(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0,s=0,f=0;f=c;c=c+256|0;s=f;do{if((r|0)>(t|0)&(a&73728|0)==0){a=r-t|0;Gl(s|0,i|0,(a>>>0>256?256:a)|0)|0;i=n[e>>2]|0;o=(i&32|0)==0;if(a>>>0>255){t=r-t|0;do{if(o){rn(s,256,e)|0;i=n[e>>2]|0}a=a+-256|0;o=(i&32|0)==0}while(a>>>0>255);if(o)a=t&255;else break}else if(!o)break;rn(s,a,e)|0}}while(0);c=f;return}function Un(e){e=e|0;var i=0,r=0,t=0,a=0,o=0,s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,P=0,O=0,D=0,N=0,H=0,I=0,L=0;do{if(e>>>0<245){b=e>>>0<11?16:e+11&-8;e=b>>>3;f=n[756]|0;r=f>>>e;if(r&3){e=(r&1^1)+e|0;t=e<<1;r=3064+(t<<2)|0;t=3064+(t+2<<2)|0;a=n[t>>2]|0;o=a+8|0;s=n[o>>2]|0;do{if((r|0)!=(s|0)){if(s>>>0<(n[760]|0)>>>0)Pe();i=s+12|0;if((n[i>>2]|0)==(a|0)){n[i>>2]=r;n[t>>2]=s;break}else Pe()}else n[756]=f&~(1<<e)}while(0);L=e<<3;n[a+4>>2]=L|3;L=a+(L|4)|0;n[L>>2]=n[L>>2]|1;L=o;return L|0}s=n[758]|0;if(b>>>0>s>>>0){if(r){t=2<<e;t=r<<e&(t|0-t);t=(t&0-t)+-1|0;l=t>>>12&16;t=t>>>l;a=t>>>5&8;t=t>>>a;o=t>>>2&4;t=t>>>o;r=t>>>1&2;t=t>>>r;e=t>>>1&1;e=(a|l|o|r|e)+(t>>>e)|0;t=e<<1;r=3064+(t<<2)|0;t=3064+(t+2<<2)|0;o=n[t>>2]|0;l=o+8|0;a=n[l>>2]|0;do{if((r|0)!=(a|0)){if(a>>>0<(n[760]|0)>>>0)Pe();i=a+12|0;if((n[i>>2]|0)==(o|0)){n[i>>2]=r;n[t>>2]=a;u=n[758]|0;break}else Pe()}else{n[756]=f&~(1<<e);u=s}}while(0);L=e<<3;s=L-b|0;n[o+4>>2]=b|3;f=o+b|0;n[o+(b|4)>>2]=s|1;n[o+L>>2]=s;if(u){a=n[761]|0;r=u>>>3;i=r<<1;t=3064+(i<<2)|0;e=n[756]|0;r=1<<r;if(e&r){e=3064+(i+2<<2)|0;i=n[e>>2]|0;if(i>>>0<(n[760]|0)>>>0)Pe();else{c=e;d=i}}else{n[756]=e|r;c=3064+(i+2<<2)|0;d=t}n[c>>2]=a;n[d+12>>2]=a;n[a+8>>2]=d;n[a+12>>2]=t}n[758]=s;n[761]=f;L=l;return L|0}e=n[757]|0;if(e){r=(e&0-e)+-1|0;I=r>>>12&16;r=r>>>I;H=r>>>5&8;r=r>>>H;L=r>>>2&4;r=r>>>L;e=r>>>1&2;r=r>>>e;t=r>>>1&1;t=n[3328+((H|I|L|e|t)+(r>>>t)<<2)>>2]|0;r=(n[t+4>>2]&-8)-b|0;e=t;while(1){i=n[e+16>>2]|0;if(!i){i=n[e+20>>2]|0;if(!i){l=r;break}}e=(n[i+4>>2]&-8)-b|0;L=e>>>0<r>>>0;r=L?e:r;e=i;t=L?i:t}o=n[760]|0;if(t>>>0<o>>>0)Pe();f=t+b|0;if(t>>>0>=f>>>0)Pe();s=n[t+24>>2]|0;r=n[t+12>>2]|0;do{if((r|0)==(t|0)){e=t+20|0;i=n[e>>2]|0;if(!i){e=t+16|0;i=n[e>>2]|0;if(!i){h=0;break}}while(1){r=i+20|0;a=n[r>>2]|0;if(a){i=a;e=r;continue}r=i+16|0;a=n[r>>2]|0;if(!a)break;else{i=a;e=r}}if(e>>>0<o>>>0)Pe();else{n[e>>2]=0;h=i;break}}else{a=n[t+8>>2]|0;if(a>>>0<o>>>0)Pe();i=a+12|0;if((n[i>>2]|0)!=(t|0))Pe();e=r+8|0;if((n[e>>2]|0)==(t|0)){n[i>>2]=r;n[e>>2]=a;h=r;break}else Pe()}}while(0);do{if(s){i=n[t+28>>2]|0;e=3328+(i<<2)|0;if((t|0)==(n[e>>2]|0)){n[e>>2]=h;if(!h){n[757]=n[757]&~(1<<i);break}}else{if(s>>>0<(n[760]|0)>>>0)Pe();i=s+16|0;if((n[i>>2]|0)==(t|0))n[i>>2]=h;else n[s+20>>2]=h;if(!h)break}e=n[760]|0;if(h>>>0<e>>>0)Pe();n[h+24>>2]=s;i=n[t+16>>2]|0;do{if(i)if(i>>>0<e>>>0)Pe();else{n[h+16>>2]=i;n[i+24>>2]=h;break}}while(0);i=n[t+20>>2]|0;if(i)if(i>>>0<(n[760]|0)>>>0)Pe();else{n[h+20>>2]=i;n[i+24>>2]=h;break}}}while(0);if(l>>>0<16){L=l+b|0;n[t+4>>2]=L|3;L=t+(L+4)|0;n[L>>2]=n[L>>2]|1}else{n[t+4>>2]=b|3;n[t+(b|4)>>2]=l|1;n[t+(l+b)>>2]=l;i=n[758]|0;if(i){o=n[761]|0;r=i>>>3;i=r<<1;a=3064+(i<<2)|0;e=n[756]|0;r=1<<r;if(e&r){i=3064+(i+2<<2)|0;e=n[i>>2]|0;if(e>>>0<(n[760]|0)>>>0)Pe();else{k=i;w=e}}else{n[756]=e|r;k=3064+(i+2<<2)|0;w=a}n[k>>2]=o;n[w+12>>2]=o;n[o+8>>2]=w;n[o+12>>2]=a}n[758]=l;n[761]=f}L=t+8|0;return L|0}else w=b}else w=b}else if(e>>>0<=4294967231){e=e+11|0;d=e&-8;c=n[757]|0;if(c){r=0-d|0;e=e>>>8;if(e)if(d>>>0>16777215)u=31;else{w=(e+1048320|0)>>>16&8;_=e<<w;k=(_+520192|0)>>>16&4;_=_<<k;u=(_+245760|0)>>>16&2;u=14-(k|w|u)+(_<<u>>>15)|0;u=d>>>(u+7|0)&1|u<<1}else u=0;e=n[3328+(u<<2)>>2]|0;e:do{if(!e){a=0;e=0;_=86}else{s=r;a=0;f=d<<((u|0)==31?0:25-(u>>>1)|0);l=e;e=0;while(1){o=n[l+4>>2]&-8;r=o-d|0;if(r>>>0<s>>>0)if((o|0)==(d|0)){o=l;e=l;_=90;break e}else e=l;else r=s;_=n[l+20>>2]|0;l=n[l+16+(f>>>31<<2)>>2]|0;a=(_|0)==0|(_|0)==(l|0)?a:_;if(!l){_=86;break}else{s=r;f=f<<1}}}}while(0);if((_|0)==86){if((a|0)==0&(e|0)==0){e=2<<u;e=c&(e|0-e);if(!e){w=d;break}e=(e&0-e)+-1|0;h=e>>>12&16;e=e>>>h;c=e>>>5&8;e=e>>>c;k=e>>>2&4;e=e>>>k;w=e>>>1&2;e=e>>>w;a=e>>>1&1;a=n[3328+((c|h|k|w|a)+(e>>>a)<<2)>>2]|0;e=0}if(!a){f=r;l=e}else{o=a;_=90}}if((_|0)==90)while(1){_=0;w=(n[o+4>>2]&-8)-d|0;a=w>>>0<r>>>0;r=a?w:r;e=a?o:e;a=n[o+16>>2]|0;if(a){o=a;_=90;continue}o=n[o+20>>2]|0;if(!o){f=r;l=e;break}else _=90}if((l|0)!=0?f>>>0<((n[758]|0)-d|0)>>>0:0){a=n[760]|0;if(l>>>0<a>>>0)Pe();s=l+d|0;if(l>>>0>=s>>>0)Pe();o=n[l+24>>2]|0;r=n[l+12>>2]|0;do{if((r|0)==(l|0)){e=l+20|0;i=n[e>>2]|0;if(!i){e=l+16|0;i=n[e>>2]|0;if(!i){b=0;break}}while(1){r=i+20|0;t=n[r>>2]|0;if(t){i=t;e=r;continue}r=i+16|0;t=n[r>>2]|0;if(!t)break;else{i=t;e=r}}if(e>>>0<a>>>0)Pe();else{n[e>>2]=0;b=i;break}}else{t=n[l+8>>2]|0;if(t>>>0<a>>>0)Pe();i=t+12|0;if((n[i>>2]|0)!=(l|0))Pe();e=r+8|0;if((n[e>>2]|0)==(l|0)){n[i>>2]=r;n[e>>2]=t;b=r;break}else Pe()}}while(0);do{if(o){i=n[l+28>>2]|0;e=3328+(i<<2)|0;if((l|0)==(n[e>>2]|0)){n[e>>2]=b;if(!b){n[757]=n[757]&~(1<<i);break}}else{if(o>>>0<(n[760]|0)>>>0)Pe();i=o+16|0;if((n[i>>2]|0)==(l|0))n[i>>2]=b;else n[o+20>>2]=b;if(!b)break}e=n[760]|0;if(b>>>0<e>>>0)Pe();n[b+24>>2]=o;i=n[l+16>>2]|0;do{if(i)if(i>>>0<e>>>0)Pe();else{n[b+16>>2]=i;n[i+24>>2]=b;break}}while(0);i=n[l+20>>2]|0;if(i)if(i>>>0<(n[760]|0)>>>0)Pe();else{n[b+20>>2]=i;n[i+24>>2]=b;break}}}while(0);e:do{if(f>>>0>=16){n[l+4>>2]=d|3;n[l+(d|4)>>2]=f|1;n[l+(f+d)>>2]=f;i=f>>>3;if(f>>>0<256){e=i<<1;t=3064+(e<<2)|0;r=n[756]|0;i=1<<i;if(r&i){i=3064+(e+2<<2)|0;e=n[i>>2]|0;if(e>>>0<(n[760]|0)>>>0)Pe();else{p=i;E=e}}else{n[756]=r|i;p=3064+(e+2<<2)|0;E=t}n[p>>2]=s;n[E+12>>2]=s;n[l+(d+8)>>2]=E;n[l+(d+12)>>2]=t;break}i=f>>>8;if(i)if(f>>>0>16777215)t=31;else{I=(i+1048320|0)>>>16&8;L=i<<I;H=(L+520192|0)>>>16&4;L=L<<H;t=(L+245760|0)>>>16&2;t=14-(H|I|t)+(L<<t>>>15)|0;t=f>>>(t+7|0)&1|t<<1}else t=0;i=3328+(t<<2)|0;n[l+(d+28)>>2]=t;n[l+(d+20)>>2]=0;n[l+(d+16)>>2]=0;e=n[757]|0;r=1<<t;if(!(e&r)){n[757]=e|r;n[i>>2]=s;n[l+(d+24)>>2]=i;n[l+(d+12)>>2]=s;n[l+(d+8)>>2]=s;break}i=n[i>>2]|0;i:do{if((n[i+4>>2]&-8|0)!=(f|0)){t=f<<((t|0)==31?0:25-(t>>>1)|0);while(1){e=i+16+(t>>>31<<2)|0;r=n[e>>2]|0;if(!r)break;if((n[r+4>>2]&-8|0)==(f|0)){y=r;break i}else{t=t<<1;i=r}}if(e>>>0<(n[760]|0)>>>0)Pe();else{n[e>>2]=s;n[l+(d+24)>>2]=i;n[l+(d+12)>>2]=s;n[l+(d+8)>>2]=s;break e}}else y=i}while(0);i=y+8|0;e=n[i>>2]|0;L=n[760]|0;if(e>>>0>=L>>>0&y>>>0>=L>>>0){n[e+12>>2]=s;n[i>>2]=s;n[l+(d+8)>>2]=e;n[l+(d+12)>>2]=y;n[l+(d+24)>>2]=0;break}else Pe()}else{L=f+d|0;n[l+4>>2]=L|3;L=l+(L+4)|0;n[L>>2]=n[L>>2]|1}}while(0);L=l+8|0;return L|0}else w=d}else w=d}else w=-1}while(0);r=n[758]|0;if(r>>>0>=w>>>0){i=r-w|0;e=n[761]|0;if(i>>>0>15){n[761]=e+w;n[758]=i;n[e+(w+4)>>2]=i|1;n[e+r>>2]=i;n[e+4>>2]=w|3}else{n[758]=0;n[761]=0;n[e+4>>2]=r|3;L=e+(r+4)|0;n[L>>2]=n[L>>2]|1}L=e+8|0;return L|0}e=n[759]|0;if(e>>>0>w>>>0){I=e-w|0;n[759]=I;L=n[762]|0;n[762]=L+w;n[L+(w+4)>>2]=I|1;n[L+4>>2]=w|3;L=L+8|0;return L|0}do{if(!(n[874]|0)){e=ri(30)|0;if(!(e+-1&e)){n[876]=e;n[875]=e;n[877]=-1;n[878]=-1;n[879]=0;n[867]=0;n[874]=(Pi(0)|0)&-16^1431655768;break}else Pe()}}while(0);l=w+48|0;f=n[876]|0;u=w+47|0;s=f+u|0;f=0-f|0;c=s&f;if(c>>>0<=w>>>0){L=0;return L|0}e=n[866]|0;if((e|0)!=0?(E=n[864]|0,y=E+c|0,y>>>0<=E>>>0|y>>>0>e>>>0):0){L=0;return L|0}e:do{if(!(n[867]&4)){e=n[762]|0;i:do{if(e){a=3472;while(1){r=n[a>>2]|0;if(r>>>0<=e>>>0?(m=a+4|0,(r+(n[m>>2]|0)|0)>>>0>e>>>0):0){o=a;e=m;break}a=n[a+8>>2]|0;if(!a){_=174;break i}}r=s-(n[759]|0)&f;if(r>>>0<2147483647){a=Xe(r|0)|0;y=(a|0)==((n[o>>2]|0)+(n[e>>2]|0)|0);e=y?r:0;if(y){if((a|0)!=(-1|0)){g=a;k=e;_=194;break e}}else _=184}else e=0}else _=174}while(0);do{if((_|0)==174){o=Xe(0)|0;if((o|0)!=(-1|0)){e=o;r=n[875]|0;a=r+-1|0;if(!(a&e))r=c;else r=c-e+(a+e&0-r)|0;e=n[864]|0;a=e+r|0;if(r>>>0>w>>>0&r>>>0<2147483647){y=n[866]|0;if((y|0)!=0?a>>>0<=e>>>0|a>>>0>y>>>0:0){e=0;break}a=Xe(r|0)|0;y=(a|0)==(o|0);e=y?r:0;if(y){g=o;k=e;_=194;break e}else _=184}else e=0}else e=0}}while(0);i:do{if((_|0)==184){o=0-r|0;do{if(l>>>0>r>>>0&(r>>>0<2147483647&(a|0)!=(-1|0))?(v=n[876]|0,v=u-r+v&0-v,v>>>0<2147483647):0)if((Xe(v|0)|0)==(-1|0)){Xe(o|0)|0;break i}else{r=v+r|0;break}}while(0);if((a|0)!=(-1|0)){g=a;k=r;_=194;break e}}}while(0);n[867]=n[867]|4;_=191}else{e=0;_=191}}while(0);if((((_|0)==191?c>>>0<2147483647:0)?(g=Xe(c|0)|0,S=Xe(0)|0,g>>>0<S>>>0&((g|0)!=(-1|0)&(S|0)!=(-1|0))):0)?(M=S-g|0,R=M>>>0>(w+40|0)>>>0,R):0){k=R?M:e;_=194}if((_|0)==194){e=(n[864]|0)+k|0;n[864]=e;if(e>>>0>(n[865]|0)>>>0)n[865]=e;s=n[762]|0;e:do{if(s){o=3472;do{e=n[o>>2]|0;r=o+4|0;a=n[r>>2]|0;if((g|0)==(e+a|0)){T=e;A=r;C=a;x=o;_=204;break}o=n[o+8>>2]|0}while((o|0)!=0);if(((_|0)==204?(n[x+12>>2]&8|0)==0:0)?s>>>0<g>>>0&s>>>0>=T>>>0:0){n[A>>2]=C+k;L=(n[759]|0)+k|0;I=s+8|0;I=(I&7|0)==0?0:0-I&7;H=L-I|0;n[762]=s+I;n[759]=H;n[s+(I+4)>>2]=H|1;n[s+(L+4)>>2]=40;n[763]=n[878];break}e=n[760]|0;if(g>>>0<e>>>0){n[760]=g;e=g}r=g+k|0;o=3472;while(1){if((n[o>>2]|0)==(r|0)){a=o;r=o;_=212;break}o=n[o+8>>2]|0;if(!o){r=3472;break}}if((_|0)==212)if(!(n[r+12>>2]&8)){n[a>>2]=g;h=r+4|0;n[h>>2]=(n[h>>2]|0)+k;h=g+8|0;h=(h&7|0)==0?0:0-h&7;u=g+(k+8)|0;u=(u&7|0)==0?0:0-u&7;i=g+(u+k)|0;d=h+w|0;b=g+d|0;c=i-(g+h)-w|0;n[g+(h+4)>>2]=w|3;i:do{if((i|0)!=(s|0)){if((i|0)==(n[761]|0)){L=(n[758]|0)+c|0;n[758]=L;n[761]=b;n[g+(d+4)>>2]=L|1;n[g+(L+d)>>2]=L;break}f=k+4|0;r=n[g+(f+u)>>2]|0;if((r&3|0)==1){l=r&-8;o=r>>>3;r:do{if(r>>>0>=256){s=n[g+((u|24)+k)>>2]|0;t=n[g+(k+12+u)>>2]|0;do{if((t|0)==(i|0)){a=u|16;t=g+(f+a)|0;r=n[t>>2]|0;if(!r){t=g+(a+k)|0;r=n[t>>2]|0;if(!r){N=0;break}}while(1){a=r+20|0;o=n[a>>2]|0;if(o){r=o;t=a;continue}a=r+16|0;o=n[a>>2]|0;if(!o)break;else{r=o;t=a}}if(t>>>0<e>>>0)Pe();else{n[t>>2]=0;N=r;break}}else{a=n[g+((u|8)+k)>>2]|0;if(a>>>0<e>>>0)Pe();e=a+12|0;if((n[e>>2]|0)!=(i|0))Pe();r=t+8|0;if((n[r>>2]|0)==(i|0)){n[e>>2]=t;n[r>>2]=a;N=t;break}else Pe()}}while(0);if(!s)break;e=n[g+(k+28+u)>>2]|0;r=3328+(e<<2)|0;do{if((i|0)!=(n[r>>2]|0)){if(s>>>0<(n[760]|0)>>>0)Pe();e=s+16|0;if((n[e>>2]|0)==(i|0))n[e>>2]=N;else n[s+20>>2]=N;if(!N)break r}else{n[r>>2]=N;if(N)break;n[757]=n[757]&~(1<<e);break r}}while(0);r=n[760]|0;if(N>>>0<r>>>0)Pe();n[N+24>>2]=s;i=u|16;e=n[g+(i+k)>>2]|0;do{if(e)if(e>>>0<r>>>0)Pe();else{n[N+16>>2]=e;n[e+24>>2]=N;break}}while(0);i=n[g+(f+i)>>2]|0;if(!i)break;if(i>>>0<(n[760]|0)>>>0)Pe();else{n[N+20>>2]=i;n[i+24>>2]=N;break}}else{t=n[g+((u|8)+k)>>2]|0;a=n[g+(k+12+u)>>2]|0;r=3064+(o<<1<<2)|0;do{if((t|0)!=(r|0)){if(t>>>0<e>>>0)Pe();if((n[t+12>>2]|0)==(i|0))break;Pe()}}while(0);if((a|0)==(t|0)){n[756]=n[756]&~(1<<o);break}do{if((a|0)==(r|0))F=a+8|0;else{if(a>>>0<e>>>0)Pe();e=a+8|0;if((n[e>>2]|0)==(i|0)){F=e;break}Pe()}}while(0);n[t+12>>2]=a;n[F>>2]=t}}while(0);i=g+((l|u)+k)|0;a=l+c|0}else a=c;i=i+4|0;n[i>>2]=n[i>>2]&-2;n[g+(d+4)>>2]=a|1;n[g+(a+d)>>2]=a;i=a>>>3;if(a>>>0<256){e=i<<1;t=3064+(e<<2)|0;r=n[756]|0;i=1<<i;do{if(!(r&i)){n[756]=r|i;H=3064+(e+2<<2)|0;I=t}else{i=3064+(e+2<<2)|0;e=n[i>>2]|0;if(e>>>0>=(n[760]|0)>>>0){H=i;I=e;break}Pe()}}while(0);n[H>>2]=b;n[I+12>>2]=b;n[g+(d+8)>>2]=I;n[g+(d+12)>>2]=t;break}i=a>>>8;do{if(!i)t=0;else{if(a>>>0>16777215){t=31;break}H=(i+1048320|0)>>>16&8;I=i<<H;N=(I+520192|0)>>>16&4;I=I<<N;t=(I+245760|0)>>>16&2;t=14-(N|H|t)+(I<<t>>>15)|0;t=a>>>(t+7|0)&1|t<<1}}while(0);i=3328+(t<<2)|0;n[g+(d+28)>>2]=t;n[g+(d+20)>>2]=0;n[g+(d+16)>>2]=0;e=n[757]|0;r=1<<t;if(!(e&r)){n[757]=e|r;n[i>>2]=b;n[g+(d+24)>>2]=i;n[g+(d+12)>>2]=b;n[g+(d+8)>>2]=b;break}i=n[i>>2]|0;r:do{if((n[i+4>>2]&-8|0)!=(a|0)){t=a<<((t|0)==31?0:25-(t>>>1)|0);while(1){e=i+16+(t>>>31<<2)|0;r=n[e>>2]|0;if(!r)break;if((n[r+4>>2]&-8|0)==(a|0)){L=r;break r}else{t=t<<1;i=r}}if(e>>>0<(n[760]|0)>>>0)Pe();else{n[e>>2]=b;n[g+(d+24)>>2]=i;n[g+(d+12)>>2]=b;n[g+(d+8)>>2]=b;break i}}else L=i}while(0);i=L+8|0;e=n[i>>2]|0;I=n[760]|0;if(e>>>0>=I>>>0&L>>>0>=I>>>0){n[e+12>>2]=b;n[i>>2]=b;n[g+(d+8)>>2]=e;n[g+(d+12)>>2]=L;n[g+(d+24)>>2]=0;break}else Pe()}else{L=(n[759]|0)+c|0;n[759]=L;n[762]=b;n[g+(d+4)>>2]=L|1}}while(0);L=g+(h|8)|0;return L|0}else r=3472;while(1){e=n[r>>2]|0;if(e>>>0<=s>>>0?(i=n[r+4>>2]|0,t=e+i|0,t>>>0>s>>>0):0)break;r=n[r+8>>2]|0}a=e+(i+-39)|0;e=e+(i+-47+((a&7|0)==0?0:0-a&7))|0;a=s+16|0;e=e>>>0<a>>>0?s:e;i=e+8|0;r=g+8|0;r=(r&7|0)==0?0:0-r&7;L=k+-40-r|0;n[762]=g+r;n[759]=L;n[g+(r+4)>>2]=L|1;n[g+(k+-36)>>2]=40;n[763]=n[878];r=e+4|0;n[r>>2]=27;n[i>>2]=n[868];n[i+4>>2]=n[869];n[i+8>>2]=n[870];n[i+12>>2]=n[871];n[868]=g;n[869]=k;n[871]=0;n[870]=i;i=e+28|0;n[i>>2]=7;if((e+32|0)>>>0<t>>>0)do{L=i;i=i+4|0;n[i>>2]=7}while((L+8|0)>>>0<t>>>0);if((e|0)!=(s|0)){o=e-s|0;n[r>>2]=n[r>>2]&-2;n[s+4>>2]=o|1;n[e>>2]=o;i=o>>>3;if(o>>>0<256){e=i<<1;t=3064+(e<<2)|0;r=n[756]|0;i=1<<i;if(r&i){i=3064+(e+2<<2)|0;e=n[i>>2]|0;if(e>>>0<(n[760]|0)>>>0)Pe();else{P=i;O=e}}else{n[756]=r|i;P=3064+(e+2<<2)|0;O=t}n[P>>2]=s;n[O+12>>2]=s;n[s+8>>2]=O;n[s+12>>2]=t;break}i=o>>>8;if(i)if(o>>>0>16777215)t=31;else{I=(i+1048320|0)>>>16&8;L=i<<I;H=(L+520192|0)>>>16&4;L=L<<H;t=(L+245760|0)>>>16&2;t=14-(H|I|t)+(L<<t>>>15)|0;t=o>>>(t+7|0)&1|t<<1}else t=0;r=3328+(t<<2)|0;n[s+28>>2]=t;n[s+20>>2]=0;n[a>>2]=0;i=n[757]|0;e=1<<t;if(!(i&e)){n[757]=i|e;n[r>>2]=s;n[s+24>>2]=r;n[s+12>>2]=s;n[s+8>>2]=s;break}i=n[r>>2]|0;i:do{if((n[i+4>>2]&-8|0)!=(o|0)){t=o<<((t|0)==31?0:25-(t>>>1)|0);while(1){e=i+16+(t>>>31<<2)|0;r=n[e>>2]|0;if(!r)break;if((n[r+4>>2]&-8|0)==(o|0)){D=r;break i}else{t=t<<1;i=r}}if(e>>>0<(n[760]|0)>>>0)Pe();else{n[e>>2]=s;n[s+24>>2]=i;n[s+12>>2]=s;n[s+8>>2]=s;break e}}else D=i}while(0);i=D+8|0;e=n[i>>2]|0;L=n[760]|0;if(e>>>0>=L>>>0&D>>>0>=L>>>0){n[e+12>>2]=s;n[i>>2]=s;n[s+8>>2]=e;n[s+12>>2]=D;n[s+24>>2]=0;break}else Pe()}}else{L=n[760]|0;if((L|0)==0|g>>>0<L>>>0)n[760]=g;n[868]=g;n[869]=k;n[871]=0;n[765]=n[874];n[764]=-1;i=0;do{L=i<<1;I=3064+(L<<2)|0;n[3064+(L+3<<2)>>2]=I;n[3064+(L+2<<2)>>2]=I;i=i+1|0}while((i|0)!=32);L=g+8|0;L=(L&7|0)==0?0:0-L&7;I=k+-40-L|0;n[762]=g+L;n[759]=I;n[g+(L+4)>>2]=I|1;n[g+(k+-36)>>2]=40;n[763]=n[878]}}while(0);i=n[759]|0;if(i>>>0>w>>>0){I=i-w|0;n[759]=I;L=n[762]|0;n[762]=L+w;n[L+(w+4)>>2]=I|1;n[L+4>>2]=w|3;L=L+8|0;return L|0}}n[(ua()|0)>>2]=12;L=0;return L|0}function Bn(e){e=e|0;var i=0,r=0,t=0,a=0,o=0,s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0;if(!e)return;i=e+-8|0;f=n[760]|0;if(i>>>0<f>>>0)Pe();r=n[e+-4>>2]|0;t=r&3;if((t|0)==1)Pe();b=r&-8;w=e+(b+-8)|0;do{if(!(r&1)){i=n[i>>2]|0;if(!t)return;l=-8-i|0;c=e+l|0;d=i+b|0;if(c>>>0<f>>>0)Pe();if((c|0)==(n[761]|0)){i=e+(b+-4)|0;r=n[i>>2]|0;if((r&3|0)!=3){v=c;o=d;break}n[758]=d;n[i>>2]=r&-2;n[e+(l+4)>>2]=d|1;n[w>>2]=d;return}a=i>>>3;if(i>>>0<256){t=n[e+(l+8)>>2]|0;r=n[e+(l+12)>>2]|0;i=3064+(a<<1<<2)|0;if((t|0)!=(i|0)){if(t>>>0<f>>>0)Pe();if((n[t+12>>2]|0)!=(c|0))Pe()}if((r|0)==(t|0)){n[756]=n[756]&~(1<<a);v=c;o=d;break}if((r|0)!=(i|0)){if(r>>>0<f>>>0)Pe();i=r+8|0;if((n[i>>2]|0)==(c|0))s=i;else Pe()}else s=r+8|0;n[t+12>>2]=r;n[s>>2]=t;v=c;o=d;break}s=n[e+(l+24)>>2]|0;t=n[e+(l+12)>>2]|0;do{if((t|0)==(c|0)){r=e+(l+20)|0;i=n[r>>2]|0;if(!i){r=e+(l+16)|0;i=n[r>>2]|0;if(!i){u=0;break}}while(1){t=i+20|0;a=n[t>>2]|0;if(a){i=a;r=t;continue}t=i+16|0;a=n[t>>2]|0;if(!a)break;else{i=a;r=t}}if(r>>>0<f>>>0)Pe();else{n[r>>2]=0;u=i;break}}else{a=n[e+(l+8)>>2]|0;if(a>>>0<f>>>0)Pe();i=a+12|0;if((n[i>>2]|0)!=(c|0))Pe();r=t+8|0;if((n[r>>2]|0)==(c|0)){n[i>>2]=t;n[r>>2]=a;u=t;break}else Pe()}}while(0);if(s){i=n[e+(l+28)>>2]|0;r=3328+(i<<2)|0;if((c|0)==(n[r>>2]|0)){n[r>>2]=u;if(!u){n[757]=n[757]&~(1<<i);v=c;o=d;break}}else{if(s>>>0<(n[760]|0)>>>0)Pe();i=s+16|0;if((n[i>>2]|0)==(c|0))n[i>>2]=u;else n[s+20>>2]=u;if(!u){v=c;o=d;break}}r=n[760]|0;if(u>>>0<r>>>0)Pe();n[u+24>>2]=s;i=n[e+(l+16)>>2]|0;do{if(i)if(i>>>0<r>>>0)Pe();else{n[u+16>>2]=i;n[i+24>>2]=u;break}}while(0);i=n[e+(l+20)>>2]|0;if(i)if(i>>>0<(n[760]|0)>>>0)Pe();else{n[u+20>>2]=i;n[i+24>>2]=u;v=c;o=d;break}else{v=c;o=d}}else{v=c;o=d}}else{v=i;o=b}}while(0);if(v>>>0>=w>>>0)Pe();i=e+(b+-4)|0;r=n[i>>2]|0;if(!(r&1))Pe();if(!(r&2)){if((w|0)==(n[762]|0)){E=(n[759]|0)+o|0;n[759]=E;n[762]=v;n[v+4>>2]=E|1;if((v|0)!=(n[761]|0))return;n[761]=0;n[758]=0;return}if((w|0)==(n[761]|0)){E=(n[758]|0)+o|0;n[758]=E;n[761]=v;n[v+4>>2]=E|1;n[v+E>>2]=E;return}o=(r&-8)+o|0;a=r>>>3;do{if(r>>>0>=256){s=n[e+(b+16)>>2]|0;i=n[e+(b|4)>>2]|0;do{if((i|0)==(w|0)){r=e+(b+12)|0;i=n[r>>2]|0;if(!i){r=e+(b+8)|0;i=n[r>>2]|0;if(!i){k=0;break}}while(1){t=i+20|0;a=n[t>>2]|0;if(a){i=a;r=t;continue}t=i+16|0;a=n[t>>2]|0;if(!a)break;else{i=a;r=t}}if(r>>>0<(n[760]|0)>>>0)Pe();else{n[r>>2]=0;k=i;break}}else{r=n[e+b>>2]|0;if(r>>>0<(n[760]|0)>>>0)Pe();t=r+12|0;if((n[t>>2]|0)!=(w|0))Pe();a=i+8|0;if((n[a>>2]|0)==(w|0)){n[t>>2]=i;n[a>>2]=r;k=i;break}else Pe()}}while(0);if(s){i=n[e+(b+20)>>2]|0;r=3328+(i<<2)|0;if((w|0)==(n[r>>2]|0)){n[r>>2]=k;if(!k){n[757]=n[757]&~(1<<i);break}}else{if(s>>>0<(n[760]|0)>>>0)Pe();i=s+16|0;if((n[i>>2]|0)==(w|0))n[i>>2]=k;else n[s+20>>2]=k;if(!k)break}r=n[760]|0;if(k>>>0<r>>>0)Pe();n[k+24>>2]=s;i=n[e+(b+8)>>2]|0;do{if(i)if(i>>>0<r>>>0)Pe();else{n[k+16>>2]=i;n[i+24>>2]=k;break}}while(0);i=n[e+(b+12)>>2]|0;if(i)if(i>>>0<(n[760]|0)>>>0)Pe();else{n[k+20>>2]=i;n[i+24>>2]=k;break}}}else{t=n[e+b>>2]|0;r=n[e+(b|4)>>2]|0;i=3064+(a<<1<<2)|0;if((t|0)!=(i|0)){if(t>>>0<(n[760]|0)>>>0)Pe();if((n[t+12>>2]|0)!=(w|0))Pe()}if((r|0)==(t|0)){n[756]=n[756]&~(1<<a);break}if((r|0)!=(i|0)){if(r>>>0<(n[760]|0)>>>0)Pe();i=r+8|0;if((n[i>>2]|0)==(w|0))h=i;else Pe()}else h=r+8|0;n[t+12>>2]=r;n[h>>2]=t}}while(0);n[v+4>>2]=o|1;n[v+o>>2]=o;if((v|0)==(n[761]|0)){n[758]=o;return}}else{n[i>>2]=r&-2;n[v+4>>2]=o|1;n[v+o>>2]=o}i=o>>>3;if(o>>>0<256){r=i<<1;a=3064+(r<<2)|0;t=n[756]|0;i=1<<i;if(t&i){i=3064+(r+2<<2)|0;r=n[i>>2]|0;if(r>>>0<(n[760]|0)>>>0)Pe();else{m=i;p=r}}else{n[756]=t|i;m=3064+(r+2<<2)|0;p=a}n[m>>2]=v;n[p+12>>2]=v;n[v+8>>2]=p;n[v+12>>2]=a;return}i=o>>>8;if(i)if(o>>>0>16777215)a=31;else{m=(i+1048320|0)>>>16&8;p=i<<m;w=(p+520192|0)>>>16&4;p=p<<w;a=(p+245760|0)>>>16&2;a=14-(w|m|a)+(p<<a>>>15)|0;a=o>>>(a+7|0)&1|a<<1}else a=0;i=3328+(a<<2)|0;n[v+28>>2]=a;n[v+20>>2]=0;n[v+16>>2]=0;r=n[757]|0;t=1<<a;e:do{if(r&t){i=n[i>>2]|0;i:do{if((n[i+4>>2]&-8|0)!=(o|0)){a=o<<((a|0)==31?0:25-(a>>>1)|0);while(1){r=i+16+(a>>>31<<2)|0;t=n[r>>2]|0;if(!t)break;if((n[t+4>>2]&-8|0)==(o|0)){E=t;break i}else{a=a<<1;i=t}}if(r>>>0<(n[760]|0)>>>0)Pe();else{n[r>>2]=v;n[v+24>>2]=i;n[v+12>>2]=v;n[v+8>>2]=v;break e}}else E=i}while(0);i=E+8|0;r=n[i>>2]|0;p=n[760]|0;if(r>>>0>=p>>>0&E>>>0>=p>>>0){n[r+12>>2]=v;n[i>>2]=v;n[v+8>>2]=r;n[v+12>>2]=E;n[v+24>>2]=0;break}else Pe()}else{n[757]=r|t;n[i>>2]=v;n[v+24>>2]=i;n[v+12>>2]=v;n[v+8>>2]=v}}while(0);v=(n[764]|0)+-1|0;n[764]=v;if(!v)i=3480;else return;while(1){i=n[i>>2]|0;if(!i)break;else i=i+8|0}n[764]=-1;return}function Wn(e,i){e=e|0;i=i|0;var r=0;if(e){r=re(i,e)|0;if((i|e)>>>0>65535)r=((r>>>0)/(e>>>0)|0|0)==(i|0)?r:-1}else r=0;i=Un(r)|0;if(!i)return i|0;if(!(n[i+-4>>2]&3))return i|0;Gl(i|0,0,r|0)|0;return i|0}function zn(e,i){e=e|0;i=i|0;var r=0,t=0;if(!e){e=Un(i)|0;return e|0}if(i>>>0>4294967231){n[(ua()|0)>>2]=12;e=0;return e|0}r=Yn(e+-8|0,i>>>0<11?16:i+11&-8)|0;if(r){e=r+8|0;return e|0}r=Un(i)|0;if(!r){e=0;return e|0}t=n[e+-4>>2]|0;t=(t&-8)-((t&3|0)==0?8:4)|0;Zl(r|0,e|0,(t>>>0<i>>>0?t:i)|0)|0;Bn(e);e=r;return e|0}function Yn(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0;b=e+4|0;k=n[b>>2]|0;l=k&-8;c=e+l|0;f=n[760]|0;r=k&3;if(!((r|0)!=1&e>>>0>=f>>>0&e>>>0<c>>>0))Pe();t=e+(l|4)|0;a=n[t>>2]|0;if(!(a&1))Pe();if(!r){if(i>>>0<256){e=0;return e|0}if(l>>>0>=(i+4|0)>>>0?(l-i|0)>>>0<=n[876]<<1>>>0:0)return e|0;e=0;return e|0}if(l>>>0>=i>>>0){r=l-i|0;if(r>>>0<=15)return e|0;n[b>>2]=k&1|i|2;n[e+(i+4)>>2]=r|3;n[t>>2]=n[t>>2]|1;qn(e+i|0,r);return e|0}if((c|0)==(n[762]|0)){r=(n[759]|0)+l|0;if(r>>>0<=i>>>0){e=0;return e|0}h=r-i|0;n[b>>2]=k&1|i|2;n[e+(i+4)>>2]=h|1;n[762]=e+i;n[759]=h;return e|0}if((c|0)==(n[761]|0)){t=(n[758]|0)+l|0;if(t>>>0<i>>>0){e=0;return e|0}r=t-i|0;if(r>>>0>15){n[b>>2]=k&1|i|2;n[e+(i+4)>>2]=r|1;n[e+t>>2]=r;t=e+(t+4)|0;n[t>>2]=n[t>>2]&-2;t=e+i|0}else{n[b>>2]=k&1|t|2;t=e+(t+4)|0;n[t>>2]=n[t>>2]|1;t=0;r=0}n[758]=r;n[761]=t;return e|0}if(a&2){e=0;return e|0}d=(a&-8)+l|0;if(d>>>0<i>>>0){e=0;return e|0}h=d-i|0;o=a>>>3;do{if(a>>>0>=256){s=n[e+(l+24)>>2]|0;o=n[e+(l+12)>>2]|0;do{if((o|0)==(c|0)){t=e+(l+20)|0;r=n[t>>2]|0;if(!r){t=e+(l+16)|0;r=n[t>>2]|0;if(!r){u=0;break}}while(1){a=r+20|0;o=n[a>>2]|0;if(o){r=o;t=a;continue}a=r+16|0;o=n[a>>2]|0;if(!o)break;else{r=o;t=a}}if(t>>>0<f>>>0)Pe();else{n[t>>2]=0;u=r;break}}else{a=n[e+(l+8)>>2]|0;if(a>>>0<f>>>0)Pe();r=a+12|0;if((n[r>>2]|0)!=(c|0))Pe();t=o+8|0;if((n[t>>2]|0)==(c|0)){n[r>>2]=o;n[t>>2]=a;u=o;break}else Pe()}}while(0);if(s){r=n[e+(l+28)>>2]|0;t=3328+(r<<2)|0;if((c|0)==(n[t>>2]|0)){n[t>>2]=u;if(!u){n[757]=n[757]&~(1<<r);break}}else{if(s>>>0<(n[760]|0)>>>0)Pe();r=s+16|0;if((n[r>>2]|0)==(c|0))n[r>>2]=u;else n[s+20>>2]=u;if(!u)break}t=n[760]|0;if(u>>>0<t>>>0)Pe();n[u+24>>2]=s;r=n[e+(l+16)>>2]|0;do{if(r)if(r>>>0<t>>>0)Pe();else{n[u+16>>2]=r;n[r+24>>2]=u;break}}while(0);r=n[e+(l+20)>>2]|0;if(r)if(r>>>0<(n[760]|0)>>>0)Pe();else{n[u+20>>2]=r;n[r+24>>2]=u;break}}}else{a=n[e+(l+8)>>2]|0;t=n[e+(l+12)>>2]|0;r=3064+(o<<1<<2)|0;if((a|0)!=(r|0)){if(a>>>0<f>>>0)Pe();if((n[a+12>>2]|0)!=(c|0))Pe()}if((t|0)==(a|0)){n[756]=n[756]&~(1<<o);break}if((t|0)!=(r|0)){if(t>>>0<f>>>0)Pe();r=t+8|0;if((n[r>>2]|0)==(c|0))s=r;else Pe()}else s=t+8|0;n[a+12>>2]=t;n[s>>2]=a}}while(0);if(h>>>0<16){n[b>>2]=d|k&1|2;i=e+(d|4)|0;n[i>>2]=n[i>>2]|1;return e|0}else{n[b>>2]=k&1|i|2;n[e+(i+4)>>2]=h|3;k=e+(d|4)|0;n[k>>2]=n[k>>2]|1;qn(e+i|0,h);return e|0}return 0}function qn(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0;w=e+i|0;r=n[e+4>>2]|0;do{if(!(r&1)){u=n[e>>2]|0;if(!(r&3))return;h=e+(0-u)|0;d=u+i|0;l=n[760]|0;if(h>>>0<l>>>0)Pe();if((h|0)==(n[761]|0)){t=e+(i+4)|0;r=n[t>>2]|0;if((r&3|0)!=3){E=h;s=d;break}n[758]=d;n[t>>2]=r&-2;n[e+(4-u)>>2]=d|1;n[w>>2]=d;return}o=u>>>3;if(u>>>0<256){a=n[e+(8-u)>>2]|0;t=n[e+(12-u)>>2]|0;r=3064+(o<<1<<2)|0;if((a|0)!=(r|0)){if(a>>>0<l>>>0)Pe();if((n[a+12>>2]|0)!=(h|0))Pe()}if((t|0)==(a|0)){n[756]=n[756]&~(1<<o);E=h;s=d;break}if((t|0)!=(r|0)){if(t>>>0<l>>>0)Pe();r=t+8|0;if((n[r>>2]|0)==(h|0))f=r;else Pe()}else f=t+8|0;n[a+12>>2]=t;n[f>>2]=a;E=h;s=d;break}f=n[e+(24-u)>>2]|0;a=n[e+(12-u)>>2]|0;do{if((a|0)==(h|0)){a=16-u|0;t=e+(a+4)|0;r=n[t>>2]|0;if(!r){t=e+a|0;r=n[t>>2]|0;if(!r){c=0;break}}while(1){a=r+20|0;o=n[a>>2]|0;if(o){r=o;t=a;continue}a=r+16|0;o=n[a>>2]|0;if(!o)break;else{r=o;t=a}}if(t>>>0<l>>>0)Pe();else{n[t>>2]=0;c=r;break}}else{o=n[e+(8-u)>>2]|0;if(o>>>0<l>>>0)Pe();r=o+12|0;if((n[r>>2]|0)!=(h|0))Pe();t=a+8|0;if((n[t>>2]|0)==(h|0)){n[r>>2]=a;n[t>>2]=o;c=a;break}else Pe()}}while(0);if(f){r=n[e+(28-u)>>2]|0;t=3328+(r<<2)|0;if((h|0)==(n[t>>2]|0)){n[t>>2]=c;if(!c){n[757]=n[757]&~(1<<r);E=h;s=d;break}}else{if(f>>>0<(n[760]|0)>>>0)Pe();r=f+16|0;if((n[r>>2]|0)==(h|0))n[r>>2]=c;else n[f+20>>2]=c;if(!c){E=h;s=d;break}}a=n[760]|0;if(c>>>0<a>>>0)Pe();n[c+24>>2]=f;r=16-u|0;t=n[e+r>>2]|0;do{if(t)if(t>>>0<a>>>0)Pe();else{n[c+16>>2]=t;n[t+24>>2]=c;break}}while(0);r=n[e+(r+4)>>2]|0;if(r)if(r>>>0<(n[760]|0)>>>0)Pe();else{n[c+20>>2]=r;n[r+24>>2]=c;E=h;s=d;break}else{E=h;s=d}}else{E=h;s=d}}else{E=e;s=i}}while(0);l=n[760]|0;if(w>>>0<l>>>0)Pe();r=e+(i+4)|0;t=n[r>>2]|0;if(!(t&2)){if((w|0)==(n[762]|0)){p=(n[759]|0)+s|0;n[759]=p;n[762]=E;n[E+4>>2]=p|1;if((E|0)!=(n[761]|0))return;n[761]=0;n[758]=0;return}if((w|0)==(n[761]|0)){p=(n[758]|0)+s|0;n[758]=p;n[761]=E;n[E+4>>2]=p|1;n[E+p>>2]=p;return}s=(t&-8)+s|0;o=t>>>3;do{if(t>>>0>=256){f=n[e+(i+24)>>2]|0;a=n[e+(i+12)>>2]|0;do{if((a|0)==(w|0)){t=e+(i+20)|0;r=n[t>>2]|0;if(!r){t=e+(i+16)|0;r=n[t>>2]|0;if(!r){k=0;break}}while(1){a=r+20|0;o=n[a>>2]|0;if(o){r=o;t=a;continue}a=r+16|0;o=n[a>>2]|0;if(!o)break;else{r=o;t=a}}if(t>>>0<l>>>0)Pe();else{n[t>>2]=0;k=r;break}}else{o=n[e+(i+8)>>2]|0;if(o>>>0<l>>>0)Pe();r=o+12|0;if((n[r>>2]|0)!=(w|0))Pe();t=a+8|0;if((n[t>>2]|0)==(w|0)){n[r>>2]=a;n[t>>2]=o;k=a;break}else Pe()}}while(0);if(f){r=n[e+(i+28)>>2]|0;t=3328+(r<<2)|0;if((w|0)==(n[t>>2]|0)){n[t>>2]=k;if(!k){n[757]=n[757]&~(1<<r);break}}else{if(f>>>0<(n[760]|0)>>>0)Pe();r=f+16|0;if((n[r>>2]|0)==(w|0))n[r>>2]=k;else n[f+20>>2]=k;if(!k)break}t=n[760]|0;if(k>>>0<t>>>0)Pe();n[k+24>>2]=f;r=n[e+(i+16)>>2]|0;do{if(r)if(r>>>0<t>>>0)Pe();else{n[k+16>>2]=r;n[r+24>>2]=k;break}}while(0);r=n[e+(i+20)>>2]|0;if(r)if(r>>>0<(n[760]|0)>>>0)Pe();else{n[k+20>>2]=r;n[r+24>>2]=k;break}}}else{a=n[e+(i+8)>>2]|0;t=n[e+(i+12)>>2]|0;r=3064+(o<<1<<2)|0;if((a|0)!=(r|0)){if(a>>>0<l>>>0)Pe();if((n[a+12>>2]|0)!=(w|0))Pe()}if((t|0)==(a|0)){n[756]=n[756]&~(1<<o);break}if((t|0)!=(r|0)){if(t>>>0<l>>>0)Pe();r=t+8|0;if((n[r>>2]|0)==(w|0))b=r;else Pe()}else b=t+8|0;n[a+12>>2]=t;n[b>>2]=a}}while(0);n[E+4>>2]=s|1;n[E+s>>2]=s;if((E|0)==(n[761]|0)){n[758]=s;return}}else{n[r>>2]=t&-2;n[E+4>>2]=s|1;n[E+s>>2]=s}r=s>>>3;if(s>>>0<256){t=r<<1;o=3064+(t<<2)|0;a=n[756]|0;r=1<<r;if(a&r){r=3064+(t+2<<2)|0;t=n[r>>2]|0;if(t>>>0<(n[760]|0)>>>0)Pe();else{m=r;p=t}}else{n[756]=a|r;m=3064+(t+2<<2)|0;p=o}n[m>>2]=E;n[p+12>>2]=E;n[E+8>>2]=p;n[E+12>>2]=o;return}r=s>>>8;if(r)if(s>>>0>16777215)o=31;else{m=(r+1048320|0)>>>16&8;p=r<<m;w=(p+520192|0)>>>16&4;p=p<<w;o=(p+245760|0)>>>16&2;o=14-(w|m|o)+(p<<o>>>15)|0;o=s>>>(o+7|0)&1|o<<1}else o=0;r=3328+(o<<2)|0;n[E+28>>2]=o;n[E+20>>2]=0;n[E+16>>2]=0;t=n[757]|0;a=1<<o;if(!(t&a)){n[757]=t|a;n[r>>2]=E;n[E+24>>2]=r;n[E+12>>2]=E;n[E+8>>2]=E;return}r=n[r>>2]|0;e:do{if((n[r+4>>2]&-8|0)!=(s|0)){o=s<<((o|0)==31?0:25-(o>>>1)|0);while(1){t=r+16+(o>>>31<<2)|0;a=n[t>>2]|0;if(!a)break;if((n[a+4>>2]&-8|0)==(s|0)){r=a;break e}else{o=o<<1;r=a}}if(t>>>0<(n[760]|0)>>>0)Pe();n[t>>2]=E;n[E+24>>2]=r;n[E+12>>2]=E;n[E+8>>2]=E;return}}while(0);t=r+8|0;a=n[t>>2]|0;p=n[760]|0;if(!(a>>>0>=p>>>0&r>>>0>=p>>>0))Pe();n[a+12>>2]=E;n[t>>2]=E;n[E+8>>2]=a;n[E+12>>2]=r;n[E+24>>2]=0;return}function Gn(e,i,r,a,s,f,d,h,b,k,w,m){e=e|0;i=i|0;r=r|0;a=a|0;s=s|0;f=f|0;d=d|0;h=h|0;b=b|0;k=k|0;w=+w;m=m|0;var p=0,E=0,v=0.0,_=0.0,g=0,S=0,y=0.0,M=0.0,R=0.0,T=0,A=0,C=0,x=0,F=0,P=0,O=0,D=0,N=0.0,H=0,I=0,L=0,j=0,V=0,U=0,B=0,W=0,z=0,Y=0,q=0.0,G=0.0,K=0.0,X=0.0,J=0,Z=0;Y=c;c=c+240|0;S=Y+224|0;g=Y+216|0;A=Y+208|0;T=Y+200|0;p=Y+136|0;j=Y+72|0;U=Y;B=Y+232|0;W=Y+228|0;u[p>>3]=100.0;u[p+8>>3]=100.0;u[p+16>>3]=110.0;u[p+24>>3]=100.0;u[p+32>>3]=110.0;u[p+40>>3]=110.0;u[p+48>>3]=100.0;u[p+56>>3]=110.0;u[j>>3]=+u[k>>3];u[j+8>>3]=+u[k+8>>3];u[j+16>>3]=+u[k+16>>3];u[j+24>>3]=+u[k+24>>3];u[j+32>>3]=+u[k+32>>3];u[j+40>>3]=+u[k+40>>3];u[j+48>>3]=+u[k+48>>3];u[j+56>>3]=+u[k+56>>3];Jn(p,j,U);R=+u[j>>3];G=+u[j+16>>3];y=R-G;N=+u[j+8>>3];q=+u[j+24>>3];v=N-q;p=~~(y*y+v*v);v=+u[j+32>>3];y=+u[j+48>>3];X=v-y;_=+u[j+40>>3];M=+u[j+56>>3];K=_-M;j=~~(X*X+K*K);v=G-v;_=q-_;E=~~(v*v+_*_);R=y-R;N=M-N;V=~~(R*R+N*N);p=~~(+(((j|0)>(p|0)?j:p)|0)*w*w);E=~~(+(((V|0)>(E|0)?V:E)|0)*w*w);if(!e){k=r;while(1)if((k|0)<(a|0)&(re(k,k)|0)<(p|0))k=k<<1;else break;p=r;while(1)if((p|0)<(a|0)&(re(p,p)|0)<(E|0))p=p<<1;else break}else{k=r;while(1)if((k|0)<(a|0)&(re(k<<2,k)|0)<(p|0))k=k<<1;else break;p=r;while(1)if((p|0)<(a|0)&(re(p<<2,p)|0)<(E|0))p=p<<1;else break}V=(k|0)>(a|0)?a:k;L=(p|0)>(a|0)?a:p;I=(V|0)/(r|0)|0;H=(L|0)/(r|0)|0;v=(1.0-w)*.5*10.0;N=w*10.0;j=re(r,r)|0;e:do{if(!i){D=j*3|0;k=Wn(D,4)|0;if(!k){io(3,5472,T);vi(1)}do{switch(h|0){case 0:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=((re(E,f)|0)+p|0)*3|0;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E+2)>>0]|0);p=k+(e+1<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E+1)>>0]|0);e=k+(e+2<<2)|0;n[e>>2]=(n[e>>2]|0)+(o[s+E>>0]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 1:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=((re(E,f)|0)+p|0)*3|0;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+E>>0]|0);p=k+(e+1<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E+1)>>0]|0);e=k+(e+2<<2)|0;n[e>>2]=(n[e>>2]|0)+(o[s+(E+2)>>0]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 2:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=(re(E,f)|0)+p<<2;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E|2)>>0]|0);p=k+(e+1<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E|1)>>0]|0);e=k+(e+2<<2)|0;n[e>>2]=(n[e>>2]|0)+(o[s+E>>0]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 3:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=(re(E,f)|0)+p<<2;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+E>>0]|0);p=k+(e+1<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E|1)>>0]|0);e=k+(e+2<<2)|0;n[e>>2]=(n[e>>2]|0)+(o[s+(E|2)>>0]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 4:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=(re(E,f)|0)+p<<2;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E|1)>>0]|0);p=k+(e+1<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E|2)>>0]|0);e=k+(e+2<<2)|0;n[e>>2]=(n[e>>2]|0)+(o[s+(E|3)>>0]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 5:case 12:case 13:case 14:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=o[s+((re(E,f)|0)+p)>>0]|0;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=(n[p>>2]|0)+E;p=k+(e+1<<2)|0;n[p>>2]=(n[p>>2]|0)+E;e=k+(e+2<<2)|0;n[e>>2]=(n[e>>2]|0)+E}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 6:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=(re(E,f)|0)+p<<2;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E|3)>>0]|0);p=k+(e+1<<2)|0;n[p>>2]=(n[p>>2]|0)+(o[s+(E|2)>>0]|0);e=k+(e+2<<2)|0;n[e>>2]=(n[e>>2]|0)+(o[s+(E|1)>>0]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 7:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){Z=re(E,f)|0;J=(p&65534)+Z<<1;G=+((o[s+J>>0]|0)+-128|0);X=+((o[s+(J+2)>>0]|0)+-128|0);K=+((o[s+(Z+p<<1|1)>>0]|0)+-16|0)*298.0820007324219;Z=~~(G*516.4110107421875+K)>>8;J=~~(K-G*100.29100036621094-X*208.1199951171875)>>8;E=~~(K+X*408.5830078125)>>8;Z=(Z|0)>0?Z:0;e=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;p=k+(e<<2)|0;n[p>>2]=((Z|0)<255?Z:255)+(n[p>>2]|0);J=(J|0)>0?J:0;p=k+(e+1<<2)|0;n[p>>2]=((J|0)<255?J:255)+(n[p>>2]|0);E=(E|0)>0?E:0;e=k+(e+2<<2)|0;n[e>>2]=((E|0)<255?E:255)+(n[e>>2]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 8:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){E=re(E,f)|0;J=(p&65534)+E<<1;G=+((o[s+(J|1)>>0]|0)+-128|0);X=+((o[s+(J+3)>>0]|0)+-128|0);K=+((o[s+(E+p<<1)>>0]|0)+-16|0)*298.0820007324219;p=~~(K+G*516.4110107421875)>>8;E=~~(K-G*100.29100036621094-X*208.1199951171875)>>8;J=~~(K+X*408.5830078125)>>8;p=(p|0)>0?p:0;Z=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;e=k+(Z<<2)|0;n[e>>2]=((p|0)<255?p:255)+(n[e>>2]|0);E=(E|0)>0?E:0;e=k+(Z+1<<2)|0;n[e>>2]=((E|0)<255?E:255)+(n[e>>2]|0);J=(J|0)>0?J:0;Z=k+(Z+2<<2)|0;n[Z>>2]=((J|0)<255?J:255)+(n[Z>>2]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 9:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<1;E=o[s+(J|1)>>0]|0;Z=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;e=k+(Z<<2)|0;n[e>>2]=(E<<3&248|4)+(n[e>>2]|0);J=o[s+J>>0]|0;e=k+(Z+1<<2)|0;n[e>>2]=(J<<5&224|E>>>3&28|2)+(n[e>>2]|0);Z=k+(Z+2<<2)|0;n[Z>>2]=(J&248|4)+(n[Z>>2]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 10:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<1;E=o[s+(J|1)>>0]|0;Z=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;e=k+(Z<<2)|0;n[e>>2]=(E<<2&248|4)+(n[e>>2]|0);J=o[s+J>>0]|0;e=k+(Z+1<<2)|0;n[e>>2]=(J<<5&224|E>>>3&24|4)+(n[e>>2]|0);Z=k+(Z+2<<2)|0;n[Z>>2]=(J&248|4)+(n[Z>>2]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}case 11:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<1;Z=((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)|0)*3|0;e=k+(Z<<2)|0;n[e>>2]=(n[e>>2]|0)+((o[s+(J|1)>>0]|0)&240|8);J=o[s+J>>0]|0;e=k+(Z+1<<2)|0;n[e>>2]=(J<<4&240|8)+(n[e>>2]|0);Z=k+(Z+2<<2)|0;n[Z>>2]=(J&240|8)+(n[Z>>2]|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}break}default:{io(3,4615,A);z=278;break e}}}while(0);E=re(H,I)|0;if(j){p=0;do{t[m+p>>0]=((n[k+(p<<2)>>2]|0)>>>0)/(E>>>0)|0;p=p+1|0}while((p|0)<(D|0))}Bn(k);k=0}else{k=Wn(j,4)|0;if(!k){io(3,5472,g);vi(1)}i:do{if(h>>>0<2){y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)>0){i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=((re(E,f)|0)+p|0)*3|0;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+((((o[s+(J+1)>>0]|0)+(o[s+J>>0]|0)+(o[s+(J+2)>>0]|0)|0)>>>0)/3|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0))}}else{if((h&-2|0)==2){y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break;i=(V|0)>0;S=0;while(1){_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<2;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+((((o[s+(J|1)>>0]|0)+(o[s+J>>0]|0)+(o[s+(J|2)>>0]|0)|0)>>>0)/3|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0;if((S|0)>=(L|0))break i}}if((h&-3|0)==4){y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break;i=(V|0)>0;S=0;while(1){_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<2;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+((((o[s+(J|2)>>0]|0)+(o[s+(J|1)>>0]|0)+(o[s+(J|3)>>0]|0)|0)>>>0)/3|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0;if((S|0)>=(L|0))break i}}switch(h|0){case 5:case 12:case 13:case 14:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break i;i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=o[s+((re(E,f)|0)+p)>>0]|0;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+J}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0));break}case 7:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break i;i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=o[s+((re(E,f)|0)+p<<1|1)>>0]|0;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+J}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0));break}case 8:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break i;i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=o[s+((re(E,f)|0)+p<<1)>>0]|0;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+J}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0));break}case 9:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break i;i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<1;D=o[s+J>>0]|0;J=o[s+(J|1)>>0]|0;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+((((J<<3&248|4)+(D&248|4)+(D<<5&224|J>>>3&28|2)|0)>>>0)/3|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0));break}case 10:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break i;i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<1;D=o[s+J>>0]|0;J=o[s+(J|1)>>0]|0;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+((((J<<2&248|4)+(D&248|4)+(D<<5&224|J>>>3&24|4)|0)>>>0)/3|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0));break}case 11:{y=v+100.0;M=+(L|0);R=+(V|0);T=U+48|0;A=U+56|0;h=U+64|0;C=U+8|0;x=U+16|0;F=U+24|0;P=U+32|0;O=U+40|0;a=(e|0)==1;if((L|0)<=0)break i;i=(V|0)>0;S=0;do{_=y+N*(+(S|0)+.5)/M;if(i){g=0;do{v=y+N*(+(g|0)+.5)/R;w=+u[h>>3]+(+u[T>>3]*v+_*+u[A>>3]);if(w==0.0){z=278;break e}X=(+u[x>>3]+(v*+u[U>>3]+_*+u[C>>3]))/w;l[B>>2]=X;v=(+u[O>>3]+(v*+u[F>>3]+_*+u[P>>3]))/w;l[W>>2]=v;Ao(b,X,v,B,W)|0;v=+l[B>>2];if(a){p=((~~(v+1.0)|0)/2|0)<<1;E=((~~(+l[W>>2]+1.0)|0)/2|0)<<1}else{p=~~(v+.5);E=~~(+l[W>>2]+.5)}if((p|0)>-1?(E|0)<(d|0)&((E|0)>-1&(p|0)<(f|0)):0){J=(re(E,f)|0)+p<<1;D=o[s+J>>0]|0;Z=k+((re((S|0)/(H|0)|0,r)|0)+((g|0)/(I|0)|0)<<2)|0;n[Z>>2]=(n[Z>>2]|0)+((((D<<4&240|8)+(D&240|8)+((o[s+(J|1)>>0]|0)&240|8)|0)>>>0)/3|0)}g=g+1|0}while((g|0)<(V|0))}S=S+1|0}while((S|0)<(L|0));break}default:{io(3,4615,S);z=278;break e}}}}while(0);p=re(H,I)|0;if(j){E=0;do{t[m+E>>0]=((n[k+(E<<2)>>2]|0)>>>0)/(p>>>0)|0;E=E+1|0}while((E|0)<(j|0))}Bn(k);k=0}}while(0);if((z|0)==278){Bn(k);k=-1}c=Y;return k|0}function Kn(e,i,r,a,s,f,l){e=e|0;i=i|0;r=r|0;a=a|0;s=s|0;f=f|0;l=l|0;var d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0;_=c;c=c+32|0;k=_+24|0;b=_+8|0;v=_;e:do{if((i+-3|0)>>>0>5){n[r>>2]=-1;n[a>>2]=0;u[s>>3]=-1.0;d=-1}else{n[b>>2]=0;E=i+-1|0;n[b+4>>2]=re(E,i)|0;m=re(i,i)|0;n[b+8>>2]=m+-1;n[b+12>>2]=E;h=t[e+(n[b>>2]|0)>>0]|0;d=(h&255)>0?h:0;h=(h&255)<255?h:-1;p=t[e+(n[b+4>>2]|0)>>0]|0;d=(p&255)>(d&255)?p:d;h=(p&255)<(h&255)?p:h;p=t[e+(n[b+8>>2]|0)>>0]|0;d=(p&255)>(d&255)?p:d;h=(p&255)<(h&255)?p:h;p=t[e+(n[b+12>>2]|0)>>0]|0;d=((p&255)>(d&255)?p:d)&255;h=((p&255)<(h&255)?p:h)&255;if((d-h|0)<30){n[r>>2]=-1;n[a>>2]=0;u[s>>3]=-1.0;d=-2;break}w=(d+h|0)>>>1;t[k>>0]=(o[e+(n[b>>2]|0)>>0]|0)>>>0<w>>>0&1;t[k+1>>0]=(o[e+(n[b+4>>2]|0)>>0]|0)>>>0<w>>>0&1;t[k+2>>0]=(o[e+(n[b+8>>2]|0)>>0]|0)>>>0<w>>>0&1;t[k+3>>0]=(o[e+(n[b+12>>2]|0)>>0]|0)>>>0<w>>>0&1;h=0;while(1){d=h+1|0;if(((t[k+h>>0]|0)==1?(t[k+((d|0)%4|0)>>0]|0)==1:0)?(t[k+((h+2|0)%4|0)>>0]|0)==0:0){d=h;h=10;break}if((d|0)<4)h=d;else{h=12;break}}if((h|0)==10)n[a>>2]=d;else if((h|0)==12?(d|0)==4:0){n[r>>2]=-1;n[a>>2]=0;u[s>>3]=-1.0;d=-3;break}if(!m)p=255;else{d=255;h=0;do{p=e+h|0;k=o[p>>0]|0;b=k-w|0;b=(b|0)<0?0-b|0:b;d=(b|0)<(d|0)?b:d;t[p>>0]=k>>>0<w>>>0&1;h=h+1|0}while((h|0)<(m|0));p=d}switch(n[a>>2]|0){case 0:{if((i|0)>0){m=(i|0)==0;h=0;d=0;a=0;do{k=(a|0)==(E|0);w=re(a,i)|0;if(!m){b=0;do{if((b|a|0)!=0?!(k&((b|0)==0|(b|0)==(E|0))):0){h=Kl(h|0,d|0,1)|0;h=(t[e+(b+w)>>0]|0)!=0|h;d=P}b=b+1|0}while((b|0)!=(i|0))}a=a+1|0}while((a|0)<(i|0))}else{h=0;d=0}break}case 1:{if((i|0)>0){m=(i|0)>0;h=0;d=0;a=0;do{k=(a|0)==0;w=(a|0)==(E|0);if(m){b=E;while(1){g=(b|0)==(E|0);if(!(k&g)?!(w&(g|(b|0)==0)):0){h=Kl(h|0,d|0,1)|0;h=(t[e+((re(b,i)|0)+a)>>0]|0)!=0|h;d=P}if((b|0)>0)b=b+-1|0;else break}}a=a+1|0}while((a|0)<(i|0))}else{h=0;d=0}break}case 2:{if((i|0)>0){m=(i|0)>0;h=0;d=0;a=E;while(1){w=(a|0)==(E|0)|(a|0)==0;k=re(a,i)|0;if(m){b=E;while(1){if(!(w&(b|0)==(E|0)|(b|a|0)==0)){h=Kl(h|0,d|0,1)|0;h=(t[e+(b+k)>>0]|0)!=0|h;d=P}if((b|0)>0)b=b+-1|0;else break}}if((a|0)>0)a=a+-1|0;else break}}else{h=0;d=0}break}case 3:{if((i|0)>0){m=(i|0)>0;h=0;d=0;a=E;while(1){k=(a|0)==(E|0);w=(a|0)==0;if(m){b=0;do{if(!(k&(b|0)==0|(b|a|0)==0|w&(b|0)==(E|0))){h=Kl(h|0,d|0,1)|0;h=(t[e+((re(b,i)|0)+a)>>0]|0)!=0|h;d=P}b=b+1|0}while((b|0)<(i|0))}if((a|0)>0)a=a+-1|0;else break}}else{h=0;d=0}break}default:{h=0;d=0}}u[s>>3]=(p|0)>30?1.0:+(p|0)/30.0;switch(f|0){case 259:{g=t[4551+h>>0]|0;f=g<<24>>24;l=v;n[l>>2]=f;n[l+4>>2]=((f|0)<0)<<31>>31;if(g<<24>>24<0){n[r>>2]=-1;u[s>>3]=-1.0;d=-4;break e}break}case 515:{d=t[4423+h>>0]|0;f=d<<24>>24;g=v;n[g>>2]=f;n[g+4>>2]=((f|0)<0)<<31>>31;if(l)n[l>>2]=o[4487+h>>0];if(d<<24>>24<0){n[r>>2]=-1;u[s>>3]=-1.0;d=-4;break e}break}case 772:case 1028:{d=Zn(f,h,d,0,v)|0;if((d|0)<0){n[r>>2]=-1;u[s>>3]=-1.0;d=-4;break e}if((l|0)!=0&(d|0)>0)n[l>>2]=d;break}default:{g=v;n[g>>2]=h;n[g+4>>2]=d}}n[r>>2]=n[v>>2];d=0}}while(0);c=_;return d|0}function Xn(e,i,r,t,a,s,f){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;s=s|0;f=f|0;var l=0,d=0.0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0.0,M=0,R=0,T=0,A=0,C=0.0;A=c;c=c+16|0;l=A+8|0;h=A;e:do{if(!e){n[a>>2]=0;n[s>>2]=0;u[f>>3]=-1.0;i=-1}else switch(i|0){case 0:{b=re(t,t)|0;M=b*3|0;R=Un(b*12|0)|0;if(!R){io(3,5472,h);vi(1)}if(!b)i=0;else{i=0;l=0;do{i=((o[r+l>>0]|0)^255)+i|0;l=l+1|0}while((l|0)<(M|0))}l=(i|0)/(M|0)|0;if(!b)d=0.0;else{h=0;i=0;do{S=((o[r+h>>0]|0)^255)-l|0;n[R+(h<<2)>>2]=S;i=(re(S,S)|0)+i|0;h=h+1|0}while((h|0)<(M|0));d=+(i|0)}y=+z(+d);if(y/(+(t|0)*1.7320508)<15.0){n[a>>2]=0;n[s>>2]=0;u[f>>3]=-1.0;Bn(R);i=-2;break e}_=n[e>>2]|0;g=e+12|0;S=e+16|0;if((_|0)>0){v=n[e+8>>2]|0;p=(b|0)==0;h=-1;E=0;d=0.0;l=-1;i=-1;do{i:while(1){h=h+1|0;switch(n[v+(h<<2)>>2]|0){case 0:break;case 2:break i;default:{T=17;break i}}}if((T|0)==17){T=0;k=h<<2;w=n[S>>2]|0;m=0;do{e=m+k|0;if(p)b=0;else{r=n[(n[g>>2]|0)+(e<<2)>>2]|0;t=0;b=0;do{b=(re(n[r+(t<<2)>>2]|0,n[R+(t<<2)>>2]|0)|0)+b|0;t=t+1|0}while((t|0)<(M|0))}C=+(b|0)/+u[w+(e<<3)>>3]/y;e=C>d;l=e?m:l;i=e?h:i;d=e?C:d;m=m+1|0}while((m|0)!=4)}E=E+1|0}while((E|0)<(_|0))}else{d=0.0;l=-1;i=-1}n[s>>2]=l;n[a>>2]=i;u[f>>3]=d;Bn(R);i=0;break e}case 1:{M=re(t,t)|0;R=Un(M<<2)|0;if(!R){io(3,5472,l);vi(1)}if(!M)i=0;else{i=0;l=0;do{i=((o[r+l>>0]|0)^255)+i|0;l=l+1|0}while((l|0)<(M|0))}l=(i|0)/(M|0)|0;if(!M)d=0.0;else{h=0;i=0;do{S=((o[r+h>>0]|0)^255)-l|0;n[R+(h<<2)>>2]=S;i=(re(S,S)|0)+i|0;h=h+1|0}while((h|0)<(M|0));d=+(i|0)}y=+z(+d);if(y/+(t|0)<15.0){n[a>>2]=0;n[s>>2]=0;u[f>>3]=-1.0;Bn(R);i=-2;break e}_=n[e>>2]|0;g=e+20|0;S=e+24|0;if((_|0)>0){p=n[e+8>>2]|0;E=(M|0)==0;h=-1;v=0;d=0.0;l=-1;i=-1;do{i:while(1){h=h+1|0;switch(n[p+(h<<2)>>2]|0){case 0:break;case 2:break i;default:{T=37;break i}}}if((T|0)==37){T=0;k=h<<2;w=n[S>>2]|0;m=0;do{e=m+k|0;if(E)b=0;else{r=n[(n[g>>2]|0)+(e<<2)>>2]|0;t=0;b=0;do{b=(re(n[r+(t<<2)>>2]|0,n[R+(t<<2)>>2]|0)|0)+b|0;t=t+1|0}while((t|0)<(M|0))}C=+(b|0)/+u[w+(e<<3)>>3]/y;e=C>d;l=e?m:l;i=e?h:i;d=e?C:d;m=m+1|0}while((m|0)!=4)}v=v+1|0}while((v|0)<(_|0))}else{d=0.0;l=-1;i=-1}n[s>>2]=l;n[a>>2]=i;u[f>>3]=d;Bn(R);i=0;break e}default:{i=-1;break e}}}while(0);c=A;return i|0}function Jn(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0,f=0,l=0,c=0,d=0,h=0,b=0,k=0;t=oo(8,8)|0;a=oo(8,1)|0;o=oo(8,1)|0;s=n[t>>2]|0;f=n[a>>2]|0;l=0;do{k=e+(l<<4)|0;c=l<<4;u[s+(c<<3)>>3]=+u[k>>3];b=e+(l<<4)+8|0;u[s+((c|1)<<3)>>3]=+u[b>>3];u[s+((c|2)<<3)>>3]=1.0;u[s+((c|3)<<3)>>3]=0.0;u[s+((c|4)<<3)>>3]=0.0;u[s+((c|5)<<3)>>3]=0.0;h=i+(l<<4)|0;u[s+((c|6)<<3)>>3]=-(+u[k>>3]*+u[h>>3]);u[s+((c|7)<<3)>>3]=-(+u[b>>3]*+u[h>>3]);u[s+((c|8)<<3)>>3]=0.0;u[s+((c|9)<<3)>>3]=0.0;u[s+((c|10)<<3)>>3]=0.0;u[s+((c|11)<<3)>>3]=+u[k>>3];u[s+((c|12)<<3)>>3]=+u[b>>3];u[s+((c|13)<<3)>>3]=1.0;d=i+(l<<4)+8|0;u[s+((c|14)<<3)>>3]=-(+u[k>>3]*+u[d>>3]);u[s+((c|15)<<3)>>3]=-(+u[b>>3]*+u[d>>3]);c=l<<1;u[f+(c<<3)>>3]=+u[h>>3];u[f+((c|1)<<3)>>3]=+u[d>>3];l=l+1|0}while((l|0)!=4);wo(t)|0;ho(o,t,a)|0;k=n[o>>2]|0;u[r>>3]=+u[k>>3];u[r+8>>3]=+u[k+8>>3];u[r+16>>3]=+u[k+16>>3];k=n[o>>2]|0;u[r+24>>3]=+u[k+24>>3];u[r+32>>3]=+u[k+32>>3];u[r+40>>3]=+u[k+40>>3];k=n[o>>2]|0;u[r+48>>3]=+u[k+48>>3];u[r+56>>3]=+u[k+56>>3];u[r+64>>3]=1.0;co(t)|0;co(a)|0;co(o)|0;return}function Zn(e,i,r,a,s){e=e|0;i=i|0;r=r|0;a=a|0;s=s|0;var f=0,l=0,u=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,O=0,D=0;D=c;c=c+2320|0;l=D+2304|0;y=D+864|0;v=D+784|0;O=D+704|0;g=D+624|0;_=D+548|0;F=D+40|0;C=D;switch(e|0){case 772:{a=9;f=1;u=3;break}case 1028:{a=5;f=2;u=3;break}case 2830:{R=900;p=1472;A=64;x=120;M=127;T=a;f=9;u=6;break}default:r=-1}if((u|0)==3){e=0;while(1){t[l+e>>0]=i&1;i=Jl(i|0,r|0,1)|0;e=e+1|0;if((e|0)==13)break;else r=P}R=840;p=1408;A=a;x=13;M=15;T=l;u=6}do{if((u|0)==6){m=f<<1;l=1;r=0;while(1){a=_+(l<<2)|0;n[a>>2]=0;e=0;i=0;do{if(t[T+i>>0]|0){e=e^n[R+(((re(i,l)|0)%(M|0)|0)<<2)>>2];n[a>>2]=e}i=i+1|0}while((i|0)<(x|0));r=(e|0)==0?r:1;n[a>>2]=n[p+(e<<2)>>2];if((l|0)<(m|0))l=l+1|0;else break}S=(r|0)!=0;if(S){n[v>>2]=0;r=n[_+4>>2]|0;n[v+4>>2]=r;n[y>>2]=0;n[y+72>>2]=1;if((m|0)>1){e=1;do{n[y+(e<<2)>>2]=-1;n[y+72+(e<<2)>>2]=0;e=e+1|0}while((e|0)<(m|0))}n[O>>2]=0;n[O+4>>2]=0;n[g>>2]=-1;n[g+4>>2]=0;k=0;w=0;while(1){a=w;w=w+1|0;b=v+(w<<2)|0;if((r|0)==-1){l=a+2|0;n[O+(l<<2)>>2]=k;if((k|0)<0)h=k;else{r=0;while(1){b=y+(w*72|0)+(r<<2)|0;h=n[b>>2]|0;n[y+(l*72|0)+(r<<2)>>2]=h;n[b>>2]=n[p+(h<<2)>>2];if((r|0)<(k|0))r=r+1|0;else{h=k;break}}}}else{e=a;while(1){r=(e|0)>0;if(r&(n[v+(e<<2)>>2]|0)==-1)e=e+-1|0;else break}if(r){i=e;do{r=i;i=i+-1|0;if((n[v+(i<<2)>>2]|0)!=-1)e=(n[g+(e<<2)>>2]|0)<(n[g+(i<<2)>>2]|0)?i:e}while((r|0)>1)}i=O+(e<<2)|0;d=w-e|0;h=d+(n[i>>2]|0)|0;l=a+2|0;h=(k|0)>(h|0)?k:h;n[O+(l<<2)>>2]=h;r=0;do{n[y+(l*72|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)<(m|0));r=n[i>>2]|0;i=v+(e<<2)|0;if((r|0)>=0){u=0;while(1){a=n[y+(e*72|0)+(u<<2)>>2]|0;if((a|0)!=-1)n[y+(l*72|0)+(d+u<<2)>>2]=n[R+(((a+M+(n[b>>2]|0)-(n[i>>2]|0)|0)%(M|0)|0)<<2)>>2];if((u|0)<(r|0))u=u+1|0;else break}}if((k|0)>=0){r=0;while(1){b=y+(w*72|0)+(r<<2)|0;d=n[b>>2]|0;u=y+(l*72|0)+(r<<2)|0;n[u>>2]=n[u>>2]^d;n[b>>2]=n[p+(d<<2)>>2];if((r|0)<(k|0))r=r+1|0;else break}}}n[g+(l<<2)>>2]=w-h;if((w|0)>=(m|0))break;r=n[_+(l<<2)>>2]|0;if((r|0)==-1)r=0;else r=n[R+(r<<2)>>2]|0;a=v+(l<<2)|0;n[a>>2]=r;if((h|0)>=1){i=1;while(1){e=n[_+(l-i<<2)>>2]|0;if((e|0)!=-1?(E=n[y+(l*72|0)+(i<<2)>>2]|0,(E|0)!=0):0){r=r^n[R+((((n[p+(E<<2)>>2]|0)+e|0)%(M|0)|0)<<2)>>2];n[a>>2]=r}if((i|0)<(h|0))i=i+1|0;else break}}r=n[p+(r<<2)>>2]|0;n[a>>2]=r;if((h|0)>(f|0))break;else k=h}if((h|0)>(f|0)){r=-1;break}if((h|0)>=0){r=0;while(1){g=y+(l*72|0)+(r<<2)|0;n[g>>2]=n[p+(n[g>>2]<<2)>>2];if((r|0)<(h|0))r=r+1|0;else break}}if((h|0)>=1){r=1;while(1){n[C+(r<<2)>>2]=n[y+(l*72|0)+(r<<2)>>2];if((r|0)<(h|0))r=r+1|0;else break}}u=(h|0)<1;r=0;d=1;do{if(u)e=1;else{f=1;e=1;while(1){i=C+(f<<2)|0;a=n[i>>2]|0;if((a|0)!=-1){y=(a+f|0)%(M|0)|0;n[i>>2]=y;e=n[R+(y<<2)>>2]^e}if((f|0)<(h|0))f=f+1|0;else break}}if(!e){n[F+(r<<2)>>2]=M-d;r=r+1|0}d=d+1|0}while((M|0)>=(d|0));if((r|0)!=(h|0)){r=-1;break}if((h|0)>0){r=0;do{C=T+(n[F+(r<<2)>>2]|0)|0;t[C>>0]=o[C>>0]^1;r=r+1|0}while((r|0)<(h|0))}}else l=0;e=s;n[e>>2]=0;n[e+4>>2]=0;e=1;i=0;a=0;f=0;r=x-A|0;while(1){F=tu(o[T+r>>0]|0,0,e|0,i|0)|0;a=Xl(F|0,P|0,a|0,f|0)|0;f=P;F=s;n[F>>2]=a;n[F+4>>2]=f;e=Kl(e|0,i|0,1)|0;r=r+1|0;if((r|0)>=(x|0))break;else i=P}if(S)r=n[O+(l<<2)>>2]|0;else r=0}}while(0);c=D;return r|0}function Qn(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0.0;R=c;c=c+32|0;M=R+24|0;o=R+16|0;r=R+8|0;do{if(e){if(!i){io(3,4674,r);r=-1;break}y=e+8|0;a=n[e+4>>2]|0;e:do{if((a|0)>0){t=n[y>>2]|0;r=0;do{if(!(n[t+(r<<2)>>2]|0))break e;r=r+1|0}while((r|0)<(a|0))}else r=0}while(0);if((r|0)!=(a|0)){S=_n(i)|0;if(!S){io(3,4719,o);r=-1;break}m=e+28|0;p=r<<2;E=e+12|0;v=e+20|0;_=e+16|0;g=e+24|0;a=Tn(S,4742)|0;t=0;e:while(1){w=t+p|0;k=0;i=0;do{h=(k|0)==0;b=(k|0)==2;o=n[m>>2]|0;if((o|0)>0){d=0;do{if((o|0)>0){l=0;do{if(!a){t=17;break e}o=cn(a)|0;a=Tn(0,4742)|0;o=255-o|0;f=(((re(n[m>>2]|0,d)|0)+l|0)*3|0)+k|0;n[(n[(n[E>>2]|0)+(w<<2)>>2]|0)+(f<<2)>>2]=o;f=(re(n[m>>2]|0,d)|0)+l|0;s=n[(n[v>>2]|0)+(w<<2)>>2]|0;f=s+(f<<2)|0;if(!h){n[f>>2]=(n[f>>2]|0)+o;if(b){f=s+((re(n[m>>2]|0,d)|0)+l<<2)|0;n[f>>2]=(n[f>>2]|0)/3|0}}else n[f>>2]=o;i=o+i|0;l=l+1|0;o=n[m>>2]|0}while((l|0)<(o|0))}d=d+1|0}while((d|0)<(o|0))}k=k+1|0}while((k|0)<3);o=n[m>>2]|0;l=(i|0)/(re(o*3|0,o)|0)|0;if((re(o*3|0,o)|0)>0){s=n[(n[E>>2]|0)+(w<<2)>>2]|0;f=0;i=0;do{k=s+(f<<2)|0;o=(n[k>>2]|0)-l|0;n[k>>2]=o;i=(re(o,o)|0)+i|0;f=f+1|0;o=n[m>>2]|0}while((f|0)<(re(o*3|0,o)|0))}else i=0;T=+z(+ +(i|0));u[(n[_>>2]|0)+(w<<3)>>3]=T==0.0?1.0e-07:T;if(!(re(o,o)|0))i=0;else{o=n[(n[v>>2]|0)+(w<<2)>>2]|0;s=0;i=0;do{b=o+(s<<2)|0;k=(n[b>>2]|0)-l|0;n[b>>2]=k;i=(re(k,k)|0)+i|0;s=s+1|0;k=n[m>>2]|0}while((s|0)<(re(k,k)|0))}T=+z(+ +(i|0));u[(n[g>>2]|0)+(w<<3)>>3]=T==0.0?1.0e-07:T;t=t+1|0;if((t|0)>=4){t=32;break}}if((t|0)==17){io(3,4747,M);Bn(S);r=-1;break}else if((t|0)==32){Bn(S);n[(n[y>>2]|0)+(r<<2)>>2]=1;n[e>>2]=(n[e>>2]|0)+1;break}}else r=-1}else{io(3,4649,R);r=-1}}while(0);c=R;return r|0}function $n(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0,f=0,l=0;l=c;c=c+32|0;f=l+16|0;s=l+8|0;r=l;o=qa(i,4854)|0;do{if(o){Za(o,0,2)|0;r=en(o)|0;Za(o,0,0)|0;a=Un(r+1|0)|0;if(!a){io(3,5472,s);Ba(o)|0;r=-1;break}s=Ka(a,r,1,o)|0;Ba(o)|0;if(!s){n[f>>2]=i;io(3,4820,f);Bn(a);r=-1;break}else{t[a+r>>0]=0;r=Qn(e,a)|0;Bn(a);break}}else{n[r>>2]=i;io(3,4774,r);r=-1}}while(0);c=l;return r|0}function eo(e,i){e=e|0;i=i|0;i=(n[e+8>>2]|0)+(i<<2)|0;if(!(n[i>>2]|0))i=-1;else{n[i>>2]=0;n[e>>2]=(n[e>>2]|0)+-1;i=1}return i|0}function io(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0;f=c;c=c+32|0;s=f+16|0;a=f;n[s>>2]=0;if(((i|0)!=0&(n[496]|0)<=(e|0)?(t[i>>0]|0)!=0:0)?(n[a>>2]=r,o=on(s,i,a)|0,(o|0)>-1):0){a=n[497]|0;do{if(a){if(!(n[498]|0)){Yu[a&15](n[s>>2]|0);break}r=li()|0;e=n[500]|0;if((r|0)==(n[499]|0)){if((e|0)>0){Yu[a&15](n[502]|0);n[500]=0;a=n[497]|0}Yu[a&15](n[s>>2]|0);break}a=n[501]|0;if((e|0)<(a|0)){i=(n[502]|0)+e|0;if((o|0)<(-3-e+a|0)){En(i,n[s>>2]|0)|0;n[500]=(n[500]|0)+o;break}else{t[i>>0]=46;t[i+1>>0]=46;t[i+2>>0]=46;t[i+3>>0]=0;n[500]=n[501];break}}}else Ga(n[s>>2]|0,n[659]|0)|0}while(0);Bn(n[s>>2]|0)}c=f;return}function ro(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,n=0,o=0,s=0;s=0;do{t=e+(s<<5)|0;a=e+(s<<5)+8|0;n=e+(s<<5)+16|0;o=0;do{u[r+(s<<5)+(o<<3)>>3]=+u[t>>3]*+u[i+(o<<3)>>3]+ +u[a>>3]*+u[i+32+(o<<3)>>3]+ +u[n>>3]*+u[i+64+(o<<3)>>3];o=o+1|0}while((o|0)!=4);o=r+(s<<5)+24|0;u[o>>3]=+u[e+(s<<5)+24>>3]+ +u[o>>3];s=s+1|0}while((s|0)!=3);return 0}function to(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0;f=oo(4,4)|0;r=n[f>>2]|0;t=n[f>>2]|0;a=n[f>>2]|0;o=n[f>>2]|0;s=0;do{l=s<<2;u[r+(l<<3)>>3]=+u[e+(s<<5)>>3];u[t+(1+l<<3)>>3]=+u[e+(s<<5)+8>>3];u[a+(2+l<<3)>>3]=+u[e+(s<<5)+16>>3];u[o+(3+l<<3)>>3]=+u[e+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3);r=n[f>>2]|0;t=r+96|0;n[t>>2]=0;n[t+4>>2]=0;n[t+8>>2]=0;n[t+12>>2]=0;n[t+16>>2]=0;n[t+20>>2]=0;u[r+120>>3]=1.0;wo(f)|0;r=n[f>>2]|0;t=n[f>>2]|0;a=n[f>>2]|0;o=n[f>>2]|0;s=0;do{l=s<<2;u[i+(s<<5)>>3]=+u[r+(l<<3)>>3];u[i+(s<<5)+8>>3]=+u[t+(1+l<<3)>>3];u[i+(s<<5)+16>>3]=+u[a+(2+l<<3)>>3];u[i+(s<<5)+24>>3]=+u[o+(3+l<<3)>>3];s=s+1|0}while((s|0)!=3);co(f)|0;return 0}function ao(e){e=e|0;switch(e|0){case 1:case 0:{e=3;break}case 6:case 4:case 3:case 2:{e=4;break}case 14:case 13:case 12:case 5:{e=1;break}case 11:case 10:case 9:case 8:case 7:{e=2;break}default:e=0}return e|0}function no(e,i,r,a){e=e|0;i=i|0;r=r|0;a=a|0;var n=0;do{if((e|0)!=0&(i|0)!=0&(r|0)!=0){n=Mn(i,47)|0;if(!n){t[e>>0]=0;break}n=n+((a|0)!=0&1)-i|0;if((n+1|0)>>>0<=r>>>0){yn(e,i,n)|0;t[e+n>>0]=0}else e=0}else e=0}while(0);return e|0}function oo(e,i){e=e|0;i=i|0;var r=0,t=0;r=Un(12)|0;do{if(r){t=Un(re(e<<3,i)|0)|0;n[r>>2]=t;if(!t){Bn(r);r=0;break}else{n[r+4>>2]=e;n[r+8>>2]=i;break}}else r=0}while(0);return r|0}function so(e){e=e|0;var i=0;i=oo(n[e+4>>2]|0,n[e+8>>2]|0)|0;if(i){if((uo(i,e)|0)<0){co(i)|0;i=0}}else i=0;return i|0}function fo(e,i){e=e|0;i=i|0;var r=0;r=oo(n[e+4>>2]|0,n[i+8>>2]|0)|0;if(r){if((ho(r,e,i)|0)<0){co(r)|0;r=0}}else r=0;return r|0}function lo(e){e=e|0;var i=0;i=oo(n[e+8>>2]|0,n[e+4>>2]|0)|0;if(i){if((mo(i,e)|0)<0){co(i)|0;i=0}}else i=0;return i|0}function uo(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,c=0,d=0;r=n[e+4>>2]|0;if((r|0)==(n[i+4>>2]|0)?(f=n[e+8>>2]|0,(f|0)==(n[i+8>>2]|0)):0)if((r|0)>0){t=(f|0)>0;c=0;do{a=re(f,c)|0;if(t){o=n[i>>2]|0;s=n[e>>2]|0;l=0;do{d=a+l|0;u[s+(d<<3)>>3]=+u[o+(d<<3)>>3];l=l+1|0}while((l|0)<(f|0))}c=c+1|0}while((c|0)<(r|0));r=0}else r=0;else r=-1;return r|0}function co(e){e=e|0;if(e){Bn(n[e>>2]|0);Bn(e)}return 0}function ho(e,i,r){e=e|0;i=i|0;r=r|0;var t=0.0,a=0,o=0,s=0,f=0,l=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0;h=n[i+8>>2]|0;if(((h|0)==(n[r+4>>2]|0)?(m=n[e+4>>2]|0,(m|0)==(n[i+4>>2]|0)):0)?(b=n[e+8>>2]|0,(b|0)==(n[r+8>>2]|0)):0){p=(b|0)>0?b:0;if((m|0)>0){k=(b|0)>0;w=(h|0)>0;l=n[e>>2]|0;d=0;while(1){e=re(h,d)|0;if(k){a=0;c=l;while(1){u[c>>3]=0.0;if(w){t=0.0;o=0;s=(n[i>>2]|0)+(e<<3)|0;f=(n[r>>2]|0)+(a<<3)|0;while(1){t=t+ +u[s>>3]*+u[f>>3];u[c>>3]=t;o=o+1|0;if((o|0)>=(h|0))break;else{s=s+8|0;f=f+(b<<3)|0}}}a=a+1|0;if((a|0)>=(b|0))break;else c=c+8|0}}d=d+1|0;if((d|0)>=(m|0)){e=0;break}else l=l+(p<<3)|0}}else e=0}else e=-1;return e|0}function bo(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0,s=0.0,f=0,l=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0.0,p=0,E=0,v=0;w=n[e+4>>2]|0;p=n[e+8>>2]|0;a=(w|0)<(p|0)?w:p;e:do{if(((((!((w|0)<2|(p|0)<2)?(n[i+8>>2]|0)==(p|0):0)?(n[i+4>>2]|0)==(a|0):0)?(E=r+4|0,(n[E>>2]|0)==(a|0)):0)?(o=t+4|0,(n[o>>2]|0)==(p|0)):0)?(v=so(e)|0,(v|0)!=0):0){m=+z(+ +(w|0));b=n[v+4>>2]|0;k=n[v+8>>2]|0;if(!((b|0)<1|(k|0)<1)?(n[o>>2]|0)==(k|0):0){if(k){a=n[t>>2]|0;e=0;do{u[a+(e<<3)>>3]=0.0;e=e+1|0}while((e|0)!=(k|0))}h=n[v>>2]|0;if(b){a=(k|0)==0;e=0;f=h;while(1){if(!a){o=0;l=f;c=n[t>>2]|0;while(1){u[c>>3]=+u[l>>3]+ +u[c>>3];o=o+1|0;if((o|0)==(k|0))break;else{l=l+8|0;c=c+8|0}}}e=e+1|0;if((e|0)==(b|0))break;else f=f+(k<<3)|0}}s=+(b|0);if(k){a=n[t>>2]|0;e=0;do{d=a+(e<<3)|0;u[d>>3]=+u[d>>3]/s;e=e+1|0}while((e|0)!=(k|0))}c=(k|0)>0?k:0;if((b|0)>0){a=(k|0)>0;e=0;f=h;while(1){if(a){o=0;l=f;d=n[t>>2]|0;while(1){u[l>>3]=+u[l>>3]-+u[d>>3];o=o+1|0;if((o|0)>=(k|0))break;else{l=l+8|0;d=d+8|0}}}e=e+1|0;if((e|0)>=(b|0))break;else f=f+(c<<3)|0}}a=re(p,w)|0;if((a|0)>0){e=0;do{t=h+(e<<3)|0;u[t>>3]=+u[t>>3]/m;e=e+1|0}while((e|0)<(a|0))}a=ko(v,i,r)|0;co(v)|0;f=n[E>>2]|0;if((f|0)>0){e=n[r>>2]|0;o=0;s=0.0;do{s=s+ +u[e+(o<<3)>>3];o=o+1|0}while((o|0)<(f|0))}else s=0.0;if((f|0)<=0)break;e=n[r>>2]|0;o=0;while(1){r=e+(o<<3)|0;u[r>>3]=+u[r>>3]/s;o=o+1|0;if((o|0)>=(f|0))break e}}co(v)|0;a=-1}else a=-1}while(0);return a|0}function ko(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0,f=0.0,l=0,d=0,h=0,b=0,k=0,w=0.0,m=0,p=0,E=0,v=0.0,_=0.0,g=0,S=0.0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,P=0,O=0,D=0,N=0,H=0,I=0,L=0,j=0,V=0,U=0,B=0,Y=0,q=0,G=0.0,K=0.0,X=0.0,J=0,Z=0;q=c;c=c+16|0;g=q;F=e+4|0;D=n[F>>2]|0;N=e+8|0;H=n[N>>2]|0;B=(H|0)<(D|0)?H:D;e:do{if(((!((D|0)<2|(H|0)<2)?(U=i+8|0,(n[U>>2]|0)==(H|0)):0)?(I=i+4|0,(n[I>>2]|0)==(B|0)):0)?(L=r+4|0,(n[L>>2]|0)==(B|0)):0){Y=oo(B,B)|0;j=Y+4|0;if((n[j>>2]|0)==(B|0)?(V=Y+8|0,(n[V>>2]|0)==(B|0)):0){P=(D|0)<(H|0);p=n[F>>2]|0;E=n[N>>2]|0;if(P){if((B|0)!=(p|0)){co(Y)|0;t=-1;break}o=n[Y>>2]|0;if((B|0)>0){d=(B|0)==0;s=(E|0)>0;h=0;m=o;while(1){l=re(h,E)|0;if(!d){k=0;p=m;while(1){if((k|0)>=(h|0)){t=n[e>>2]|0;u[p>>3]=0.0;if(s){f=0.0;b=t+(l<<3)|0;t=t+((re(k,E)|0)<<3)|0;a=0;while(1){f=f+ +u[b>>3]*+u[t>>3];u[p>>3]=f;a=a+1|0;if((a|0)>=(E|0))break;else{b=b+8|0;t=t+8|0}}}}else u[p>>3]=+u[o+((re(k,B)|0)+h<<3)>>3];k=k+1|0;if((k|0)==(B|0))break;else p=p+8|0}}h=h+1|0;if((h|0)>=(B|0))break;else m=m+(B<<3)|0}}}else{if((B|0)!=(E|0)){co(Y)|0;t=-1;break}o=n[Y>>2]|0;if((B|0)>0){l=(B|0)==0;s=(p|0)>0;d=0;k=o;while(1){if(!l){b=0;m=k;while(1){if((b|0)>=(d|0)){t=n[e>>2]|0;u[m>>3]=0.0;if(s){f=0.0;h=t+(d<<3)|0;t=t+(b<<3)|0;a=0;while(1){f=f+ +u[h>>3]*+u[t>>3];u[m>>3]=f;a=a+1|0;if((a|0)>=(p|0))break;else{h=h+(B<<3)|0;t=t+(B<<3)|0}}}}else u[m>>3]=+u[o+((re(b,B)|0)+d<<3)>>3];b=b+1|0;if((b|0)==(B|0))break;else m=m+8|0}}d=d+1|0;if((d|0)>=(B|0))break;else k=k+(B<<3)|0}}}do{if(((B|0)>=2?(n[L>>2]|0)==(B|0):0)?(O=xo(B)|0,(O|0)!=0):0){x=B+-1|0;n[g+4>>2]=x;n[g>>2]=(n[O>>2]|0)+8;if((Do(Y,r,g)|0)<0){Fo(O)|0;break}T=n[O>>2]|0;u[T>>3]=0.0;if((x|0)>0){A=(B|0)==0;C=x;do{a=C;while(1){if((a|0)<=0)break;_=+W(+ +u[T+(a<<3)>>3]);t=a+-1|0;R=n[r>>2]|0;S=+W(+ +u[R+(t<<3)>>3]);if(_>(S+ +W(+ +u[R+(a<<3)>>3]))*1.0e-06)a=t;else break}y=C;C=C+-1|0;i:do{if((a|0)!=(y|0)){b=T+(y<<3)|0;k=T+(a+1<<3)|0;m=(a|0)<(y|0);M=0;do{if((M|0)>99)break i;M=M+1|0;p=n[r>>2]|0;E=p+(C<<3)|0;g=p+(y<<3)|0;f=+u[g>>3];w=(+u[E>>3]-f)*.5;v=+u[b>>3];v=v*v;_=+z(+(v+w*w));if(m){R=a;w=+u[p+(a<<3)>>3]-f+v/(w+(w<0.0?-_:_));v=+u[k>>3];while(1){f=+W(+w);do{if(!(f>=+W(+v))){_=-w/v;S=1.0/+z(+(_*_+1.0));_=_*S}else{if(!(f>1.0e-16)){_=1.0;S=0.0;break}f=-v/w;S=1.0/+z(+(f*f+1.0));_=S;S=f*S}}while(0);s=p+(R<<3)|0;X=+u[s>>3];h=R;R=R+1|0;l=p+(R<<3)|0;K=+u[l>>3];f=X-K;d=T+(R<<3)|0;G=S*(S*f+_*2.0*+u[d>>3]);u[s>>3]=X-G;u[l>>3]=K+G;if((h|0)>(a|0)){l=T+(h<<3)|0;u[l>>3]=_*+u[l>>3]-v*S}X=+u[d>>3];u[d>>3]=X+S*(_*f-S*2.0*X);s=re(h,B)|0;l=re(R,B)|0;if(A)f=v;else{t=n[Y>>2]|0;o=0;do{Z=t+(o+s<<3)|0;w=+u[Z>>3];J=t+(o+l<<3)|0;f=+u[J>>3];u[Z>>3]=_*w-S*f;u[J>>3]=S*w+_*f;o=o+1|0}while((o|0)!=(B|0))}if((h|0)<(C|0)){w=+u[d>>3];Z=T+(h+2<<3)|0;f=+u[Z>>3];u[Z>>3]=_*f;f=-(S*f)}if((R|0)>=(y|0))break;else v=f}}K=+W(+ +u[b>>3]);X=+W(+ +u[E>>3])}while(K>(X+ +W(+ +u[g>>3]))*1.0e-06)}}while(0)}while((y|0)>1)}if(x){l=n[r>>2]|0;d=n[Y>>2]|0;h=(B|0)==0;b=0;do{o=l+(b<<3)|0;w=+u[o>>3];s=b;b=b+1|0;if((b|0)<(B|0)){t=s;a=b;f=w;do{X=+u[l+(a<<3)>>3];Z=X>f;f=Z?X:f;t=Z?a:t;a=a+1|0}while((a|0)<(B|0))}else{t=s;f=w}u[l+(t<<3)>>3]=w;u[o>>3]=f;if(!h){o=0;a=d+((re(t,B)|0)<<3)|0;t=d+((re(s,B)|0)<<3)|0;while(1){X=+u[a>>3];u[a>>3]=+u[t>>3];u[t>>3]=X;o=o+1|0;if((o|0)==(B|0))break;else{a=a+8|0;t=t+8|0}}}}while((b|0)!=(x|0))}Fo(O)|0;i:do{if(!P){o=n[i>>2]|0;k=(D|0)>(H|0)?H:D;r:do{if((B|0)>0){d=n[r>>2]|0;h=(k|0)==0;t=0;b=n[Y>>2]|0;do{if(+u[d+(t<<3)>>3]<1.0e-16)break r;if(!h){a=0;s=b;l=o;while(1){u[l>>3]=+u[s>>3];a=a+1|0;if((a|0)==(k|0))break;else{s=s+8|0;l=l+8|0}}}b=b+(k<<3)|0;o=o+(k<<3)|0;t=t+1|0}while((t|0)<(B|0))}else t=0}while(0);h=(k|0)>0?k:0;if((t|0)<(B|0)){l=n[r>>2]|0;d=(B|0)>0;while(1){u[l+(t<<3)>>3]=0.0;if(d){a=0;s=o;while(1){u[s>>3]=0.0;a=a+1|0;if((a|0)>=(B|0))break;else s=s+8|0}}t=t+1|0;if((t|0)>=(B|0))break;else o=o+(h<<3)|0}}}else{g=n[F>>2]|0;E=n[N>>2]|0;do{if(!((g|0)<1|(E|0)<1)){if((n[j>>2]|0)!=(g|0))break;if((n[V>>2]|0)!=(g|0))break;if((n[I>>2]|0)!=(g|0))break;if((n[U>>2]|0)!=(E|0))break;if((n[L>>2]|0)!=(g|0))break;a=n[i>>2]|0;r:do{if((g|0)>0){k=n[r>>2]|0;p=(E|0)==0;m=(g|0)==0;t=0;do{f=+u[k+(t<<3)>>3];if(f<1.0e-16)break r;w=1.0/+z(+ +W(+f));d=re(t,g)|0;if(!p){h=0;b=a;while(1){if(m)f=0.0;else{o=0;s=(n[Y>>2]|0)+(d<<3)|0;l=(n[e>>2]|0)+(h<<3)|0;f=0.0;while(1){f=f+ +u[s>>3]*+u[l>>3];o=o+1|0;if((o|0)==(g|0))break;else{s=s+8|0;l=l+(E<<3)|0}}}u[b>>3]=w*f;h=h+1|0;if((h|0)==(E|0))break;else b=b+8|0}}a=a+(E<<3)|0;t=t+1|0}while((t|0)<(g|0))}else t=0}while(0);h=(E|0)>0?E:0;if((t|0)>=(g|0))break i;l=n[r>>2]|0;d=(E|0)>0;o=a;while(1){u[l+(t<<3)>>3]=0.0;if(d){a=0;s=o;while(1){u[s>>3]=0.0;a=a+1|0;if((a|0)>=(E|0))break;else s=s+8|0}}t=t+1|0;if((t|0)>=(g|0))break i;else o=o+(h<<3)|0}}}while(0);co(Y)|0;t=-1;break e}}while(0);co(Y)|0;t=0;break e}}while(0);co(Y)|0;t=-1;break}co(Y)|0;t=-1}else t=-1}while(0);c=q;return t|0}function wo(e){e=e|0;var i=0,r=0,t=0,a=0.0,o=0,s=0,f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0.0,S=0;_=c;c=c+2e3|0;v=_;i=n[e>>2]|0;E=n[e+4>>2]|0;e:do{if((E|0)<=500){switch(E|0){case 0:{i=0;break e}case 1:{u[i>>3]=1.0/+u[i>>3];break e}default:{}}if((E|0)>0){e=0;do{n[v+(e<<2)>>2]=e;e=e+1|0}while((e|0)<(E|0))}p=i+(E+-1<<3)|0;if((E|0)>0){d=(E|0)==0;k=(E|0)==1;b=(E|0)==0;h=(E|0)==1;w=p;e=0;m=0;while(1){l=i+((re(m,E)|0)<<3)|0;if((m|0)<(E|0)){t=m;a=0.0;r=l;while(1){g=+W(+ +u[r>>3]);f=a<g;e=f?t:e;a=f?g:a;t=t+1|0;if((t|0)>=(E|0))break;else r=r+(E<<3)|0}}else a=0.0;if(a<=1.0e-10){i=0;break e}o=v+(e<<2)|0;s=n[o>>2]|0;f=v+(m<<2)|0;n[o>>2]=n[f>>2];n[f>>2]=s;if(!d){r=0;t=i+((re(e,E)|0)<<3)|0;o=l;while(1){g=+u[t>>3];u[t>>3]=+u[o>>3];u[o>>3]=g;r=r+1|0;if((r|0)==(E|0))break;else{t=t+8|0;o=o+8|0}}}a=+u[l>>3];if(!k){r=1;t=l;do{f=t;t=t+8|0;u[f>>3]=+u[t>>3]/a;r=r+1|0}while((r|0)!=(E|0))}u[w>>3]=1.0/a;if(!b){o=0;s=p;while(1){if((o|0)!=(m|0)){r=i+((re(o,E)|0)<<3)|0;a=+u[r>>3];if(!h){f=1;t=l;while(1){S=r;r=r+8|0;u[S>>3]=+u[r>>3]-a*+u[t>>3];f=f+1|0;if((f|0)==(E|0))break;else t=t+8|0}}u[s>>3]=-(a*+u[w>>3])}o=o+1|0;if((o|0)==(E|0))break;else s=s+(E<<3)|0}}m=m+1|0;if((m|0)>=(E|0))break;else w=w+(E<<3)|0}}if((E|0)>0){o=(E|0)>0;s=0;do{e=v+(s<<2)|0;i:do{if((s|0)<(E|0)){r=s;do{if((n[e>>2]|0)==(s|0))break i;r=r+1|0;e=v+(r<<2)|0}while((r|0)<(E|0))}else r=s}while(0);n[e>>2]=n[v+(s<<2)>>2];if(o){t=0;e=i+(r<<3)|0;r=i+(s<<3)|0;while(1){g=+u[e>>3];u[e>>3]=+u[r>>3];u[r>>3]=g;t=t+1|0;if((t|0)>=(E|0))break;else{e=e+(E<<3)|0;r=r+(E<<3)|0}}}s=s+1|0}while((s|0)<(E|0))}}else i=0}while(0);c=_;return((i|0)==0)<<31>>31|0}function mo(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,c=0;s=n[e+4>>2]|0;if((s|0)==(n[i+8>>2]|0)?(l=n[e+8>>2]|0,(l|0)==(n[i+4>>2]|0)):0){c=(l|0)>0?l:0;if((s|0)>0){f=(l|0)>0;t=n[e>>2]|0;o=0;while(1){if(f){e=0;r=(n[i>>2]|0)+(o<<3)|0;a=t;while(1){u[a>>3]=+u[r>>3];e=e+1|0;if((e|0)>=(l|0))break;else{r=r+(s<<3)|0;a=a+8|0}}}o=o+1|0;if((o|0)>=(s|0)){e=0;break}else t=t+(c<<3)|0}}else e=0}else e=-1;return e|0}function po(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0.0,o=0.0,s=0;a=+(i|0)/+(n[e>>2]|0);o=+(r|0)/+(n[e+4>>2]|0);n[t>>2]=i;n[t+4>>2]=r;i=0;do{u[t+8+(i<<3)>>3]=a*+u[e+8+(i<<3)>>3];u[t+40+(i<<3)>>3]=o*+u[e+40+(i<<3)>>3];u[t+72+(i<<3)>>3]=+u[e+72+(i<<3)>>3];i=i+1|0}while((i|0)!=4);i=n[e+176>>2]|0;switch(i|0){case 4:{u[t+104>>3]=+u[e+104>>3];u[t+112>>3]=+u[e+112>>3];u[t+120>>3]=+u[e+120>>3];u[t+128>>3]=+u[e+128>>3];u[t+136>>3]=a*+u[e+136>>3];u[t+144>>3]=o*+u[e+144>>3];u[t+152>>3]=a*+u[e+152>>3];u[t+160>>3]=o*+u[e+160>>3];u[t+168>>3]=+u[e+168>>3];s=8;break}case 3:{u[t+104>>3]=a*+u[e+104>>3];u[t+112>>3]=o*+u[e+112>>3];u[t+120>>3]=+u[e+120>>3];u[t+128>>3]=+u[e+128>>3];u[t+136>>3]=+u[e+136>>3]/(a*o);u[t+144>>3]=+u[e+144>>3]/(o*(a*a*o));s=8;break}case 2:{u[t+104>>3]=a*+u[e+104>>3];u[t+112>>3]=o*+u[e+112>>3];u[t+120>>3]=+u[e+120>>3];u[t+128>>3]=+u[e+128>>3]/(a*o);u[t+136>>3]=+u[e+136>>3]/(o*(a*a*o));s=8;break}case 1:{u[t+104>>3]=a*+u[e+104>>3];u[t+112>>3]=o*+u[e+112>>3];u[t+120>>3]=+u[e+120>>3];u[t+128>>3]=+u[e+128>>3]/(a*o);s=8;break}default:i=-1}if((s|0)==8){n[t+176>>2]=i;i=0}return i|0}function Eo(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,n=0,o=0.0,s=0,f=0.0,l=0,d=0,h=0,b=0.0,k=0.0,w=0,m=0,p=0.0,E=0,v=0,_=0,g=0,S=0.0;n=c;c=c+96|0;a=n;if(!(+u[e+88>>3]>=0.0)){t=0;do{u[a+(t<<5)>>3]=-+u[e+(t<<5)>>3];u[a+(t<<5)+8>>3]=-+u[e+(t<<5)+8>>3];u[a+(t<<5)+16>>3]=-+u[e+(t<<5)+16>>3];u[a+(t<<5)+24>>3]=-+u[e+(t<<5)+24>>3];t=t+1|0}while((t|0)!=3)}else{t=0;do{u[a+(t<<5)>>3]=+u[e+(t<<5)>>3];u[a+(t<<5)+8>>3]=+u[e+(t<<5)+8>>3];u[a+(t<<5)+16>>3]=+u[e+(t<<5)+16>>3];u[a+(t<<5)+24>>3]=+u[e+(t<<5)+24>>3];t=t+1|0}while((t|0)!=3)}u[i>>3]=0.0;u[i+8>>3]=0.0;u[i+16>>3]=0.0;u[i+24>>3]=0.0;u[i+32>>3]=0.0;u[i+40>>3]=0.0;u[i+48>>3]=0.0;u[i+56>>3]=0.0;u[i+64>>3]=0.0;u[i+72>>3]=0.0;u[i+80>>3]=0.0;u[i+88>>3]=0.0;o=+u[a+64>>3];b=+u[a+72>>3];k=+u[a+80>>3];S=+z(+(o*o+b*b+k*k));e=i+80|0;u[e>>3]=S;S=o/S;_=r+64|0;u[_>>3]=S;b=b/+u[e>>3];E=r+72|0;u[E>>3]=b;k=k/+u[e>>3];w=r+80|0;u[w>>3]=k;h=r+88|0;u[h>>3]=+u[a+88>>3]/+u[e>>3];o=+u[a+32>>3];f=+u[a+40>>3];p=+u[a+48>>3];k=S*o+b*f+k*p;d=i+48|0;u[d>>3]=k;o=o-k*+u[_>>3];f=f-k*+u[E>>3];k=p-k*+u[w>>3];p=+z(+(o*o+f*f+k*k));l=i+40|0;u[l>>3]=p;g=r+32|0;u[g>>3]=o/p;v=r+40|0;u[v>>3]=f/+u[l>>3];m=r+48|0;u[m>>3]=k/+u[l>>3];k=+u[a>>3];f=+u[a+8>>3];p=+u[a+16>>3];o=+u[_>>3]*k+ +u[E>>3]*f+ +u[w>>3]*p;t=i+16|0;u[t>>3]=o;b=+u[g>>3]*k+ +u[v>>3]*f+ +u[m>>3]*p;s=i+8|0;u[s>>3]=b;k=k-b*+u[g>>3]-o*+u[_>>3];f=f-b*+u[v>>3]-o*+u[E>>3];o=p-b*+u[m>>3]-o*+u[w>>3];b=+z(+(k*k+f*f+o*o));u[i>>3]=b;u[r>>3]=k/b;u[r+8>>3]=f/+u[i>>3];u[r+16>>3]=o/+u[i>>3];o=+u[h>>3];f=(+u[a+56>>3]-+u[d>>3]*o)/+u[l>>3];u[r+56>>3]=f;u[r+24>>3]=(+u[a+24>>3]-f*+u[s>>3]-+u[t>>3]*o)/+u[i>>3];t=0;do{g=i+(t<<5)|0;u[g>>3]=+u[g>>3]/+u[e>>3];g=i+(t<<5)+8|0;u[g>>3]=+u[g>>3]/+u[e>>3];g=i+(t<<5)+16|0;u[g>>3]=+u[g>>3]/+u[e>>3];t=t+1|0}while((t|0)!=3);c=n;return 0}function vo(e,i,r,t,a,n){e=e|0;i=+i;r=+r;t=t|0;a=a|0;n=n|0;var o=0.0,s=0.0,f=0.0,l=0.0,c=0.0,d=0.0,h=0.0,b=0,k=0.0,w=0.0,m=0.0,p=0.0,E=0.0,v=0.0,_=0.0,g=0.0,S=0.0,y=0.0,M=0.0,R=0.0,T=0.0,A=0.0;switch(n|0){case 4:{w=+u[e>>3];m=+u[e+8>>3];p=+u[e+16>>3];E=+u[e+24>>3];y=+u[e+32>>3];_=+u[e+40>>3];g=+u[e+48>>3];S=+u[e+56>>3];v=+u[e+64>>3];k=(i-g)/y;f=(r-S)/_;r=k*k;s=f*f;l=p*2.0;c=E*6.0;d=E*2.0;h=p*6.0;e:do{if(s!=0.0|r!=0.0){n=1;o=k;i=f;while(1){A=s+r;T=w*A+1.0+A*(m*A);M=r*3.0;R=s*M;o=o-(E*(A+r*2.0)+(i*(l*o)+o*T)-k)/(c*o+(l*i+(w*(s+M)+1.0+m*(s*s+(r*(r*5.0)+R)))));M=d*o;i=i-(p*(s*2.0+A)+i*T+i*M-f)/(h*i+(w*(r+s*3.0)+1.0+m*(s*(s*5.0)+(r*r+R)))+M);if((n|0)==4)break e;r=o*o;s=i*i;if(!(s!=0.0|r!=0.0)){o=0.0;i=0.0;break}else n=n+1|0}}else{o=0.0;i=0.0}}while(0);u[t>>3]=g+y*o/v;u[a>>3]=S+_*i/v;n=0;break}case 3:{k=+u[e>>3];o=(i-k)/+u[e+24>>3];b=e+8|0;i=r-+u[b>>3];f=+u[e+32>>3]/1.0e8;l=+u[e+40>>3]/1.0e8/1.0e5;r=o*o+i*i;c=+z(+r);d=f*3.0;h=l*5.0;e:do{if(c!=0.0){n=1;s=c;while(1){A=s-(s*(1.0-f*r-r*(l*r))-c)/(1.0-d*r-r*(h*r));o=o*A/s;i=i*A/s;if((n|0)==3)break e;r=o*o+i*i;s=+z(+r);if(!(s!=0.0)){o=0.0;i=0.0;break}else n=n+1|0}}else{o=0.0;i=0.0}}while(0);n=e+16|0;u[t>>3]=o/+u[n>>3]+k;u[a>>3]=i/+u[n>>3]+ +u[b>>3];n=0;break}case 2:{k=+u[e>>3];o=i-k;b=e+8|0;i=r-+u[b>>3];f=+u[e+24>>3]/1.0e8;l=+u[e+32>>3]/1.0e8/1.0e5;r=o*o+i*i;c=+z(+r);d=f*3.0;h=l*5.0;e:do{if(c!=0.0){n=1;s=c;while(1){A=s-(s*(1.0-f*r-r*(l*r))-c)/(1.0-d*r-r*(h*r));o=o*A/s;i=i*A/s;if((n|0)==3)break e;r=o*o+i*i;s=+z(+r);if(!(s!=0.0)){o=0.0;i=0.0;break}else n=n+1|0}}else{o=0.0;i=0.0}}while(0);n=e+16|0;u[t>>3]=o/+u[n>>3]+k;u[a>>3]=i/+u[n>>3]+ +u[b>>3];n=0;break}case 1:{d=+u[e>>3];o=i-d;b=e+8|0;i=r-+u[b>>3];f=+u[e+24>>3]/1.0e8;r=o*o+i*i;l=+z(+r);c=f*3.0;e:do{if(l!=0.0){n=1;s=l;while(1){A=s-(s*(1.0-f*r)-l)/(1.0-c*r);o=o*A/s;i=i*A/s;if((n|0)==3)break e;r=o*o+i*i;s=+z(+r);if(!(s!=0.0)){o=0.0;i=0.0;break}else n=n+1|0}}else{o=0.0;i=0.0}}while(0);n=e+16|0;u[t>>3]=o/+u[n>>3]+d;u[a>>3]=i/+u[n>>3]+ +u[b>>3];n=0;break}default:n=-1}return n|0}function _o(e,i,r,t,a,n){e=e|0;i=+i;r=+r;t=t|0;a=a|0;n=n|0;var o=0.0,s=0.0,f=0.0,l=0.0,c=0.0,d=0.0,h=0.0,b=0.0;switch(n|0){case 4:{f=+u[e+16>>3];l=+u[e+24>>3];h=+u[e+32>>3];c=+u[e+40>>3];b=+u[e+48>>3];d=+u[e+56>>3];s=+u[e+64>>3];i=(i-b)*s/h;s=(r-d)*s/c;o=i*i+s*s;r=+u[e>>3]*o+1.0+o*(+u[e+8>>3]*o);u[t>>3]=b+h*(l*(i*(i*2.0)+o)+(f*2.0*i*s+i*r));u[a>>3]=d+c*(l*2.0*i*s+(f*(o+s*(s*2.0))+s*r));n=0;break}case 3:{s=+u[e>>3];b=+u[e+16>>3];o=(i-s)*b;n=e+8|0;i=b*(r-+u[n>>3]);if(o==0.0&i==0.0){u[t>>3]=s;i=+u[n>>3]}else{b=o*o+i*i;b=1.0-b*(+u[e+32>>3]/1.0e8)-b*(b*(+u[e+40>>3]/1.0e8/1.0e5));u[t>>3]=s+ +u[e+24>>3]*(o*b);i=+u[n>>3]+i*b}u[a>>3]=i;n=0;break}case 2:{s=+u[e>>3];b=+u[e+16>>3];o=(i-s)*b;n=e+8|0;i=b*(r-+u[n>>3]);if(o==0.0&i==0.0){u[t>>3]=s;i=+u[n>>3]}else{b=o*o+i*i;b=1.0-b*(+u[e+24>>3]/1.0e8)-b*(b*(+u[e+32>>3]/1.0e8/1.0e5));u[t>>3]=s+o*b;i=+u[n>>3]+i*b}u[a>>3]=i;n=0;break}case 1:{s=+u[e>>3];b=+u[e+16>>3];o=(i-s)*b;n=e+8|0;i=b*(r-+u[n>>3]);if(o==0.0&i==0.0){u[t>>3]=s;i=+u[n>>3]}else{b=1.0-(o*o+i*i)*(+u[e+24>>3]/1.0e8);u[t>>3]=s+o*b;i=+u[n>>3]+i*b}u[a>>3]=i;n=0;break}default:n=-1}return n|0}function go(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0,s=0,f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0.0;p=c;c=c+256|0;h=p+232|0;d=p+224|0;l=p+216|0;f=p+208|0;s=p+200|0;o=p+192|0;a=p+184|0;k=p+240|0;w=p;do{if((e|0)!=0&(i|0)>0&(r|0)!=0){m=qa(e,4854)|0;if(!m){m=ua()|0;n[a>>2]=n[m>>2];n[a+4>>2]=e;io(3,4857,a);e=ca(n[m>>2]|0)|0;n[o>>2]=5367;n[o+4>>2]=e;io(3,5361,o);e=-1;break}Za(m,0,2)|0;e:do{if(!(Wa(m)|0)){o=en(m)|0;an(m);e=0;do{if((e|0)>=4){b=9;break}a=n[2012+(e<<3)+4>>2]|0;e=e+1|0}while(((o|0)%(a|0)|0|0)!=0);do{if((b|0)==9)if((e|0)==4){io(3,4971,l);e=-1;break e}else{a=n[2012+(0<<3)+4>>2]|0;e=0;break}}while(0);if((Ka(w,a,1,m)|0)!=1){e=ua()|0;n[d>>2]=n[e>>2];io(3,5051,d);e=ca(n[e>>2]|0)|0;n[h>>2]=5367;n[h+4>>2]=e;io(3,5361,h);e=-1;break}l=w+176|0;n[l>>2]=e;So(w);d=(e|0)==1;h=w+120|0;if(d){E=+u[h>>3];f=w+128|0;u[h>>3]=+u[f>>3];u[f>>3]=E}else f=w+128|0;Zl(r|0,w|0,184)|0;n[k>>2]=t;a=r+176|0;if((i|0)>1){s=1;while(1){t=(n[k>>2]|0)+(4-1)&~(4-1);o=n[t>>2]|0;n[k>>2]=t+4;n[o+176>>2]=n[a>>2];if((Ka(w,n[2012+((n[a>>2]|0)+-1<<3)+4>>2]|0,1,m)|0)!=1){e=-1;break e}n[l>>2]=e;So(w);if(d){E=+u[h>>3];u[h>>3]=+u[f>>3];u[f>>3]=E}Zl(o|0,w|0,184)|0;s=s+1|0;if((s|0)>=(i|0)){e=0;break}}}else e=0}else{e=ua()|0;n[s>>2]=n[e>>2];io(3,4926,s);e=ca(n[e>>2]|0)|0;n[f>>2]=5367;n[f+4>>2]=e;io(3,5361,f);e=-1}}while(0);Ba(m)|0}else e=-1}while(0);c=p;return e|0}function So(e){e=e|0;var i=0,r=0,t=0,a=0,o=0;o=c;c=c+192|0;a=o;Mo(e,a);Mo(e+4|0,a+4|0);i=0;do{yo(e+8+(i<<5)|0,a+8+(i<<5)|0);yo(e+8+(i<<5)+8|0,a+8+(i<<5)+8|0);yo(e+8+(i<<5)+16|0,a+8+(i<<5)+16|0);yo(e+8+(i<<5)+24|0,a+8+(i<<5)+24|0);i=i+1|0}while((i|0)!=3);r=e+176|0;t=0;do{yo(e+104+(t<<3)|0,a+104+(t<<3)|0);t=t+1|0;i=n[r>>2]|0}while((t|0)<(n[2012+(i+-1<<3)>>2]|0));n[a+176>>2]=i;Zl(e|0,a|0,184)|0;c=o;return}function yo(e,i){e=e|0;i=i|0;t[i>>0]=t[e+7>>0]|0;t[i+1>>0]=t[e+6>>0]|0;t[i+2>>0]=t[e+5>>0]|0;t[i+3>>0]=t[e+4>>0]|0;t[i+4>>0]=t[e+3>>0]|0;t[i+5>>0]=t[e+2>>0]|0;t[i+6>>0]=t[e+1>>0]|0;t[i+7>>0]=t[e>>0]|0;return}function Mo(e,i){e=e|0;i=i|0;t[i>>0]=t[e+3>>0]|0;t[i+1>>0]=t[e+2>>0]|0;t[i+2>>0]=t[e+1>>0]|0;t[i+3>>0]=t[e>>0]|0;return}function Ro(e,i){e=e|0;i=i|0;var r=0,t=0,a=0.0,o=0,s=0,f=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0.0;S=c;c=c+64|0;E=S+24|0;v=S+16|0;_=S+8|0;g=S;w=Un(208)|0;if(!w){io(3,5472,S+32|0);vi(1)}Zl(w|0,e|0,184)|0;p=i<<1;m=(n[e>>2]|0)+p|0;n[w+192>>2]=m;p=(n[e+4>>2]|0)+p|0;n[w+196>>2]=p;n[w+200>>2]=i;n[w+204>>2]=i;r=re(m<<3,p)|0;t=Un(r)|0;n[w+184>>2]=t;if(!t){io(3,5472,S+40|0);vi(1)}r=Un(r)|0;n[w+188>>2]=r;if(!r){io(3,5472,S+48|0);vi(1)}k=e+104|0;d=n[e+176>>2]|0;h=(m|0)>0?m<<1:0;if((p|0)>0){b=(m|0)>0;f=0;while(1){a=+(f-i|0);if(b){e=0;o=t;s=r;while(1){y=+(e-i|0);_o(k,y,a,_,g,d)|0;l[o>>2]=+u[_>>3];l[o+4>>2]=+u[g>>3];vo(k,y,a,E,v,d)|0;l[s>>2]=+u[E>>3];l[s+4>>2]=+u[v>>3];e=e+1|0;if((e|0)>=(m|0))break;else{o=o+8|0;s=s+8|0}}}r=r+(h<<2)|0;f=f+1|0;if((f|0)>=(p|0))break;else t=t+(h<<2)|0}}c=S;return w|0}function To(e){e=e|0;var i=0;if((e|0)!=0?(i=n[e>>2]|0,(i|0)!=0):0){Bn(n[i+184>>2]|0);Bn(n[(n[e>>2]|0)+188>>2]|0);Bn(n[e>>2]|0);n[e>>2]=0;i=0}else i=-1;return i|0}function Ao(e,i,r,t,a){e=e|0;i=+i;r=+r;t=t|0;a=a|0;var o=0,s=0,f=0;s=(n[e+16>>2]|0)+~~(i+.5)|0;o=(n[e+20>>2]|0)+~~(r+.5)|0;if(((s|0)>=0?(f=n[e+8>>2]|0,!((o|0)<0|(s|0)>=(f|0))):0)?(o|0)<(n[e+12>>2]|0):0){e=n[e>>2]|0;o=(re(f,o)|0)+s<<1;n[t>>2]=n[e+(o<<2)>>2];n[a>>2]=n[e+((o|1)<<2)>>2];o=0}else o=-1;return o|0}function Co(e,i,r,t,a){e=e|0;i=+i;r=+r;t=t|0;a=a|0;var o=0,s=0,f=0;s=(n[e+16>>2]|0)+~~(i+.5)|0;o=(n[e+20>>2]|0)+~~(r+.5)|0;if(((s|0)>=0?(f=n[e+8>>2]|0,!((o|0)<0|(s|0)>=(f|0))):0)?(o|0)<(n[e+12>>2]|0):0){e=n[e+4>>2]|0;o=(re(f,o)|0)+s<<1;n[t>>2]=n[e+(o<<2)>>2];n[a>>2]=n[e+((o|1)<<2)>>2];o=0}else o=-1;return o|0}function xo(e){e=e|0;var i=0,r=0;i=Un(8)|0;do{if(i){r=Un(e<<3)|0;n[i>>2]=r;if(!r){Bn(i);i=0;break}else{n[i+4>>2]=e;break}}else i=0}while(0);return i|0}function Fo(e){e=e|0;Bn(n[e>>2]|0);Bn(e);return 0}function Po(e){e=e|0;var i=0.0,r=0,t=0.0,a=0,o=0;i=+z(+ +Oo(e,e));if(i!=0.0){a=n[e>>2]|0;t=+u[a>>3];i=t<0.0?-i:i;t=t+i;u[a>>3]=t;t=1.0/+z(+(t*i));e=n[e+4>>2]|0;if((e|0)>0){r=0;do{o=a+(r<<3)|0;u[o>>3]=t*+u[o>>3];r=r+1|0}while((r|0)<(e|0))}}return+-i}function Oo(e,i){e=e|0;i=i|0;var r=0.0,t=0,a=0;a=n[e+4>>2]|0;if((a|0)!=(n[i+4>>2]|0))vi(0);if((a|0)>0){t=n[e>>2]|0;e=n[i>>2]|0;i=0;r=0.0;do{r=r+ +u[t+(i<<3)>>3]*+u[e+(i<<3)>>3];i=i+1|0}while((i|0)<(a|0))}else r=0.0;return+r}function Do(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0.0,f=0,l=0,d=0,h=0,b=0,k=0,w=0.0,m=0.0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x+8|0;C=x;g=n[e+8>>2]|0;if(((g|0)==(n[e+4>>2]|0)?(g|0)==(n[i+4>>2]|0):0)?(g|0)==((n[r+4>>2]|0)+1|0):0){M=g+-2|0;R=A+4|0;T=C+4|0;if((g|0)>2){p=g+-1|0;E=0;do{b=re(E,g)|0;k=n[e>>2]|0;u[(n[i>>2]|0)+(E<<3)>>3]=+u[k+(b+E<<3)>>3];f=g-E+-1|0;n[R>>2]=f;v=E;E=E+1|0;l=k+(b+E<<3)|0;n[A>>2]=l;m=+Po(A);u[(n[r>>2]|0)+(v<<3)>>3]=m;if(!(m==0.0)){if((E|0)<(g|0)){d=n[i>>2]|0;h=E;do{if((E|0)<(h|0)){t=n[e>>2]|0;a=E;s=0.0;do{m=+u[t+((re(a,g)|0)+h<<3)>>3];s=s+m*+u[k+(a+b<<3)>>3];a=a+1|0}while((a|0)<(h|0))}else s=0.0;t=re(h,g)|0;if((h|0)<(g|0)){a=n[e>>2]|0;o=h;do{s=s+ +u[a+(o+t<<3)>>3]*+u[k+(o+b<<3)>>3];o=o+1|0}while((o|0)<(g|0))}u[d+(h<<3)>>3]=s;h=h+1|0}while((h|0)<(g|0))}n[T>>2]=f;n[R>>2]=f;n[A>>2]=l;n[C>>2]=(n[i>>2]|0)+(E<<3);s=+Oo(A,C)*.5;if((p|0)>(v|0)){t=n[i>>2]|0;f=p;do{w=+u[k+(f+b<<3)>>3];a=t+(f<<3)|0;m=+u[a>>3]-s*w;u[a>>3]=m;a=re(f,g)|0;if((f|0)<(g|0)){o=n[e>>2]|0;l=f;do{h=o+(l+a<<3)|0;u[h>>3]=+u[h>>3]-(w*+u[t+(l<<3)>>3]+m*+u[k+(l+b<<3)>>3]);l=l+1|0}while((l|0)<(g|0))}f=f+-1|0}while((f|0)>(v|0))}}}while((E|0)<(M|0))}if((g|0)<=1){if((g|0)>0){a=0;o=n[e>>2]|0;t=n[i>>2]|0;_=27}}else{_=re(M,g)|0;o=n[e>>2]|0;t=n[i>>2]|0;u[t+(M<<3)>>3]=+u[o+(_+M<<3)>>3];a=g+-1|0;u[(n[r>>2]|0)+(M<<3)>>3]=+u[o+(a+_<<3)>>3];_=27}if((_|0)==27)u[t+(a<<3)>>3]=+u[o+((re(a,g)|0)+a<<3)>>3];if((g|0)>0){d=(g|0)>0;k=g;do{r=k;k=k+-1|0;h=re(k,g)|0;b=n[e>>2]|0;if((r|0)<=(M|0)?(S=g-k+-1|0,y=b+(h+r<<3)|0,(r|0)<(g|0)):0){t=(r|0)<(g|0);f=r;do{n[T>>2]=S;n[R>>2]=S;n[A>>2]=y;a=re(f,g)|0;n[C>>2]=(n[e>>2]|0)+(a+r<<3);s=+Oo(A,C);if(t){o=n[e>>2]|0;l=r;do{_=o+(l+a<<3)|0;u[_>>3]=+u[_>>3]-s*+u[b+(l+h<<3)>>3];l=l+1|0}while((l|0)<(g|0))}f=f+1|0}while((f|0)<(g|0))}if(d){t=0;do{u[b+(t+h<<3)>>3]=0.0;t=t+1|0}while((t|0)<(g|0))}u[b+(h+k<<3)>>3]=1.0}while((r|0)>1);t=0}else t=0}else t=-1;c=x;return t|0}function No(e,i,r){e=e|0;i=i|0;r=r|0;var t=0.0,a=0.0,n=0.0,o=0.0,s=0.0;n=+u[r>>3];o=+u[r+8>>3];a=+u[r+16>>3];t=+u[i+88>>3]+(n*+u[i+64>>3]+o*+u[i+72>>3]+a*+u[i+80>>3]);if(t==0.0)r=-1;else{s=+u[i+56>>3]+(n*+u[i+32>>3]+o*+u[i+40>>3]+a*+u[i+48>>3]);u[e>>3]=(+u[i+24>>3]+(n*+u[i>>3]+o*+u[i+8>>3]+a*+u[i+16>>3]))/t;u[e+8>>3]=s/t;r=0}return r|0}function Ho(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0.0,o=0.0,s=0.0,f=0.0,l=0.0,d=0.0,h=0.0,b=0.0,k=0.0,w=0.0,m=0.0,p=0.0,E=0,v=0,_=0.0,g=0,S=0,y=0,M=0,R=0,T=0,A=0.0,C=0.0,x=0.0,F=0.0,P=0.0,O=0.0,D=0.0,N=0.0,H=0.0;T=c;c=c+1072|0;y=T+1056|0;S=T+768|0;g=T+192|0;R=T+48|0;M=T;H=+u[r>>3];F=+u[t>>3];p=H*F;N=+u[r+8>>3];E=t+8|0;x=+u[E>>3];_=N*x;s=+u[r+16>>3];P=+u[t+16>>3];l=s*P;d=+u[r+24>>3];D=+u[r+32>>3];O=+u[r+40>>3];h=x*O;f=+u[r+48>>3];b=P*f;k=+u[r+56>>3];C=+u[r+64>>3];A=+u[r+72>>3];w=x*A;a=+u[r+80>>3];m=P*a;o=+u[r+88>>3];u[S>>3]=p;u[S+8>>3]=H*x;u[S+16>>3]=H*P;u[S+24>>3]=F*N;u[S+32>>3]=_;u[S+40>>3]=P*N;u[S+48>>3]=F*s;u[S+56>>3]=x*s;u[S+64>>3]=l;u[S+72>>3]=H;u[S+80>>3]=N;u[S+88>>3]=s;s=F*D;u[S+96>>3]=s;u[S+104>>3]=x*D;u[S+112>>3]=P*D;u[S+120>>3]=F*O;u[S+128>>3]=h;u[S+136>>3]=P*O;u[S+144>>3]=F*f;u[S+152>>3]=x*f;u[S+160>>3]=b;u[S+168>>3]=D;u[S+176>>3]=O;u[S+184>>3]=f;f=C*F;u[S+192>>3]=f;u[S+200>>3]=x*C;u[S+208>>3]=P*C;u[S+216>>3]=F*A;x=+u[E>>3];u[S+224>>3]=A*x;u[S+232>>3]=P*A;u[S+240>>3]=F*a;u[S+248>>3]=x*a;u[S+256>>3]=m;u[S+264>>3]=C;u[S+272>>3]=A;u[S+280>>3]=a;t=g+64|0;r=g;E=r+64|0;do{n[r>>2]=0;r=r+4|0}while((r|0)<(E|0));u[t>>3]=-1.0;t=g+72|0;n[t>>2]=0;n[t+4>>2]=0;n[t+8>>2]=0;n[t+12>>2]=0;n[t+16>>2]=0;n[t+20>>2]=0;n[t+24>>2]=0;n[t+28>>2]=0;u[g+104>>3]=1.0;t=g+160|0;r=g+112|0;E=r+48|0;do{n[r>>2]=0;r=r+4|0}while((r|0)<(E|0));u[t>>3]=1.0;t=g+240|0;r=g+168|0;E=r+72|0;do{n[r>>2]=0;r=r+4|0}while((r|0)<(E|0));u[t>>3]=-1.0;t=g+296|0;r=g+248|0;E=r+48|0;do{n[r>>2]=0;r=r+4|0}while((r|0)<(E|0));u[t>>3]=-1.0;t=g+304|0;n[t>>2]=0;n[t+4>>2]=0;n[t+8>>2]=0;n[t+12>>2]=0;n[t+16>>2]=0;n[t+20>>2]=0;n[t+24>>2]=0;n[t+28>>2]=0;u[g+336>>3]=1.0;t=g+456|0;r=g+344|0;E=r+112|0;do{n[r>>2]=0;r=r+4|0}while((r|0)<(E|0));u[t>>3]=1.0;t=g+512|0;r=g+464|0;E=r+48|0;do{n[r>>2]=0;r=r+4|0}while((r|0)<(E|0));u[t>>3]=1.0;t=g+568|0;r=g+520|0;E=r+48|0;do{n[r>>2]=0;r=r+4|0}while((r|0)<(E|0));u[t>>3]=1.0;v=0;do{E=0;do{r=R+(v*48|0)+(E<<3)|0;u[r>>3]=0.0;a=0.0;t=0;do{a=a+ +u[S+(v*96|0)+(t<<3)>>3]*+u[g+(t*48|0)+(E<<3)>>3];t=t+1|0}while((t|0)!=12);u[r>>3]=a;E=E+1|0}while((E|0)!=6);v=v+1|0}while((v|0)!=3);N=d+(p+_+l);H=k+(s+h+b);a=o+(f+w+m);o=+u[i>>3];s=+u[i+8>>3];f=+u[i+16>>3];l=+u[i+24>>3]+(N*o+H*s+a*f);d=+u[i+32>>3];h=+u[i+40>>3];b=+u[i+48>>3];k=+u[i+56>>3]+(N*d+H*h+a*b);w=+u[i+64>>3];m=+u[i+72>>3];p=+u[i+80>>3];a=+u[i+88>>3]+(N*w+H*m+a*p);if(a==0.0){io(3,5089,y);t=-1}else{H=a*a;u[M>>3]=(o*a-l*w)/H;u[M+8>>3]=(a*s-l*m)/H;u[M+16>>3]=(a*f-l*p)/H;u[M+24>>3]=(a*d-k*w)/H;u[M+32>>3]=(a*h-k*m)/H;u[M+40>>3]=(a*b-k*p)/H;r=0;do{a=+u[M+(r*24|0)>>3];o=+u[M+(r*24|0)+8>>3];s=+u[M+(r*24|0)+16>>3];t=0;do{y=e+(r*48|0)+(t<<3)|0;u[y>>3]=0.0;H=a*+u[R+(t<<3)>>3]+0.0;u[y>>3]=H;H=H+o*+u[R+48+(t<<3)>>3];u[y>>3]=H;u[y>>3]=H+s*+u[R+96+(t<<3)>>3];t=t+1|0}while((t|0)!=6);r=r+1|0}while((r|0)!=2);t=0}c=T;return t|0}function Io(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0,s=0,f=0;f=c;c=c+48|0;s=f+24|0;o=f+12|0;a=f;n[s+4>>2]=6;n[s+8>>2]=1;n[s>>2]=e;n[o+4>>2]=t;n[o+8>>2]=1;n[o>>2]=i;n[a+4>>2]=t;n[a+8>>2]=6;n[a>>2]=r;i=lo(a)|0;do{if(i){e=fo(i,a)|0;if(!e){co(i)|0;r=-1;break}r=fo(i,o)|0;if(!r){co(i)|0;co(e)|0;r=-1;break}if((wo(e)|0)<0){co(i)|0;co(e)|0;co(r)|0;r=-1;break}else{ho(s,e,r)|0;co(i)|0;co(e)|0;co(r)|0;r=0;break}}else r=-1}while(0);c=f;return r|0}function Lo(e,i){e=e|0;i=i|0;var r=0.0,t=0.0,a=0.0,n=0,o=0.0,s=0.0,f=0.0,l=0,d=0,h=0,b=0.0,k=0.0,w=0.0,m=0.0,p=0.0,E=0.0,v=0.0;h=c;c=c+192|0;l=h+96|0;d=h;o=+u[i>>3];f=+u[i+8>>3];t=+u[i+16>>3];r=o*o+f*f+t*t;if(r==0.0){s=0.0;a=0.0;t=1.0;r=0.0}else{r=+z(+r);s=r;a=t/r;t=o/r;r=f/r}v=+u[i+24>>3];m=+u[i+32>>3];f=+u[i+40>>3];b=+q(+s);o=1.0-b;s=+G(+s);u[l>>3]=b+t*t*o;E=r*t*o;p=a*s;u[l+8>>3]=E-p;w=t*a*o;k=r*s;u[l+16>>3]=w+k;u[l+24>>3]=v;u[l+32>>3]=E+p;u[l+40>>3]=b+r*r*o;r=r*a*o;s=t*s;u[l+48>>3]=r-s;u[l+56>>3]=m;u[l+64>>3]=w-k;u[l+72>>3]=r+s;u[l+80>>3]=b+a*a*o;u[l+88>>3]=f;n=0;do{r=+u[e+(n<<5)>>3];t=+u[e+(n<<5)+8>>3];a=+u[e+(n<<5)+16>>3];i=0;do{u[d+(n<<5)+(i<<3)>>3]=r*+u[l+(i<<3)>>3]+t*+u[l+32+(i<<3)>>3]+a*+u[l+64+(i<<3)>>3];i=i+1|0}while((i|0)!=4);i=d+(n<<5)+24|0;u[i>>3]=+u[e+(n<<5)+24>>3]+ +u[i>>3];n=n+1|0}while((n|0)!=3);i=0;do{u[e+(i<<5)>>3]=+u[d+(i<<5)>>3];u[e+(i<<5)+8>>3]=+u[d+(i<<5)+8>>3];u[e+(i<<5)+16>>3]=+u[d+(i<<5)+16>>3];u[e+(i<<5)+24>>3]=+u[d+(i<<5)+24>>3];i=i+1|0}while((i|0)!=3);c=h;return 0}function jo(e){e=e|0;var i=0,r=0;i=Un(136)|0;if(!i)i=0;else{r=0;do{u[i+(r<<5)>>3]=+u[e+(r<<5)>>3];u[i+(r<<5)+8>>3]=+u[e+(r<<5)+8>>3];u[i+(r<<5)+16>>3]=+u[e+(r<<5)+16>>3];u[i+(r<<5)+24>>3]=+u[e+(r<<5)+24>>3];r=r+1|0}while((r|0)!=3);n[i+96>>2]=10;u[i+104>>3]=.10000000149011612;u[i+112>>3]=.9900000095367432;u[i+120>>3]=4.0;u[i+128>>3]=.5}return i|0}function Vo(e){e=e|0;var i=0;i=n[e>>2]|0;if(!i)i=-1;else{Bn(i);n[e>>2]=0;i=0}return i|0}function Uo(e,i){e=e|0;i=+i;if(!e)e=-1;else{u[e+128>>3]=i;e=0}return e|0}function Bo(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0,s=0.0,f=0,l=0,d=0.0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0.0,R=0.0;y=c;c=c+176|0;l=y+168|0;f=y+160|0;v=y+48|0;g=y+64|0;_=y;p=i+8|0;o=n[p>>2]|0;do{if((o|0)>=3){S=Un(o*96|0)|0;if(!S){io(3,5109,f);o=-1;break}E=Un(o<<4)|0;if(!E){io(3,5109,l);Bn(S);o=-1;break}else o=0;do{u[t+(o<<5)>>3]=+u[r+(o<<5)>>3];u[t+(o<<5)+8>>3]=+u[r+(o<<5)+8>>3];u[t+(o<<5)+16>>3]=+u[r+(o<<5)+16>>3];u[t+(o<<5)+24>>3]=+u[r+(o<<5)+24>>3];o=o+1|0}while((o|0)!=3);w=i+4|0;l=v+8|0;r=e+104|0;h=e+120|0;b=e+112|0;k=e+96|0;d=0.0;m=0;e:while(1){ro(e,t,g)|0;o=n[p>>2]|0;if((o|0)>0){s=0.0;f=0;do{if((No(v,g,(n[w>>2]|0)+(f*24|0)|0)|0)<0){f=10;break e}o=n[i>>2]|0;R=+u[o+(f<<4)>>3]-+u[v>>3];M=+u[o+(f<<4)+8>>3]-+u[l>>3];s=s+(R*R+M*M);o=f<<1;u[E+(o<<3)>>3]=R;u[E+((o|1)<<3)>>3]=M;f=f+1|0;o=n[p>>2]|0}while((f|0)<(o|0))}else s=0.0;s=s/+(o|0);if(s<+u[r>>3]){f=24;break}if(((m|0)>0?s<+u[h>>3]:0)?s/d>+u[b>>3]:0){f=24;break}if((m|0)==(n[k>>2]|0)){f=24;break}if((o|0)>0){f=0;do{if((Ho(S+(f*12<<3)|0,e,t,(n[w>>2]|0)+(f*24|0)|0)|0)<0){f=20;break e}f=f+1|0;o=n[p>>2]|0}while((f|0)<(o|0))}if((Io(_,E,S,o<<1)|0)<0){f=22;break}Lo(t,_)|0;d=s;m=m+1|0}if((f|0)==10){Wo(S,E);o=-1;break}else if((f|0)==20){Wo(S,E);o=-1;break}else if((f|0)==22){Wo(S,E);o=-1;break}else if((f|0)==24){u[a>>3]=s;Bn(S);Bn(E);o=0;break}}else o=-1}while(0);c=y;return o|0}function Wo(e,i){e=e|0;i=i|0;Bn(e);Bn(i);return}function zo(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0,s=0.0,f=0,l=0,d=0,h=0,b=0,k=0.0,w=0.0,m=0.0,p=0.0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,P=0;P=c;c=c+192|0;h=P+184|0;d=P+176|0;l=P+168|0;o=P+160|0;T=P+48|0;C=P+64|0;A=P;R=i+8|0;f=n[R>>2]|0;do{if((f|0)>=4){b=~~(+(f|0)*+u[e+128>>3])+-1|0;b=(b|0)<3?3:b;F=Un(f*96|0)|0;if(!F){io(3,5109,o);o=-1;break}x=Un(f<<4)|0;if(!x){io(3,5109,l);Bn(F);o=-1;break}o=f<<3;M=Un(o)|0;if(!M){io(3,5109,d);Bn(F);Bn(x);o=-1;break}y=Un(o)|0;if(!y){io(3,5109,h);Bn(F);Bn(x);Bn(M);o=-1;break}else o=0;do{u[t+(o<<5)>>3]=+u[r+(o<<5)>>3];u[t+(o<<5)+8>>3]=+u[r+(o<<5)+8>>3];u[t+(o<<5)+16>>3]=+u[r+(o<<5)+16>>3];u[t+(o<<5)+24>>3]=+u[r+(o<<5)+24>>3];o=o+1|0}while((o|0)!=3);g=i+4|0;S=T+8|0;h=y+(b<<3)|0;r=e+104|0;b=e+120|0;E=e+112|0;v=e+96|0;m=0.0;_=0;e:while(1){ro(e,t,C)|0;o=n[R>>2]|0;if((o|0)>0){f=0;do{if((No(T,C,(n[g>>2]|0)+(f*24|0)|0)|0)<0){f=14;break e}o=n[i>>2]|0;w=+u[o+(f<<4)>>3]-+u[T>>3];p=+u[o+(f<<4)+8>>3]-+u[S>>3];o=f<<1;u[x+(o<<3)>>3]=w;u[x+((o|1)<<3)>>3]=p;p=w*w+p*p;u[y+(f<<3)>>3]=p;u[M+(f<<3)>>3]=p;f=f+1|0;o=n[R>>2]|0}while((f|0)<(o|0))}dn(y,o,8,1);p=+u[h>>3]*4.0;p=p<16.0?16.0:p;f=n[R>>2]|0;w=p/6.0;if((f|0)>0){s=0.0;o=0;do{k=+u[y+(o<<3)>>3];if(k>p)k=w;else{k=1.0-k/p;k=w*(1.0-k*(k*k))}s=s+k;o=o+1|0}while((o|0)<(f|0))}else s=0.0;s=s/+(f|0);if(s<+u[r>>3]){f=36;break}if(((_|0)>0?s<+u[b>>3]:0)?s/m>+u[E>>3]:0){f=36;break}if((_|0)==(n[v>>2]|0)){f=36;break}if((f|0)>0){d=0;o=0;do{k=+u[M+(d<<3)>>3];if(k<=p){f=o*6|0;l=F+(f<<3)|0;if((Ho(l,e,t,(n[g>>2]|0)+(d*24|0)|0)|0)<0){f=28;break e}m=1.0-k/p;m=m*m;u[l>>3]=+u[l>>3]*m;l=F+((f|1)<<3)|0;u[l>>3]=+u[l>>3]*m;l=F+(f+2<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+3<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+4<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+5<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+6<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+7<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+8<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+9<<3)|0;u[l>>3]=m*+u[l>>3];l=F+(f+10<<3)|0;u[l>>3]=m*+u[l>>3];f=F+(f+11<<3)|0;u[f>>3]=m*+u[f>>3];f=d<<1;u[x+(o<<3)>>3]=m*+u[x+(f<<3)>>3];u[x+(o+1<<3)>>3]=m*+u[x+((f|1)<<3)>>3];f=n[R>>2]|0;o=o+2|0}d=d+1|0}while((d|0)<(f|0))}else o=0;if((o|0)<6){f=32;break}if((Io(A,x,F,o)|0)<0){f=34;break}Lo(t,A)|0;m=s;_=_+1|0}if((f|0)==14){Yo(F,x,M,y);o=-1;break}else if((f|0)==28){Yo(F,x,M,y);o=-1;break}else if((f|0)==32){Yo(F,x,M,y);o=-1;break}else if((f|0)==34){Yo(F,x,M,y);o=-1;break}else if((f|0)==36){u[a>>3]=s;Bn(F);Bn(x);Bn(M);Bn(y);o=0;break}}else o=-1}while(0);c=P;return o|0}function Yo(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;Bn(e);Bn(i);Bn(r);Bn(t);return}function qo(e,i){e=e|0;i=i|0;var r=0.0;r=+u[e>>3]-+u[i>>3];return(r<0.0?-1:r>0.0&1)|0}function Go(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0,s=0.0,f=0.0,l=0,d=0.0,h=0.0,b=0,k=0.0,w=0.0,m=0.0,p=0.0,E=0.0,v=0,_=0.0,g=0,S=0,y=0,M=0,R=0.0,T=0,A=0,C=0,x=0.0,F=0.0,P=0.0,O=0.0,D=0.0,N=0.0,H=0.0,I=0.0,L=0.0,j=0.0,V=0.0,U=0.0,B=0.0,W=0.0,Y=0.0,q=0,G=0,K=0,X=0,J=0,Z=0;q=c;c=c+64|0;C=q+48|0;M=q+40|0;y=q+32|0;S=q+24|0;v=q+16|0;b=q+8|0;l=q;e:do{if((t|0)>=4){o=0;while(1){if((o|0)>=(t|0))break;if(+u[r+(o*24|0)+16>>3]!=0.0){o=-1;break e}else o=o+1|0}if((((((((!(+u[e>>3]==0.0)?!(+u[e+32>>3]!=0.0):0)?(T=e+40|0,!(+u[T>>3]==0.0)):0)?!(+u[e+64>>3]!=0.0):0)?!(+u[e+72>>3]!=0.0):0)?!(+u[e+80>>3]!=1.0):0)?!(+u[e+24>>3]!=0.0):0)?!(+u[e+56>>3]!=0.0):0)?!(+u[e+88>>3]!=0.0):0){o=t<<1;A=oo(o,8)|0;if(!A){io(3,5124,l);o=-1;break}g=oo(o,1)|0;if(!g){co(A)|0;io(3,5150,b);o=-1;break}if(t){o=n[A>>2]|0;l=n[g>>2]|0;b=0;do{Z=r+(b*24|0)|0;G=b<<4;u[o+(G<<3)>>3]=+u[Z>>3];J=r+(b*24|0)+8|0;u[o+((G|1)<<3)>>3]=+u[J>>3];u[o+((G|2)<<3)>>3]=1.0;u[o+((G|3)<<3)>>3]=0.0;u[o+((G|4)<<3)>>3]=0.0;u[o+((G|5)<<3)>>3]=0.0;X=i+(b<<4)|0;u[o+((G|6)<<3)>>3]=-(+u[Z>>3]*+u[X>>3]);u[o+((G|7)<<3)>>3]=-(+u[J>>3]*+u[X>>3]);u[o+((G|8)<<3)>>3]=0.0;u[o+((G|9)<<3)>>3]=0.0;u[o+((G|10)<<3)>>3]=0.0;u[o+((G|11)<<3)>>3]=+u[Z>>3];u[o+((G|12)<<3)>>3]=+u[J>>3];u[o+((G|13)<<3)>>3]=1.0;K=i+(b<<4)+8|0;u[o+((G|14)<<3)>>3]=-(+u[Z>>3]*+u[K>>3]);u[o+((G|15)<<3)>>3]=-(+u[J>>3]*+u[K>>3]);G=b<<1;u[l+(G<<3)>>3]=+u[X>>3];u[l+((G|1)<<3)>>3]=+u[K>>3];b=b+1|0}while((b|0)!=(t|0))}t=lo(A)|0;if(!t){co(A)|0;co(g)|0;io(3,5176,v);o=-1;break}b=fo(t,A)|0;if(!b){co(A)|0;co(g)|0;co(t)|0;io(3,5202,S);o=-1;break}l=fo(t,g)|0;if(!l){co(A)|0;co(g)|0;co(t)|0;co(b)|0;io(3,5228,y);o=-1;break}if((wo(b)|0)<0){co(A)|0;co(g)|0;co(t)|0;co(b)|0;co(l)|0;io(3,5254,M);o=-1;break}o=fo(b,l)|0;if(!o){co(A)|0;co(g)|0;co(t)|0;co(b)|0;co(l)|0;io(3,5280,C);o=-1;break}Z=n[o>>2]|0;k=+u[Z+48>>3];W=+u[e+48>>3];E=+u[T>>3];s=(+u[Z+24>>3]-k*W)/E;p=+u[e+16>>3];Y=+u[e+8>>3];m=+u[e>>3];w=(+u[Z>>3]-k*p-s*Y)/m;f=+u[Z+56>>3];d=(+u[Z+32>>3]-W*f)/E;h=(+u[Z+8>>3]-p*f-Y*d)/m;E=(+u[Z+40>>3]-W)/E;m=(+u[Z+16>>3]-p-Y*E)/m;co(A)|0;co(g)|0;co(t)|0;co(b)|0;co(l)|0;co(o)|0;Y=+z(+(k*k+(s*s+w*w)));p=+z(+(f*f+(d*d+h*h)));w=w/Y;s=s/Y;k=k/Y;h=h/p;d=d/p;f=f/p;p=(Y+p)*.5;m=m/p;Y=1.0/p;if(Y<0.0){V=-s;f=-f;d=-d;k=-k;h=-h;U=-w;W=-m;B=-Y}else{V=s;U=w;W=m;B=E/p}s=f*V-d*k;w=h*k-f*U;m=d*U-h*V;p=+z(+(m*m+(s*s+w*w)));do{if(!(p==0.0)){E=s/p;w=w/p;s=m/p;j=f*k+(d*V+h*U);j=j<0.0?-j:j;j=(+z(+(j+1.0))+ +z(+(1.0-j)))*.5;if(U*w-V*E!=0.0){o=0;x=U;_=V;F=k;D=E;O=w}else{Z=U*s-k*E!=0.0;o=Z?1:2;x=Z?U:k;_=Z?k:V;F=Z?V:U;D=Z?E:s;O=Z?s:w;s=Z?w:E}m=x*O;p=_*D;w=m-p;if(w==0.0){w=V;s=U;break}P=(_*s-F*O)/w;R=j*O/w;m=p-m;w=(x*s-F*D)/m;m=j*D/m;p=P*P+w*w+1.0;E=P*R+w*m;_=E*E-p*(R*R+m*m+-1.0);if(_<0.0){w=V;s=U;break}L=+z(+_);I=(L-E)/p;F=R+P*I;H=m+w*I;L=(-E-L)/p;P=R+P*L;m=m+w*L;Z=(o|0)==1;w=Z?O:s;p=Z?s:O;N=Z?I:H;I=Z?H:I;H=Z?L:m;O=Z?m:L;Z=(o|0)==2&(Z^1);m=Z?D:w;w=Z?w:D;L=Z?I:F;I=Z?F:I;s=Z?O:P;D=Z?P:O;if(h*p-d*w!=0.0){o=0;x=h;_=d;F=f;O=w;R=p}else{Z=h*m-f*w!=0.0;o=Z?1:2;x=Z?h:f;_=Z?f:d;F=Z?d:h;O=Z?w:m;R=Z?m:p;m=Z?p:w}p=x*R;E=_*O;w=p-E;if(w==0.0){w=V;s=U;break}P=(_*m-F*R)/w;R=j*R/w;w=E-p;_=(x*m-F*O)/w;w=j*O/w;m=P*P+_*_+1.0;p=P*R+_*w;E=p*p-m*(R*R+w*w+-1.0);if(E<0.0){w=V;s=U;break}E=+z(+E);f=(E-p)/m;U=R+P*f;V=w+_*f;E=(-p-E)/m;k=R+P*E;h=w+_*E;Z=(o|0)==1;d=Z?f:V;f=Z?V:f;_=Z?E:h;E=Z?h:E;Z=(o|0)==2&(Z^1);h=Z?f:U;f=Z?U:f;R=Z?E:k;E=Z?k:E;k=I*f+(N*d+L*h);k=k<0.0?-k:k;w=I*E+(N*_+L*R);w=w<0.0?-w:w;m=D*f+(H*d+s*h);m=m<0.0?-m:m;p=D*E+(H*_+s*R);p=p<0.0?-p:p;if(k<w)if(k<m){if(k<p){w=N;k=I;s=L;break}w=H;f=E;d=_;k=D;h=R;break}else{if(m<p){w=H;k=D;break}w=H;f=E;d=_;k=D;h=R;break}else if(w<m){if(w<p){w=N;f=E;d=_;k=I;h=R;s=L;break}w=H;f=E;d=_;k=D;h=R;break}else{if(m<p){w=H;k=D;break}w=H;f=E;d=_;k=D;h=R;break}}else{w=V;s=U}}while(0);L=f*w-d*k;j=h*k-f*s;V=d*s-h*w;U=+z(+(V*V+(L*L+j*j)));u[a>>3]=s;u[a+32>>3]=w;u[a+64>>3]=k;u[a+8>>3]=h;u[a+40>>3]=d;u[a+72>>3]=f;u[a+16>>3]=L/U;u[a+48>>3]=j/U;u[a+80>>3]=V/U;u[a+24>>3]=W;u[a+56>>3]=B;u[a+88>>3]=Y;o=0}else o=-1}else o=-1}while(0);c=q;return o|0}function Ko(e){e=e|0;Bn(n[e>>2]|0);Bn(e);return 0}function Xo(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;return+ +Zo(e,i,r,t,0)}function Jo(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;return+ +Zo(e,i,r,t,1)}function Zo(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0.0,s=0,f=0,l=0,d=0,h=0.0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+208|0;M=F+200|0;y=F+192|0;R=F+96|0;T=F;A=t+4|0;k=n[A>>2]|0;w=t+112|0;m=t+120|0;if((k|0)>0){v=n[t>>2]|0;_=(r|0)>0;g=(r|0)>0;S=0;do{if(!(n[v+(S*320|0)+4>>2]|0)){if(_){f=n[v+(S*320|0)>>2]|0;l=0;s=-1;do{if((n[i+(l<<8)+8>>2]|0)==(f|0)?(h=+u[i+(l<<8)+40>>3],!(h<+u[w>>3])):0)if(!((s|0)!=-1?!(+u[i+(s<<8)+40>>3]<h):0))s=l;l=l+1|0}while((l|0)<(r|0))}else s=-1;n[v+(S*320|0)+304>>2]=s;if((s|0)>-1)n[i+(s<<8)+16>>2]=n[i+(s<<8)+20>>2]}else{l=v+(S*320|0)+312|0;d=v+(S*320|0)|0;if(g){b=0;s=-1;do{f=n[i+(b<<8)+12>>2]|0;if((f|0)==0?(E=i+(b<<8)+248|0,p=n[E>>2]|0,E=n[E+4>>2]|0,!((p|0)==0&(E|0)==0)):0){f=l;if((p|0)==(n[f>>2]|0)?(E|0)==(n[f+4>>2]|0):0)x=20}else if((f|0)==(n[d>>2]|0))x=20;if((x|0)==20){x=0;o=+u[i+(b<<8)+48>>3];if(!(o<+u[m>>3]))if(!((s|0)!=-1?!(+u[i+(s<<8)+48>>3]<o):0))s=b}b=b+1|0}while((b|0)<(r|0))}else s=-1;n[v+(S*320|0)+304>>2]=s;if((s|0)>-1)n[i+(s<<8)+16>>2]=n[i+(s<<8)+24>>2]}S=S+1|0}while((S|0)<(k|0))}if((k|0)>0){w=0;s=0;k=0;f=0;while(1){l=n[t>>2]|0;d=n[l+(w*320|0)+304>>2]|0;do{if((d|0)<0)l=k;else{b=i+(d<<8)|0;if(+_l(e,b,+u[l+(w*320|0)+8>>3],T)>4.0){n[(n[t>>2]|0)+(w*320|0)+304>>2]=-1;l=i+(d<<8)+236|0;if(n[l>>2]|0){l=k;break}n[l>>2]=7;l=k;break}l=n[b>>2]|0;if((f|0)==0|(k|0)<(l|0)){s=0;do{u[R+(s<<5)>>3]=+u[T+(s<<5)>>3];u[R+(s<<5)+8>>3]=+u[T+(s<<5)+8>>3];u[R+(s<<5)+16>>3]=+u[T+(s<<5)+16>>3];u[R+(s<<5)+24>>3]=+u[T+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3);s=w}else l=k;f=f+1|0}}while(0);w=w+1|0;if((w|0)>=(n[A>>2]|0))break;else k=l}}else{s=0;f=0}do{if((f|0)!=0?(f|0)>=(n[t+128>>2]|0):0){ro(R,(n[t>>2]|0)+(s*320|0)+112|0,T)|0;k=f<<2;m=Un(f<<6)|0;if(!m){io(3,5472,y);vi(1)}w=Un(f*96|0)|0;if(!w){io(3,5472,M);vi(1)}l=n[A>>2]|0;if((l|0)>0){d=n[t>>2]|0;b=0;s=0;do{f=n[d+(b*320|0)+304>>2]|0;if((f|0)>=0){y=n[i+(f<<8)+16>>2]|0;r=(4-y|0)%4|0;M=s<<3;u[m+(M<<3)>>3]=+u[i+(f<<8)+168+(r<<4)>>3];u[m+((M|1)<<3)>>3]=+u[i+(f<<8)+168+(r<<4)+8>>3];r=(5-y|0)%4|0;u[m+((M|2)<<3)>>3]=+u[i+(f<<8)+168+(r<<4)>>3];u[m+((M|3)<<3)>>3]=+u[i+(f<<8)+168+(r<<4)+8>>3];r=(6-y|0)%4|0;u[m+((M|4)<<3)>>3]=+u[i+(f<<8)+168+(r<<4)>>3];u[m+((M|5)<<3)>>3]=+u[i+(f<<8)+168+(r<<4)+8>>3];y=(7-y|0)%4|0;u[m+((M|6)<<3)>>3]=+u[i+(f<<8)+168+(y<<4)>>3];u[m+((M|7)<<3)>>3]=+u[i+(f<<8)+168+(y<<4)+8>>3];M=s*12|0;u[w+(M<<3)>>3]=+u[d+(b*320|0)+208>>3];u[w+((M|1)<<3)>>3]=+u[d+(b*320|0)+216>>3];u[w+((M|2)<<3)>>3]=+u[d+(b*320|0)+224>>3];u[w+((M|3)<<3)>>3]=+u[d+(b*320|0)+232>>3];u[w+(M+4<<3)>>3]=+u[d+(b*320|0)+240>>3];u[w+(M+5<<3)>>3]=+u[d+(b*320|0)+248>>3];u[w+(M+6<<3)>>3]=+u[d+(b*320|0)+256>>3];u[w+(M+7<<3)>>3]=+u[d+(b*320|0)+264>>3];u[w+(M+8<<3)>>3]=+u[d+(b*320|0)+272>>3];u[w+(M+9<<3)>>3]=+u[d+(b*320|0)+280>>3];y=n[t>>2]|0;u[w+(M+10<<3)>>3]=+u[y+(b*320|0)+288>>3];u[w+(M+11<<3)>>3]=+u[y+(b*320|0)+296>>3];s=s+1|0}b=b+1|0}while((b|0)<(l|0))}d=t+104|0;f=(a|0)!=0;if(!(n[d>>2]|0)){s=t+8|0;o=+Sl(e,T,m,w,k,s);if(f&o>=20.0){Uo(n[e>>2]|0,.8)|0;o=+yl(e,T,m,w,k,s);if(o>=20.0){Uo(n[e>>2]|0,.6)|0;o=+yl(e,T,m,w,k,s);if(o>=20.0){Uo(n[e>>2]|0,.4)|0;o=+yl(e,T,m,w,k,s);if(o>=20.0){Uo(n[e>>2]|0,0.0)|0;o=+yl(e,T,m,w,k,s)}}}}Bn(w);Bn(m)}else{o=+Sl(e,T,m,w,k,R);l=t+8|0;h=+Sl(e,l,m,w,k,l);s=o<h;do{if(f){if(s){s=0;do{u[t+8+(s<<5)>>3]=+u[R+(s<<5)>>3];u[t+8+(s<<5)+8>>3]=+u[R+(s<<5)+8>>3];u[t+8+(s<<5)+16>>3]=+u[R+(s<<5)+16>>3];u[t+8+(s<<5)+24>>3]=+u[R+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20.0){Uo(n[e>>2]|0,.8)|0;o=+yl(e,T,m,w,k,R);h=+yl(e,l,m,w,k,l);if(o<h){s=0;do{u[t+8+(s<<5)>>3]=+u[R+(s<<5)>>3];u[t+8+(s<<5)+8>>3]=+u[R+(s<<5)+8>>3];u[t+8+(s<<5)+16>>3]=+u[R+(s<<5)+16>>3];u[t+8+(s<<5)+24>>3]=+u[R+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20.0){Uo(n[e>>2]|0,.6)|0;o=+yl(e,T,m,w,k,R);h=+yl(e,l,m,w,k,l);if(o<h){s=0;do{u[t+8+(s<<5)>>3]=+u[R+(s<<5)>>3];u[t+8+(s<<5)+8>>3]=+u[R+(s<<5)+8>>3];u[t+8+(s<<5)+16>>3]=+u[R+(s<<5)+16>>3];u[t+8+(s<<5)+24>>3]=+u[R+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20.0){Uo(n[e>>2]|0,.4)|0;o=+yl(e,T,m,w,k,R);h=+yl(e,l,m,w,k,l);if(o<h){s=0;do{u[t+8+(s<<5)>>3]=+u[R+(s<<5)>>3];u[t+8+(s<<5)+8>>3]=+u[R+(s<<5)+8>>3];u[t+8+(s<<5)+16>>3]=+u[R+(s<<5)+16>>3];u[t+8+(s<<5)+24>>3]=+u[R+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h;if(o>=20.0){Uo(n[e>>2]|0,0.0)|0;o=+yl(e,T,m,w,k,R);h=+yl(e,l,m,w,k,l);if(o<h)s=0;else{o=h;break}do{u[t+8+(s<<5)>>3]=+u[R+(s<<5)>>3];u[t+8+(s<<5)+8>>3]=+u[R+(s<<5)+8>>3];u[t+8+(s<<5)+16>>3]=+u[R+(s<<5)+16>>3];u[t+8+(s<<5)+24>>3]=+u[R+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}}}}}else if(s){s=0;do{u[t+8+(s<<5)>>3]=+u[R+(s<<5)>>3];u[t+8+(s<<5)+8>>3]=+u[R+(s<<5)+8>>3];u[t+8+(s<<5)+16>>3]=+u[R+(s<<5)+16>>3];u[t+8+(s<<5)+24>>3]=+u[R+(s<<5)+24>>3];s=s+1|0}while((s|0)!=3)}else o=h}while(0);Bn(w);Bn(m)}if(o<20.0){n[d>>2]=1;break}n[d>>2]=0;d=n[A>>2]|0;if((d|0)>0){s=n[t>>2]|0;l=0;do{f=n[s+(l*320|0)+304>>2]|0;if((f|0)>=0?(C=i+(f<<8)+236|0,(n[C>>2]|0)==0):0)n[C>>2]=8;l=l+1|0}while((l|0)<(d|0))}}else x=38}while(0);if((x|0)==38){n[t+104>>2]=0;o=-1.0}c=F;return+o}function Qo(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,P=0,O=0,D=0,N=0,H=0,I=0,L=0,j=0,V=0,U=0,B=0,W=0,z=0,Y=0,q=0,G=0.0,K=0.0;q=c;c=c+2544|0;z=q+208|0;W=q+200|0;P=q+184|0;B=q+176|0;F=q+168|0;x=q+152|0;U=q+144|0;C=q+136|0;L=q+128|0;I=q+120|0;H=q+112|0;A=q+104|0;s=q+96|0;o=q+88|0;a=q+80|0;t=q+72|0;r=q+64|0;O=q;D=q+2280|0;N=q+232|0;M=q+224|0;V=q+220|0;R=q+216|0;T=q+212|0;Y=qa(e,5306)|0;e:do{if(!Y){n[r>>2]=e;io(3,5308,r);r=ca(n[(ua()|0)>>2]|0)|0;n[t>>2]=5367;n[t+4>>2]=r;io(3,5361,t);r=0}else{$o(D,Y);n[a>>2]=V;if((nn(D,5368,a)|0)!=1){n[o>>2]=e;io(3,5371,o);Ba(Y)|0;r=0;break}r=n[V>>2]|0;j=Un(r*320|0)|0;if(!j){io(3,5472,s);vi(1)}m=O+8|0;p=O+16|0;E=O+24|0;v=O+32|0;_=O+40|0;g=O+48|0;S=O+56|0;y=(i|0)==0;i:do{if((r|0)>0){r=0;a=0;r:while(1){$o(D,Y);t=j+(r*320|0)|0;o=j+(r*320|0)+312|0;n[A>>2]=o;n[A+4>>2]=M;if((nn(D,5489,A)|0)==1){w=n[o>>2]|0;n[t>>2]=(w&-32768|0)==0&0==0?w&32767:0;n[j+(r*320|0)+4>>2]=1;a=a|2}else{if(y){t=10;break}if(!(no(N,e,2048,1)|0)){t=12;break}Sn(N,D,2047-(gn(N)|0)|0)|0;w=$n(i,N)|0;n[t>>2]=w;if((w|0)<0){t=14;break}n[j+(r*320|0)+4>>2]=0;a=a|1}$o(D,Y);t=j+(r*320|0)+8|0;n[C>>2]=t;if((nn(D,5785,C)|0)!=1){t=18;break}$o(D,Y);b=j+(r*320|0)+16|0;k=j+(r*320|0)+24|0;w=j+(r*320|0)+40|0;n[x>>2]=b;n[x+4>>2]=k;n[x+8>>2]=j+(r*320|0)+32;n[x+12>>2]=w;if((nn(D,5894,x)|0)!=4){n[F>>2]=R;n[F+4>>2]=T;if((nn(D,5910,F)|0)==2)o=0;else{t=21;break}}else o=1;do{$o(D,Y);n[P>>2]=j+(r*320|0)+16+(o<<5);n[P+4>>2]=j+(r*320|0)+16+(o<<5)+8;n[P+8>>2]=j+(r*320|0)+16+(o<<5)+16;n[P+12>>2]=j+(r*320|0)+16+(o<<5)+24;if((nn(D,5894,P)|0)!=4){t=23;break r}o=o+1|0}while((o|0)<3);to(b,j+(r*320|0)+112|0)|0;K=+u[t>>3];G=K*-.5;u[O>>3]=G;K=K*.5;u[m>>3]=K;u[p>>3]=K;u[E>>3]=K;u[v>>3]=K;u[_>>3]=G;u[g>>3]=G;u[S>>3]=G;t=j+(r*320|0)+48|0;o=j+(r*320|0)+56|0;s=j+(r*320|0)+72|0;f=j+(r*320|0)+80|0;l=j+(r*320|0)+88|0;d=j+(r*320|0)+104|0;h=0;do{G=+u[O+(h<<4)>>3];K=+u[O+(h<<4)+8>>3];u[j+(r*320|0)+208+(h*24|0)>>3]=+u[w>>3]+(+u[b>>3]*G+ +u[k>>3]*K);u[j+(r*320|0)+208+(h*24|0)+8>>3]=+u[s>>3]+(+u[t>>3]*G+ +u[o>>3]*K);u[j+(r*320|0)+208+(h*24|0)+16>>3]=+u[d>>3]+(+u[f>>3]*G+ +u[l>>3]*K);h=h+1|0}while((h|0)!=4);r=r+1|0;if((r|0)>=(n[V>>2]|0))break i}if((t|0)==10){n[H>>2]=e;n[H+4>>2]=D;io(3,5496,H)}else if((t|0)==12){n[I>>2]=e;io(3,5624,I)}else if((t|0)==14){n[L>>2]=e;n[L+4>>2]=N;io(3,5708,L)}else if((t|0)==18){n[U>>2]=e;n[U+4>>2]=r+1;io(3,5789,U)}else if((t|0)==21){n[B>>2]=e;n[B+4>>2]=r+1;io(3,5916,B)}else if((t|0)==23){n[W>>2]=e;n[W+4>>2]=r+1;io(3,5916,W)}Ba(Y)|0;Bn(j);r=0;break e}else a=0}while(0);Ba(Y)|0;r=Un(136)|0;if(!r){io(3,5472,z);vi(1)}n[r>>2]=j;n[r+4>>2]=n[V>>2];n[r+104>>2]=0;do{if((a&3|0)!=3){t=r+108|0;if(!(a&1)){n[t>>2]=1;break}else{n[t>>2]=0;break}}else n[r+108>>2]=2}while(0);u[r+112>>3]=.5;u[r+120>>3]=.5}}while(0);c=q;return r|0}function $o(e,i){e=e|0;i=i|0;var r=0,a=0;e:do{if(Ya(e,256,i)|0)while(1){r=gn(e)|0;i:do{if(r)while(1){r=r+-1|0;a=e+r|0;switch(t[a>>0]|0){case 13:case 10:break;default:break i}t[a>>0]=0;if(!r)break i}}while(0);switch(t[e>>0]|0){case 0:case 35:break;default:break e}if(!(Ya(e,256,i)|0))break e}}while(0);return}function es(e,i,r,t){e=e|0;i=+i;r=+r;t=t|0;var a=0,o=0.0,s=0.0,f=0,l=0.0,d=0.0,h=0,b=0,k=0,w=0,m=0;m=c;c=c+400|0;h=m+296|0;w=m+200|0;b=m+128|0;k=m;f=n[e>>2]|0;a=n[e+4>>2]|0;if((Eo(e+8|0,h,w)|0)<0)io(3,6025,m+392|0);else{s=+(a+-1|0);a=h+32|0;u[a>>3]=s*+u[h+64>>3]-+u[a>>3];a=h+40|0;u[a>>3]=s*+u[h+72>>3]-+u[a>>3];a=h+48|0;u[a>>3]=s*+u[h+80>>3]-+u[a>>3];a=h+56|0;u[a>>3]=s*+u[h+88>>3]-+u[a>>3];o=+u[h+80>>3];a=0;do{u[b+(a*24|0)>>3]=+u[h+(a<<5)>>3]/o;u[b+(a*24|0)+8>>3]=+u[h+(a<<5)+8>>3]/o;u[b+(a*24|0)+16>>3]=+u[h+(a<<5)+16>>3]/o;a=a+1|0}while((a|0)!=3);o=+(f+-1|0);u[k>>3]=+u[b>>3]*2.0/o;u[k+8>>3]=+u[b+8>>3]*2.0/o;u[k+16>>3]=+u[b+16>>3]*2.0/o+-1.0;f=k+24|0;n[f>>2]=0;n[f+4>>2]=0;n[f+8>>2]=0;n[f+12>>2]=0;u[k+40>>3]=+u[b+32>>3]*2.0/s;u[k+48>>3]=+u[b+40>>3]*2.0/s+-1.0;f=k+56|0;o=r-i;n[f>>2]=0;n[f+4>>2]=0;n[f+8>>2]=0;n[f+12>>2]=0;n[f+16>>2]=0;n[f+20>>2]=0;u[k+80>>3]=(i+r)/o;u[k+88>>3]=r*-2.0*i/o;f=k+96|0;n[f>>2]=0;n[f+4>>2]=0;n[f+8>>2]=0;n[f+12>>2]=0;u[k+112>>3]=1.0;u[k+120>>3]=0.0;o=+u[w+24>>3];s=+u[w+56>>3];r=+u[w+88>>3];f=0;do{i=+u[k+(f<<5)>>3];a=k+(f<<5)+8|0;e=k+(f<<5)+16|0;l=+u[a>>3];d=+u[e>>3];h=0;do{u[t+((h<<2)+f<<3)>>3]=i*+u[w+(h<<3)>>3]+l*+u[w+32+(h<<3)>>3]+d*+u[w+64+(h<<3)>>3];h=h+1|0}while((h|0)!=3);u[t+(f+12<<3)>>3]=+u[k+(f<<5)+24>>3]+(i*o+ +u[a>>3]*s+ +u[e>>3]*r);f=f+1|0}while((f|0)!=4)}c=m;return}function is(e){e=e|0;n[496]=e;return}function rs(){return n[496]|0}function ts(e){e=e|0;var i=0,r=0;i=e+212|0;r=n[i>>2]|0;if(r){Hl(r)|0;$f(n[i>>2]|0)|0;n[i>>2]=0}i=e+224|0;if(n[i>>2]|0){Kf(i)|0;n[i>>2]=0}i=e+192|0;if(n[i>>2]|0){To(i)|0;n[i>>2]=0}return}function as(e){e=e|0;var i=0,r=0,t=0,a=0,o=0;o=c;c=c+16|0;r=o;n[r>>2]=e;if(!(Ys(2044,r)|0))e=-1;else{a=qs(2044,r)|0;e=a+196|0;i=n[e>>2]|0;if(i){Bn(i);n[e>>2]=0;n[a+200>>2]=0}ts(a);jl(n[a+216>>2]|0)|0;Gs(2044,r)|0;r=a+248|0;t=a+252|0;e=n[r>>2]|0;if((n[t>>2]|0)!=(e|0)){i=0;do{Ko(n[e+(i<<3)+4>>2]|0)|0;i=i+1|0;e=n[r>>2]|0}while(i>>>0<(n[t>>2]|0)-e>>3>>>0)}Ks(r);Ft(r);Ks(a+248|0);Ft(a);e=0}c=o;return e|0}function ns(e){e=e|0;var i=0,r=0,a=0,o=0,s=0;s=c;c=c+208|0;o=s+192|0;a=s;r=s+196|0;if(!(t[e>>0]&1))i=e+1|0;else i=n[e+8>>2]|0;if((go(i,1,a,s+184|0)|0)<0){if(!(t[e>>0]&1))i=e+1|0;else i=n[e+8>>2]|0;n[o>>2]=i;io(3,6093,o);i=-1}else{i=n[521]|0;n[521]=i+1;n[r>>2]=i;Zl(Xs(2064,r)|0,a|0,184)|0}c=s;return i|0}function os(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,d=0,h=0;h=c;c=c+48|0;d=h+24|0;l=h+16|0;s=h+8|0;a=h;r=h+32|0;t=h+28|0;n[r>>2]=e;n[t>>2]=i;do{if((Ys(2044,r)|0)!=0?(f=qs(2044,r)|0,(Js(2064,t)|0)!=0):0){o=f+8|0;Zl(o|0,Xs(2064,t)|0,184)|0;t=n[o>>2]|0;r=f+204|0;i=n[f+12>>2]|0;e=f+208|0;if(!((t|0)==(n[r>>2]|0)?(i|0)==(n[e>>2]|0):0)){n[a>>2]=t;n[a+4>>2]=i;io(2,6152,a);po(o,n[r>>2]|0,n[e>>2]|0,o)|0}ts(f);r=Ro(o,15)|0;e=f+192|0;n[e>>2]=r;if(!r){io(3,6199,s);r=-1;break}r=Xf(r)|0;i=f+212|0;n[i>>2]=r;if(!r){io(3,6237,l);r=-1;break}Jf(r,2)|0;l=qf(o)|0;n[f+224>>2]=l;if(!l){io(3,6274,d);r=-1;break}else{Nl(n[i>>2]|0,n[f+216>>2]|0)|0;es(n[e>>2]|0,+u[f+232>>3],+u[f+240>>3],f+264|0);r=0;break}}else r=-1}while(0);c=h;return r|0}function ss(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0,f=0;f=c;c=c+16|0;s=f+8|0;o=f;r=f+12|0;n[r>>2]=e;if(Ys(2044,r)|0){a=qs(2044,r)|0;if(!(t[i>>0]&1))i=i+1|0;else i=n[i+8>>2]|0;e=a+216|0;r=$n(n[e>>2]|0,i)|0;n[a+260>>2]=r;if((r|0)<0){n[o>>2]=i;io(3,6312,o);jl(n[e>>2]|0)|0;io(3,6358,s);r=-1}}else r=-1;c=f;return r|0}function fs(e,i){e=e|0;i=i|0;var r=0,a=0,o=0,s=0,f=0,l=0,u=0;u=c;c=c+32|0;o=u+16|0;a=u+8|0;r=u+20|0;l=u;n[r>>2]=e;do{if(Ys(2044,r)|0){f=qs(2044,r)|0;if(!(t[i>>0]&1))r=i+1|0;else r=n[i+8>>2]|0;e=n[f+212>>2]|0;i=f+216|0;s=f+220|0;r=Qo(r,n[i>>2]|0)|0;n[s>>2]=r;if(!r){io(3,6402,a);jl(n[i>>2]|0)|0;io(3,6429,o);r=-1;break}switch(n[r+108>>2]|0){case 0:{fl(e,0)|0;break}case 1:{fl(e,2)|0;break}default:fl(e,3)|0}e=f+248|0;i=f+252|0;a=n[i>>2]|0;r=a-(n[e>>2]|0)>>3;o=l;n[o>>2]=0;n[o+4>>2]=0;n[l>>2]=r;n[l+4>>2]=n[s>>2];if((a|0)==(n[f+256>>2]|0)){Zs(e,l);break}else{f=l;r=n[f>>2]|0;f=n[f+4>>2]|0;l=a;n[l>>2]=r;n[l+4>>2]=f;n[i>>2]=(n[i>>2]|0)+8;break}}else r=-1}while(0);c=u;return r|0}function ls(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0;o=c;c=c+16|0;r=o;n[r>>2]=e;if(((Ys(2044,r)|0)!=0?(t=qs(2044,r)|0,(i|0)>=0):0)?(a=n[t+248>>2]|0,(n[t+252>>2]|0)-a>>3>>>0>i>>>0):0)r=n[(n[a+(i<<3)+4>>2]|0)+4>>2]|0;else r=-1;c=o;return r|0}function us(e){e=e|0;var i=0,r=0;r=c;c=c+16|0;i=r;n[i>>2]=e;if(!(Ys(2044,i)|0))i=-1;else{i=qs(2044,i)|0;i=(n[i+252>>2]|0)-(n[i+248>>2]|0)>>3}c=r;return i|0}function cs(e,i){e=e|0;i=+i;var r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;if(Ys(2044,r)|0)u[(qs(2044,r)|0)+232>>3]=i;c=t;return}function ds(e){e=e|0;var i=0.0,r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;if(!(Ys(2044,r)|0))i=-1.0;else i=+u[(qs(2044,r)|0)+232>>3];c=t;return+i}function hs(e,i){e=e|0;i=+i;var r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;if(Ys(2044,r)|0)u[(qs(2044,r)|0)+240>>3]=i;c=t;return}function bs(e){e=e|0;var i=0.0,r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;if(!(Ys(2044,r)|0))i=-1.0;else i=+u[(qs(2044,r)|0)+240>>3];c=t;return+i}function ks(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;a=c;c=c+16|0;t=a;r=a+4|0;n[r>>2]=e;if((Ys(2044,r)|0)!=0?(fl(n[(qs(2044,r)|0)+212>>2]|0,i)|0)==0:0){n[t>>2]=i;io(1,6478,t)}c=a;return}function ws(e){e=e|0;var i=0,r=0,t=0;t=c;c=c+16|0;i=t+4|0;r=t;n[i>>2]=e;if(!(Ys(2044,i)|0)){c=t;return-1}else{e=(cl(n[(qs(2044,i)|0)+212>>2]|0,r)|0)==0;c=t;return(e?n[r>>2]|0:-1)|0}return 0}function ms(e,i){e=e|0;i=+i;var r=0,t=0,a=0.0,o=0,s=0,f=0;f=c;c=c+16|0;s=f;r=f+8|0;n[r>>2]=e;if((((Ys(2044,r)|0)!=0?(t=qs(2044,r)|0,!(i<=0.0|i>=1.0)):0)?(a=i,o=n[t+212>>2]|0,(o|0)!=0):0)?(dl(o,a)|0)==0:0){u[s>>3]=a;io(1,6513,s)}c=f;return}function ps(e){e=e|0;var i=0,r=0,t=0,a=0;a=c;c=c+16|0;i=a+8|0;t=a;n[i>>2]=e;if((Ys(2044,i)|0)!=0?(r=n[(qs(2044,i)|0)+212>>2]|0,(r|0)!=0):0){e=(hl(r,t)|0)==0;c=a;return+(e?+u[t>>3]:-1.0)}c=a;return-1.0}function Es(e,i){e=e|0;i=i|0;var r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;if(Ys(2044,r)|0)ll(n[(qs(2044,r)|0)+212>>2]|0,i)|0;c=t;return}function vs(e){e=e|0;var i=0,r=0,t=0;t=c;c=c+16|0;i=t+4|0;r=t;n[i>>2]=e;if(!(Ys(2044,i)|0))i=-1;else{ul(n[(qs(2044,i)|0)+212>>2]|0,r)|0;i=n[r>>2]|0}c=t;return i|0}function _s(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;a=c;c=c+16|0;t=a;r=a+4|0;n[r>>2]=e;if((Ys(2044,r)|0)!=0?(il(n[(qs(2044,r)|0)+212>>2]|0,i)|0)==0:0){n[t>>2]=i;io(1,6544,t)}c=a;return}function gs(e){e=e|0;var i=0,r=0,t=0;t=c;c=c+16|0;i=t+4|0;r=t;n[i>>2]=e;if(!(Ys(2044,i)|0)){c=t;return-1}else{e=(rl(n[(qs(2044,i)|0)+212>>2]|0,r)|0)==0;c=t;return(e?n[r>>2]|0:-1)|0}return 0}function Ss(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0;o=c;c=c+16|0;a=o;r=o+4|0;n[r>>2]=e;if(((Ys(2044,r)|0)!=0?(t=qs(2044,r)|0,i>>>0<=255):0)?(tl(n[t+212>>2]|0,i)|0)==0:0){n[a>>2]=i;io(1,6569,a)}c=o;return}function ys(e){e=e|0;var i=0,r=0,t=0;t=c;c=c+16|0;i=t+4|0;r=t;n[i>>2]=e;if(!(Ys(2044,i)|0)){c=t;return-1}else{e=(al(n[(qs(2044,i)|0)+212>>2]|0,r)|0)==0;c=t;return(e?n[r>>2]|0:-1)|0}return 0}function Ms(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;a=c;c=c+16|0;t=a;r=a+4|0;n[r>>2]=e;if((Ys(2044,r)|0)!=0?(Qf(n[(qs(2044,r)|0)+212>>2]|0,i)|0)==0:0){n[t>>2]=i;io(1,6590,t)}c=a;return}function Rs(e){e=e|0;var i=0,r=0,t=0;t=c;c=c+16|0;i=t+4|0;r=t;n[i>>2]=e;if(!(Ys(2044,i)|0)){c=t;return-1}else{e=(nl(n[(qs(2044,i)|0)+212>>2]|0,r)|0)==0;c=t;return(e?n[r>>2]|0:-1)|0}return 0}function Ts(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;a=c;c=c+16|0;t=a;r=a+4|0;n[r>>2]=e;if(!(Ys(2044,r)|0))i=0;else{e=(i|0)!=0;Zf(n[(qs(2044,r)|0)+212>>2]|0,e&1)|0;n[t>>2]=e?6616:6620;io(1,6625,t)}c=a;return i|0}function As(e){e=e|0;var i=0,r=0;r=c;c=c+16|0;i=r;n[i>>2]=e;if(!(Ys(2044,i)|0))i=0;else i=n[(n[(qs(2044,i)|0)+212>>2]|0)+4834148>>2]|0;c=r;return i|0}function Cs(e){e=e|0;var i=0,r=0,t=0;t=c;c=c+16|0;i=t+4|0;r=t;n[i>>2]=e;if(!(Ys(2044,i)|0))i=0;else{el(n[(qs(2044,i)|0)+212>>2]|0,r)|0;i=n[r>>2]|0}c=t;return i|0}function xs(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;a=c;c=c+16|0;t=a;r=a+4|0;n[r>>2]=e;if((Ys(2044,r)|0)!=0?(ol(n[(qs(2044,r)|0)+212>>2]|0,i)|0)==0:0){n[t>>2]=i;io(1,6647,t)}c=a;return}function Fs(e){e=e|0;var i=0,r=0,t=0;t=c;c=c+16|0;i=t+4|0;r=t;n[i>>2]=e;if(!(Ys(2044,i)|0)){c=t;return-1}else{e=(sl(n[(qs(2044,i)|0)+212>>2]|0,r)|0)==0;c=t;return(e?n[r>>2]|0:-1)|0}return 0}function Ps(e,i){e=e|0;i=i|0;var r=0;r=0;do{u[i+(r<<5)>>3]=+u[e+(r<<5)>>3];u[i+(r<<5)+8>>3]=+u[e+(r<<5)+8>>3];u[i+(r<<5)+16>>3]=+u[e+(r<<5)+16>>3];u[i+(r<<5)+24>>3]=+u[e+(r<<5)+24>>3];r=r+1|0}while((r|0)!=3);return}function Os(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;a=c;c=c+16|0;t=a;n[t>>2]=e;do{if(Ys(2044,t)|0){t=qs(2044,t)|0;e=n[t+212>>2]|0;if((n[e+44>>2]|0)>(i|0)){+_l(n[t+224>>2]|0,(i|0)<0?8:e+48+(i<<8)|0,+(r|0),264);t=0;break}else{t=n[523]|0;break}}else t=n[522]|0}while(0);c=a;return t|0}function Ds(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;a=c;c=c+16|0;t=a;n[t>>2]=e;do{if(Ys(2044,t)|0){t=qs(2044,t)|0;e=n[t+212>>2]|0;if((n[e+44>>2]|0)>(i|0)){+gl(n[t+224>>2]|0,(i|0)<0?8:e+48+(i<<8)|0,264,+(r|0),264);t=0;break}else{t=n[523]|0;break}}else t=n[522]|0}while(0);c=a;return t|0}function Ns(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;a=c;c=c+16|0;t=a;n[t>>2]=e;do{if(Ys(2044,t)|0){t=n[(qs(2044,t)|0)+212>>2]|0;if((n[t+44>>2]|0)>(i|0)){n[((i|0)<0?8:t+48+(i<<8)|0)+16>>2]=r;t=0;break}else{t=n[523]|0;break}}else t=n[522]|0}while(0);c=a;return t|0}function Hs(e,i){e=e|0;i=i|0;var r=0,t=0,a=0.0,o=0.0,s=0.0,f=0.0,l=0.0,d=0.0,h=0.0,b=0.0;t=c;c=c+16|0;r=t;n[r>>2]=e;do{if(Ys(2044,r)|0){r=n[(qs(2044,r)|0)+212>>2]|0;if((n[r+44>>2]|0)>(i|0)){r=(i|0)<0?8:r+48+(i<<8)|0;b=+u[33];u[r+168>>3]=b;f=+u[34];u[r+176>>3]=f;h=+u[35];u[r+184>>3]=h;s=+u[36];u[r+192>>3]=s;d=+u[37];u[r+200>>3]=d;o=+u[38];u[r+208>>3]=o;l=+u[39];u[r+216>>3]=l;a=+u[40];u[r+224>>3]=a;u[r+56>>3]=(b+h+d+l)*.25;u[r+64>>3]=(f+s+o+a)*.25;r=0;break}else{r=n[523]|0;break}}else r=n[522]|0}while(0);c=t;return r|0}function Is(e,i){e=e|0;i=i|0;var r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;do{if(Ys(2044,r)|0){r=qs(2044,r)|0;e=n[r+248>>2]|0;if((i|0)<0?1:(n[r+252>>2]|0)-e>>3>>>0<=i>>>0){r=n[524]|0;break}else{i=n[e+(i<<3)+4>>2]|0;e=n[r+212>>2]|0;+Jo(n[r+224>>2]|0,e+48|0,n[e+44>>2]|0,i);Ps(i+8|0,264);r=0;break}}else r=n[522]|0}while(0);c=t;return r|0}function Ls(e,i){e=e|0;i=i|0;var r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;do{if(Ys(2044,r)|0){r=qs(2044,r)|0;e=n[r+248>>2]|0;if((i|0)<0?1:(n[r+252>>2]|0)-e>>3>>>0<=i>>>0){r=n[524]|0;break}else{i=n[e+(i<<3)+4>>2]|0;e=n[r+212>>2]|0;+Xo(n[r+224>>2]|0,e+48|0,n[e+44>>2]|0,i);Ps(i+8|0,264);r=0;break}}else r=n[522]|0}while(0);c=t;return r|0}function js(e){e=e|0;var i=0,r=0;r=c;c=c+16|0;i=r;n[i>>2]=e;if(!(Ys(2044,i)|0))i=n[522]|0;else{i=qs(2044,i)|0;i=bl(n[i+212>>2]|0,n[i+196>>2]|0)|0}c=r;return i|0}function Vs(e){e=e|0;var i=0,r=0;r=c;c=c+16|0;i=r;n[i>>2]=e;if(!(Ys(2044,i)|0))i=2088;else i=(n[(qs(2044,i)|0)+212>>2]|0)+44|0;c=r;return n[i>>2]|0}function Us(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;a=c;c=c+16|0;t=a;n[t>>2]=e;do{if(Ys(2044,t)|0){e=qs(2044,t)|0;t=n[e+248>>2]|0;if((i|0)<0?1:(n[e+252>>2]|0)-t>>3>>>0<=i>>>0){t=n[524]|0;break}t=n[t+(i<<3)+4>>2]|0;if((r|0)<0?1:(n[t+4>>2]|0)<=(r|0)){t=n[523]|0;break}else{t=n[t>>2]|0;Ps(t+(r*320|0)+16|0,264);Vi(0,n[t+(r*320|0)+304>>2]|0,n[t+(r*320|0)>>2]|0,n[t+(r*320|0)+4>>2]|0,+ +u[t+(r*320|0)+8>>3])|0;t=0;break}}else t=n[522]|0}while(0);c=a;return t|0}function Bs(e,i){e=e|0;i=i|0;var r=0,t=0;t=c;c=c+16|0;r=t;n[r>>2]=e;do{if(Ys(2044,r)|0){r=n[(qs(2044,r)|0)+212>>2]|0;if((n[r+44>>2]|0)>(i|0)){r=(i|0)<0?8:r+48+(i<<8)|0;Ye(1,n[r>>2]|0,n[r+4>>2]|0,n[r+8>>2]|0,n[r+12>>2]|0,n[r+16>>2]|0,n[r+20>>2]|0,n[r+24>>2]|0,+ +u[r+32>>3],+ +u[r+40>>3],+ +u[r+48>>3],+ +u[r+56>>3],+ +u[r+64>>3],+ +u[r+72>>3],+ +u[r+80>>3],+ +u[r+88>>3],+ +u[r+96>>3],+ +u[r+104>>3],+ +u[r+112>>3],+ +u[r+120>>3],+ +u[r+128>>3],+ +u[r+136>>3],+ +u[r+144>>3],+ +u[r+152>>3],+ +u[r+160>>3],+ +u[r+168>>3],+ +u[r+176>>3],+ +u[r+184>>3],+ +u[r+192>>3],+ +u[r+200>>3],+ +u[r+208>>3],+ +u[r+216>>3],+ +u[r+224>>3],n[r+240>>2]|0)|0;r=0;break}else{r=n[523]|0;break}}else r=n[522]|0}while(0);c=t;return r|0}function Ws(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0,o=0,s=0,f=0;s=c;c=c+16|0;o=s+8|0;a=s+12|0;t=n[525]|0;n[525]=t+1;n[a>>2]=t;a=qs(2044,a)|0;n[a>>2]=t;n[a+204>>2]=e;n[a+208>>2]=i;f=re(e<<2,i)|0;i=a+200|0;n[i>>2]=f;e=a+196|0;n[e>>2]=Un(f)|0;f=Il()|0;n[a+216>>2]=f;if(!f)io(3,8285,s);os(t,r)|0;n[o>>2]=n[i>>2];io(1,8322,o);ji(2,n[a>>2]|0,n[e>>2]|0,n[i>>2]|0,a+264|0,264)|0;c=s;return n[a>>2]|0}function zs(e){e=e|0;var i=0;e=c;c=c+16|0;i=e;Qs(8591,7);$s(8597,3);ef(8606,2);ef(8617,3);rf(8633,4);$s(8651,4);tf(8671,5);Qs(8683,8);rf(8700,5);Qs(8720,9);Qs(8738,10);rf(8760,6);rf(8783,7);$s(8812,6);$s(8825,7);Qs(8838,11);rf(8857,8);rf(8867,9);$s(8880,8);$s(8893,9);af(8912,10);nf(8924,1);of(8936,1);sf(8959,1);of(8982,2);sf(9004,2);ff(9026,1);$s(9043,10);ff(9060,2);$s(9073,11);ff(9086,3);$s(9110,12);lf(9134,3);sf(9147,3);ff(9160,4);$s(9178,13);ff(9196,5);$s(9212,14);ff(9228,6);$s(9245,15);uf(9262,2088);uf(9291,2096);uf(9319,2092);Fi(9352,680,0);Fi(9369,680,1);Fi(9385,680,0);Fi(9407,680,0);Fi(9432,680,1);Fi(9457,680,1);Fi(9482,680,100);Fi(9509,680,0);Fi(9535,680,1);Fi(9561,680,0);Fi(9588,680,0);Fi(9615,680,1);Fi(9641,680,2);Fi(9666,680,3);Fi(9704,680,4);Fi(9741,680,0);Fi(9775,680,0);Fi(9799,680,1);Fi(9825,680,2);Fi(9852,680,2);Fi(9886,680,5);u[i>>3]=.5;cf(9904,i);Fi(9925,680,0);Fi(9944,680,1);Fi(9962,680,2);Fi(9980,680,3);Fi(9999,680,4);Fi(10021,680,3);Fi(10040,680,515);Fi(10069,680,259);Fi(10097,680,4);Fi(10116,680,772);Fi(10146,680,1028);Fi(10176,680,0);Fi(10207,680,1);Fi(10243,680,2);Fi(10277,680,3);Fi(10315,680,0);Fi(10348,680,1);Fi(10395,680,2);Fi(10437,680,3);Fi(10480,680,4);Fi(10532,680,5);Fi(10583,680,6);Fi(10628,680,7);Fi(10667,680,8);Fi(10712,680,9);c=e;return}function Ys(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0;r=n[i>>2]|0;a=n[e+4>>2]|0;e:do{if(a){o=a+-1|0;s=(o&a|0)==0;if(s)t=o&r;else t=(r>>>0)%(a>>>0)|0;i=n[(n[e>>2]|0)+(t<<2)>>2]|0;if(i)do{i=n[i>>2]|0;if(!i){i=0;break e}e=n[i+4>>2]|0;if(s)e=e&o;else e=(e>>>0)%(a>>>0)|0;if((e|0)!=(t|0)){i=0;break e}}while((n[i+8>>2]|0)!=(r|0));else i=0}else i=0}while(0);return i|0}function qs(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0;o=c;c=c+32|0;a=o+8|0;t=o;r=Ys(e,i)|0;if(!r){wt(a,e,i);mt(t,e,n[a>>2]|0);r=n[t>>2]|0;n[a>>2]=0}c=o;return r+16|0}function Gs(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;a=c;c=c+16|0;r=a+4|0;t=a;i=Ys(e,i)|0;if(!i)i=0;else{n[t>>2]=i;n[r>>2]=n[t>>2];bt(e,r)|0;i=1}c=a;return i|0}function Ks(e){e=e|0;var i=0,r=0;r=n[e>>2]|0;if(r){i=e+4|0;e=n[i>>2]|0;if((e|0)!=(r|0)){do{e=e+-8|0}while((e|0)!=(r|0));n[i>>2]=e}Ft(r)}return}function Xs(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0;o=c;c=c+32|0;a=o+8|0;t=o;r=Js(e,i)|0;if(!r){Df(a,e,i);Nf(t,e,n[a>>2]|0);r=n[t>>2]|0;n[a>>2]=0}c=o;return r+16|0}function Js(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0;r=n[i>>2]|0;a=n[e+4>>2]|0;e:do{if(a){o=a+-1|0;s=(o&a|0)==0;if(s)t=o&r;else t=(r>>>0)%(a>>>0)|0;i=n[(n[e>>2]|0)+(t<<2)>>2]|0;if(i)do{i=n[i>>2]|0;if(!i){i=0;break e}e=n[i+4>>2]|0;if(s)e=e&o;else e=(e>>>0)%(a>>>0)|0;if((e|0)!=(t|0)){i=0;break e}}while((n[i+8>>2]|0)!=(r|0));else i=0}else i=0}while(0);return i|0}function Zs(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0;f=c;c=c+32|0;s=f;o=e+4|0;r=n[e>>2]|0;a=((n[o>>2]|0)-r>>3)+1|0;if(a>>>0>536870911)Ct(e);t=r;r=(n[e+8>>2]|0)-t|0;if(r>>3>>>0<268435455){r=r>>2;r=r>>>0<a>>>0?a:r}else r=536870911;Ff(s,r,(n[o>>2]|0)-t>>3,e+8|0);o=s+8|0;a=n[o>>2]|0;r=i;t=n[r+4>>2]|0;i=a;n[i>>2]=n[r>>2];n[i+4>>2]=t;n[o>>2]=a+8;Pf(e,s);Of(s);c=f;return}function Qs(e,i){e=e|0;i=i|0;We(e|0,4,2200,10911,1,i|0);return}function $s(e,i){e=e|0;i=i|0;We(e|0,2,2192,10801,10,i|0);return}function ef(e,i){e=e|0;i=i|0;We(e|0,3,2180,10906,12,i|0);return}function rf(e,i){e=e|0;i=i|0;We(e|0,3,2168,10906,13,i|0);return}function tf(e,i){e=e|0;i=i|0;We(e|0,2,2160,10801,11,i|0);return}function af(e,i){e=e|0;i=i|0;We(e|0,2,2152,10797,7,i|0);return}function nf(e,i){e=e|0;i=i|0;We(e|0,1,2148,10794,16,i|0);return}function of(e,i){e=e|0;i=i|0;We(e|0,3,2136,10789,1,i|0);return}function sf(e,i){e=e|0;i=i|0;We(e|0,2,2128,10785,1,i|0);return}function ff(e,i){e=e|0;i=i|0;We(e|0,3,2116,10780,1,i|0);return}function lf(e,i){e=e|0;i=i|0;We(e|0,3,2104,10775,2,i|0);return}function uf(e,i){e=e|0;i=i|0;Fi(e|0,680,n[i>>2]|0);return}function cf(e,i){e=e|0;i=i|0;Fi(e|0,720,~~+u[i>>3]>>>0|0);return}function df(){n[511]=0;n[512]=0;n[513]=0;n[514]=0;l[515]=1.0;Si(11,2044,w|0)|0;n[516]=0;n[517]=0;n[518]=0;n[519]=0;l[520]=1.0;Si(12,2064,w|0)|0;zs(0);return}function hf(e){e=e|0;mf(e);return}function bf(e){e=e|0;kf(e);return}function kf(e){e=e|0;var i=0;wf(e,n[e+8>>2]|0);i=n[e>>2]|0;n[e>>2]=0;if(i)Ft(i);return}function wf(e,i){e=e|0;i=i|0;if(i)do{e=i;i=n[i>>2]|0;Ft(e)}while((i|0)!=0);return}function mf(e){e=e|0;var i=0;pf(e,n[e+8>>2]|0);i=n[e>>2]|0;n[e>>2]=0;if(i)Ft(i);return}function pf(e,i){e=e|0;i=i|0;if(i)do{e=i;i=n[i>>2]|0;Ks(e+264|0);Ft(e)}while((i|0)!=0);return}function Ef(e,i,r){e=e|0;i=i|0;r=+r;Bu[e&3](i,r);return}function vf(e,i,r){e=e|0;i=i|0;r=r|0;qu[e&7](i,r);return}function _f(e,i){e=e|0;i=i|0;return+ +Wu[e&3](i)}function gf(e,i,r){e=e|0;i=i|0;r=+r;Bu[e&3](i,r);return}function Sf(e){e=e|0;return zu[e&1]()|0}function yf(e,i){e=e|0;i=i|0;Yu[e&15](i);return}function Mf(e,i){e=e|0;i=i|0;var r=0,t=0;r=c;c=c+16|0;t=r;Rf(t,i);e=Gu[e&31](t)|0;zl(t);c=r;return e|0}function Rf(e,i){e=e|0;i=i|0;Wl(e,i+4|0,n[i>>2]|0);return}function Tf(e,i,r){e=e|0;i=i|0;r=r|0;return $u[e&15](i,r)|0}function Af(e,i,r){e=e|0;i=i|0;r=r|0;var t=0,a=0;t=c;c=c+16|0;a=t;Rf(a,r);e=$u[e&15](i,a)|0;zl(a);c=t;return e|0}function Cf(e,i){e=e|0;i=i|0;return Gu[e&31](i)|0}function xf(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;return ju[e&15](i,r,t)|0}function Ff(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;n[e+12>>2]=0;n[e+16>>2]=t;if(!i)t=0;else t=xt(i<<3)|0;n[e>>2]=t;r=t+(r<<3)|0;n[e+8>>2]=r;n[e+4>>2]=r;n[e+12>>2]=t+(i<<3);return}function Pf(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0;t=n[e>>2]|0;o=e+4|0;r=i+4|0;a=(n[o>>2]|0)-t|0;s=(n[r>>2]|0)+(0-(a>>3)<<3)|0;n[r>>2]=s;Zl(s|0,t|0,a|0)|0;a=n[e>>2]|0;n[e>>2]=n[r>>2];n[r>>2]=a;a=i+8|0;t=n[o>>2]|0;n[o>>2]=n[a>>2];n[a>>2]=t;a=e+8|0;e=i+12|0;t=n[a>>2]|0;n[a>>2]=n[e>>2];n[e>>2]=t;n[i>>2]=n[r>>2];return}function Of(e){e=e|0;var i=0,r=0,t=0;r=n[e+4>>2]|0;t=e+8|0;i=n[t>>2]|0;if((i|0)!=(r|0)){do{i=i+-8|0}while((i|0)!=(r|0));n[t>>2]=i}i=n[e>>2]|0;if(i)Ft(i);return}function Df(e,i,r){e=e|0;i=i|0;r=r|0;var t=0;t=xt(200)|0;n[t+8>>2]=n[r>>2];Gl(t+16|0,0,184)|0;n[e>>2]=t;e=e+4|0;n[e>>2]=i+8;n[e+4>>2]=257;return}function Nf(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0.0,u=0.0,c=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0;d=n[r+8>>2]|0;p=r+4|0;n[p>>2]=d;m=i+4|0;c=n[m>>2]|0;w=(c|0)==0;e:do{if(!w){h=c+-1|0;b=(h&c|0)==0;if(b)o=h&d;else o=(d>>>0)%(c>>>0)|0;a=n[(n[i>>2]|0)+(o<<2)>>2]|0;if(!a)k=12;else while(1){s=n[a>>2]|0;if(!s){k=12;break e}a=n[s+4>>2]|0;if(b)a=a&h;else a=(a>>>0)%(c>>>0)|0;if((a|0)!=(o|0)){k=12;break e}if((n[s+8>>2]|0)==(d|0)){a=0;r=s;break}else a=s}}else{o=0;k=12}}while(0);if((k|0)==12){d=i+12|0;f=+(((n[d>>2]|0)+1|0)>>>0);u=+l[i+16>>2];do{if(w|f>+(c>>>0)*u){if(c>>>0>2)a=(c+-1&c|0)==0;else a=0;s=(a&1|c<<1)^1;a=~~+ie(+(f/u))>>>0;dt(i,s>>>0<a>>>0?a:s);s=n[m>>2]|0;a=n[p>>2]|0;o=s+-1|0;if(!(o&s)){c=s;o=o&a;break}else{c=s;o=(a>>>0)%(s>>>0)|0;break}}}while(0);a=n[(n[i>>2]|0)+(o<<2)>>2]|0;if(!a){a=i+8|0;n[r>>2]=n[a>>2];n[a>>2]=r;n[(n[i>>2]|0)+(o<<2)>>2]=a;a=n[r>>2]|0;if(a){a=n[a+4>>2]|0;o=c+-1|0;if(!(o&c))a=a&o;else a=(a>>>0)%(c>>>0)|0;n[(n[i>>2]|0)+(a<<2)>>2]=r}}else{n[r>>2]=n[a>>2];n[a>>2]=r}n[d>>2]=(n[d>>2]|0)+1;a=1}n[e>>2]=r;t[e+4>>0]=a;return}function Hf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l*3|0)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){do{if(((o[p+1>>0]|0)+(o[p>>0]|0)+(o[p+2>>0]|0)|0)>(R|0)){t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}else{a[e>>1]=0;t[l>>0]=0;s=m}}while(0);E=E+1|0;h=p+3|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+6|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function If(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<1)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){k=o[p>>0]|0;w=o[p+1>>0]|0;do{if(((k&248)+10+(k<<5&224)+(w>>>3&28)+(w<<3&248)|0)>(R|0)){t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}else{a[e>>1]=0;t[l>>0]=0;s=m}}while(0);E=E+1|0;h=p+2|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+4|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Lf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<2)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){do{if(((o[p+1>>0]|0)+(o[p>>0]|0)+(o[p+2>>0]|0)|0)>(R|0)){t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}else{a[e>>1]=0;t[l>>0]=0;s=m}}while(0);E=E+1|0;h=p+4|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+8|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function jf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<1)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){w=o[p>>0]|0;do{if(((w&240)+24+(w<<4&240)+((o[p+1>>0]|0)&240)|0)>(R|0)){t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}else{a[e>>1]=0;t[l>>0]=0;s=m}}while(0);E=E+1|0;h=p+2|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+4|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Vf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<1)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){k=o[p>>0]|0;w=o[p+1>>0]|0;do{if(((k&248)+12+(k<<5&224)+(w>>>3&24)+(w<<2&248)|0)>(R|0)){t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}else{a[e>>1]=0;t[l>>0]=0;s=m}}while(0);E=E+1|0;h=p+2|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+4|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Uf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;k=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=k;h=k+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=s*3|0;M=i+-1|0;if((r|0)>0){l=0;s=k;d=k+(M<<1)|0;while(1){a[d>>1]=0;a[s>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{s=s+(i<<1)|0;d=d+(i<<1)|0}}}d=f+1179664|0;l=i+1|0;g=0-i|0;v=1-i|0;_=~i;e:do{if((T|0)>1){S=(M|0)>1;b=(n[f+4>>2]|0)+l|0;y=1;h=e+(l<<2)|0;e=k+(l<<1)|0;s=0;i:while(1){if(S){l=b;E=1;p=h;m=s;while(1){do{if(((o[p+2>>0]|0)+(o[p+1>>0]|0)+(o[p+3>>0]|0)|0)>(R|0)){t[l>>0]=-1;s=a[e+(g<<1)>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}b=a[e+(v<<1)>>1]|0;k=b<<16>>16;s=a[e+(_<<1)>>1]|0;w=s<<16>>16;h=s<<16>>16>0;if(b<<16>>16<=0){if(h){a[e>>1]=s;s=w*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-3<<2)|0;if((n[h>>2]|0)<(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=a[e+-2>>1]|0;if(s<<16>>16>0){a[e>>1]=s;s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;s=f+1310736+(s+-3<<2)|0;if((n[s>>2]|0)>=(E|0)){s=m;break}n[s>>2]=E;s=m;break}else{s=m+1|0;if((m|0)>32767)break i;a[e>>1]=s;n[f+1179664+(m<<2)>>2]=s<<16>>16;m=m*7|0;n[f+1310736+(m<<2)>>2]=1;n[f+1310736+(m+1<<2)>>2]=E;n[f+1310736+(m+2<<2)>>2]=y;n[f+1310736+(m+3<<2)>>2]=E;n[f+1310736+(m+4<<2)>>2]=E;n[f+1310736+(m+5<<2)>>2]=y;n[f+1310736+(m+6<<2)>>2]=y;break}}if(h){s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+(w+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;w=f+1310736+(s+-5<<2)|0;n[w>>2]=(n[w>>2]|0)+y;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}h=a[e+-2>>1]|0;if(h<<16>>16<=0){a[e>>1]=b;s=k*7|0;h=f+1310736+(s+-7<<2)|0;n[h>>2]=(n[h>>2]|0)+1;h=f+1310736+(s+-6<<2)|0;n[h>>2]=(n[h>>2]|0)+E;h=f+1310736+(s+-5<<2)|0;n[h>>2]=(n[h>>2]|0)+y;h=f+1310736+(s+-4<<2)|0;if((n[h>>2]|0)>(E|0))n[h>>2]=E;n[f+1310736+(s+-1<<2)>>2]=y;s=m;break}s=n[f+1179664+(k+-1<<2)>>2]|0;k=n[f+1179664+((h<<16>>16)+-1<<2)>>2]|0;if((s|0)>(k|0)){a[e>>1]=k;if((m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(s|0))n[b>>2]=k;h=h+1|0;if((h|0)>=(m|0)){s=k;break}else b=b+4|0}}else s=k}else{a[e>>1]=s;if((s|0)<(k|0)&(m|0)>0){h=0;b=d;while(1){if((n[b>>2]|0)==(k|0))n[b>>2]=s;h=h+1|0;if((h|0)>=(m|0))break;else b=b+4|0}}}s=(s<<16>>16)*7|0;w=f+1310736+(s+-7<<2)|0;n[w>>2]=(n[w>>2]|0)+1;w=f+1310736+(s+-6<<2)|0;n[w>>2]=(n[w>>2]|0)+E;s=f+1310736+(s+-5<<2)|0;n[s>>2]=(n[s>>2]|0)+y;s=m}else{a[e>>1]=0;t[l>>0]=0;s=m}}while(0);E=E+1|0;h=p+4|0;e=e+2|0;l=l+1|0;if((E|0)>=(M|0))break;else{p=h;m=s}}}else l=b;y=y+1|0;if((y|0)>=(T|0)){k=s;C=52;break e}else{b=l+2|0;h=h+8|0;e=e+4|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){e=f+12|0;if((k|0)<1)s=1;else{h=1;s=1;while(1){l=n[d>>2]|0;if((l|0)==(h|0)){l=s;s=s+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[d>>2]=l;if((h|0)<(k|0)){h=h+1|0;d=d+4|0}else break}}b=f+8|0;l=s+-1|0;n[b>>2]=l;if(l){Gl(e|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((s|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[b>>2]|0))}if((k|0)>0){e=0;do{d=(n[f+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;l=f+12+(d<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(h<<2)>>2]|0);l=d<<1;s=f+655376+(l<<3)|0;u[s>>3]=+u[s>>3]+ +(n[f+1310736+(h+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(h+2<<2)>>2]|0);d=d<<2;l=f+131084+(d<<2)|0;s=n[f+1310736+(h+3<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;l=f+131084+((d|1)<<2)|0;s=n[f+1310736+(h+4<<2)>>2]|0;if((n[l>>2]|0)<(s|0))n[l>>2]=s;l=f+131084+((d|2)<<2)|0;s=n[f+1310736+(h+5<<2)>>2]|0;if((n[l>>2]|0)>(s|0))n[l>>2]=s;s=f+131084+((d|3)<<2)|0;l=n[f+1310736+(h+6<<2)>>2]|0;if((n[s>>2]|0)<(l|0))n[s>>2]=l;e=e+1|0}while((e|0)<(k|0))}if((n[b>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[b>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Bf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;l=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;k=(n[f+4>>2]|0)+l|0;M=1;e=e+l|0;b=b+(l<<1)|0;d=0;i:while(1){if(y){l=k;v=1;E=e;p=d;while(1){do{if((o[E>>0]|0|0)>(s|0)){t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}else{a[b>>1]=0;t[l>>0]=0;d=p}}while(0);v=v+1|0;e=E+1|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}else l=k;M=M+1|0;if((M|0)>=(T|0)){w=d;C=52;break e}else{k=l+2|0;e=e+2|0;b=b+4|0}}io(3,3904,A);l=-1}else{w=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((w|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(w|0)){e=e+1|0;h=h+4|0}else break}}k=f+8|0;l=d+-1|0;n[k>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[k>>2]|0))}if((w|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(w|0))}if((n[k>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[k>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Wf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;l=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;k=(n[f+4>>2]|0)+l|0;M=1;e=e+(l<<1)|0;b=b+(l<<1)|0;d=0;i:while(1){if(y){l=k;v=1;E=e;p=d;while(1){do{if((o[E+1>>0]|0|0)>(s|0)){t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}else{a[b>>1]=0;t[l>>0]=0;d=p}}while(0);v=v+1|0;e=E+2|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}else l=k;M=M+1|0;if((M|0)>=(T|0)){w=d;C=52;break e}else{k=l+2|0;e=e+4|0;b=b+4|0}}io(3,3904,A);l=-1}else{w=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((w|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(w|0)){e=e+1|0;h=h+4|0}else break}}k=f+8|0;l=d+-1|0;n[k>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[k>>2]|0))}if((w|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(w|0))}if((n[k>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[k>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function zf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;l=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;k=(n[f+4>>2]|0)+l|0;M=1;e=e+(l<<1)|0;b=b+(l<<1)|0;d=0;i:while(1){if(y){l=k;v=1;E=e;p=d;while(1){do{if((o[E>>0]|0|0)>(s|0)){t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}else{a[b>>1]=0;t[l>>0]=0;d=p}}while(0);v=v+1|0;e=E+2|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}else l=k;M=M+1|0;if((M|0)>=(T|0)){w=d;C=52;break e}else{k=l+2|0;e=e+4|0;b=b+4|0}}io(3,3904,A);l=-1}else{w=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((w|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(w|0)){e=e+1|0;h=h+4|0}else break}}k=f+8|0;l=d+-1|0;n[k>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[k>>2]|0))}if((w|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(w|0))}if((n[k>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[k>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function Yf(e,i,r,s,f){e=e|0;i=i|0;r=r|0;s=s|0;f=f|0;var l=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0;x=c;c=c+16|0;A=x;b=n[f>>2]|0;T=r+-1|0;if((i|0)>0){l=0;d=b;h=b+((re(T,i)|0)<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(i|0))break;else{d=d+2|0;h=h+2|0}}}R=i+-1|0;if((r|0)>0){l=0;d=b;h=b+(R<<1)|0;while(1){a[h>>1]=0;a[d>>1]=0;l=l+1|0;if((l|0)>=(r|0))break;else{d=d+(i<<1)|0;h=h+(i<<1)|0}}}h=f+1179664|0;d=i+1|0;S=0-i|0;_=1-i|0;g=~i;e:do{if((T|0)>1){y=(R|0)>1;l=(n[f+4>>2]|0)+d|0;M=1;e=e+d|0;b=b+(d<<1)|0;s=s+d|0;d=0;i:while(1){if(y){v=1;E=e;p=d;while(1){do{if((o[E>>0]|0)>(o[s>>0]|0)){t[l>>0]=-1;d=a[b+(S<<1)>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}k=a[b+(_<<1)>>1]|0;w=k<<16>>16;d=a[b+(g<<1)>>1]|0;m=d<<16>>16;e=d<<16>>16>0;if(k<<16>>16<=0){if(e){a[b>>1]=d;d=m*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-3<<2)|0;if((n[e>>2]|0)<(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=a[b+-2>>1]|0;if(d<<16>>16>0){a[b>>1]=d;d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;d=f+1310736+(d+-3<<2)|0;if((n[d>>2]|0)>=(v|0)){d=p;break}n[d>>2]=v;d=p;break}else{d=p+1|0;if((p|0)>32767)break i;a[b>>1]=d;n[f+1179664+(p<<2)>>2]=d<<16>>16;p=p*7|0;n[f+1310736+(p<<2)>>2]=1;n[f+1310736+(p+1<<2)>>2]=v;n[f+1310736+(p+2<<2)>>2]=M;n[f+1310736+(p+3<<2)>>2]=v;n[f+1310736+(p+4<<2)>>2]=v;n[f+1310736+(p+5<<2)>>2]=M;n[f+1310736+(p+6<<2)>>2]=M;break}}if(e){d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+(m+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;m=f+1310736+(d+-5<<2)|0;n[m>>2]=(n[m>>2]|0)+M;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}e=a[b+-2>>1]|0;if(e<<16>>16<=0){a[b>>1]=k;d=w*7|0;e=f+1310736+(d+-7<<2)|0;n[e>>2]=(n[e>>2]|0)+1;e=f+1310736+(d+-6<<2)|0;n[e>>2]=(n[e>>2]|0)+v;e=f+1310736+(d+-5<<2)|0;n[e>>2]=(n[e>>2]|0)+M;e=f+1310736+(d+-4<<2)|0;if((n[e>>2]|0)>(v|0))n[e>>2]=v;n[f+1310736+(d+-1<<2)>>2]=M;d=p;break}d=n[f+1179664+(w+-1<<2)>>2]|0;w=n[f+1179664+((e<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){a[b>>1]=w;if((p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(d|0))n[k>>2]=w;e=e+1|0;if((e|0)>=(p|0)){d=w;break}else k=k+4|0}}else d=w}else{a[b>>1]=d;if((d|0)<(w|0)&(p|0)>0){e=0;k=h;while(1){if((n[k>>2]|0)==(w|0))n[k>>2]=d;e=e+1|0;if((e|0)>=(p|0))break;else k=k+4|0}}}d=(d<<16>>16)*7|0;m=f+1310736+(d+-7<<2)|0;n[m>>2]=(n[m>>2]|0)+1;m=f+1310736+(d+-6<<2)|0;n[m>>2]=(n[m>>2]|0)+v;d=f+1310736+(d+-5<<2)|0;n[d>>2]=(n[d>>2]|0)+M;d=p}else{a[b>>1]=0;t[l>>0]=0;d=p}}while(0);v=v+1|0;e=E+1|0;s=s+1|0;b=b+2|0;l=l+1|0;if((v|0)>=(R|0))break;else{E=e;p=d}}}M=M+1|0;if((M|0)>=(T|0)){k=d;C=52;break e}else{l=l+2|0;e=e+2|0;b=b+4|0;s=s+2|0}}io(3,3904,A);l=-1}else{k=0;C=52}}while(0);if((C|0)==52){b=f+12|0;if((k|0)<1)d=1;else{e=1;d=1;while(1){l=n[h>>2]|0;if((l|0)==(e|0)){l=d;d=d+1|0}else l=n[f+1179664+(l+-1<<2)>>2]|0;n[h>>2]=l;if((e|0)<(k|0)){e=e+1|0;h=h+4|0}else break}}s=f+8|0;l=d+-1|0;n[s>>2]=l;if(l){Gl(b|0,0,l<<2|0)|0;Gl(f+655376|0,0,l<<4|0)|0;if((d|0)>1){l=0;do{C=l<<2;n[f+131084+(C<<2)>>2]=i;n[f+131084+((C|1)<<2)>>2]=0;n[f+131084+((C|2)<<2)>>2]=r;n[f+131084+((C|3)<<2)>>2]=0;l=l+1|0}while((l|0)<(n[s>>2]|0))}if((k|0)>0){b=0;do{h=(n[f+1179664+(b<<2)>>2]|0)+-1|0;e=b*7|0;l=f+12+(h<<2)|0;n[l>>2]=(n[l>>2]|0)+(n[f+1310736+(e<<2)>>2]|0);l=h<<1;d=f+655376+(l<<3)|0;u[d>>3]=+u[d>>3]+ +(n[f+1310736+(e+1<<2)>>2]|0);l=f+655376+((l|1)<<3)|0;u[l>>3]=+u[l>>3]+ +(n[f+1310736+(e+2<<2)>>2]|0);h=h<<2;l=f+131084+(h<<2)|0;d=n[f+1310736+(e+3<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;l=f+131084+((h|1)<<2)|0;d=n[f+1310736+(e+4<<2)>>2]|0;if((n[l>>2]|0)<(d|0))n[l>>2]=d;l=f+131084+((h|2)<<2)|0;d=n[f+1310736+(e+5<<2)>>2]|0;if((n[l>>2]|0)>(d|0))n[l>>2]=d;d=f+131084+((h|3)<<2)|0;l=n[f+1310736+(e+6<<2)>>2]|0;if((n[d>>2]|0)<(l|0))n[d>>2]=l;b=b+1|0}while((b|0)<(k|0))}if((n[s>>2]|0)>0){l=0;do{i=f+12+(l<<2)|0;r=l<<1;C=f+655376+(r<<3)|0;u[C>>3]=+u[C>>3]/+(n[i>>2]|0);r=f+655376+((r|1)<<3)|0;u[r>>3]=+u[r>>3]/+(n[i>>2]|0);l=l+1|0}while((l|0)<(n[s>>2]|0));l=0}else l=0}else l=0}c=x;return l|0}function qf(e){e=e|0;return Gf(e+8|0)|0}function Gf(e){e=e|0;var i=0,r=0;r=c;c=c+16|0;i=Un(4)|0;if(!i){io(3,5472,r);vi(1)}e=jo(e)|0;n[i>>2]=e;if(!e){Bn(i);i=0}c=r;return i|0}function Kf(e){e=e|0;var i=0;i=n[e>>2]|0;if(!i)i=-1;else{Vo(i)|0;Bn(n[e>>2]|0);n[e>>2]=0;i=0}return i|0}function Xf(e){e=e|0;var i=0,r=0,t=0;r=c;c=c+16|0;i=Un(7062432)|0;if(!i){io(3,5472,r);vi(1)}n[i>>2]=0;n[i+4834148>>2]=0;n[i+7062408>>2]=0;n[i+4>>2]=-1;n[i+8>>2]=0;n[i+12>>2]=1;n[i+16>>2]=100;n[i+20>>2]=0;n[i+24>>2]=0;n[i+28>>2]=2;u[i+7062416>>3]=.5;n[i+7062424>>2]=3;n[i+32>>2]=e;t=n[e>>2]|0;n[i+36>>2]=t;e=n[e+4>>2]|0;n[i+40>>2]=e;n[i+44>>2]=0;n[i+15408>>2]=0;n[i+4834152>>2]=0;n[i+4818296>>2]=0;e=Un(re(t<<1,e)|0)|0;n[i+4834144>>2]=e;if(!e){io(3,5472,r+8|0);vi(1)}else{n[i+7062384>>2]=0;Jf(i,2)|0;Zf(i,0)|0;n[i+7062388>>2]=-1;Qf(i,0)|0;n[i+7062392>>2]=7;n[i+7062396>>2]=0;c=r;return i|0}return 0}function Jf(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0;o=c;c=c+16|0;r=o;e:do{if(e){t=e+4|0;if((n[t>>2]|0)!=(i|0)){switch(i|0){case 11:case 10:case 9:case 8:case 7:case 6:case 4:case 3:case 2:case 1:case 0:{a=0;break}case 14:case 13:case 12:case 5:{a=1;break}default:{n[r>>2]=i;io(3,3936,r);r=-1;break e}}n[t>>2]=i;n[e+8>>2]=ao(i)|0;r=e+7062408|0;i=n[r>>2]|0;if(i){Rl(i);n[r>>2]=Ml(n[e+36>>2]|0,n[e+40>>2]|0,n[t>>2]|0,0)|0}r=e+24|0;i=n[r>>2]|0;if(!a)switch(i|0){case 1:{n[r>>2]=4;r=0;break e}case 4:{n[r>>2]=3;r=0;break e}default:{r=0;break e}}else switch(i|0){case 0:{n[r>>2]=1;r=0;break e}case 3:{n[r>>2]=4;r=0;break e}default:{r=0;break e}}}else r=0}else r=-1}while(0);c=o;return r|0}function Zf(e,i){e=e|0;i=i|0;var r=0,t=0,a=0;a=c;c=c+16|0;t=a;do{if(e)if((n[e>>2]|0)!=(i|0)){n[e>>2]=i;if(!i){r=e+4834148|0;Bn(n[r>>2]|0);n[r>>2]=0;r=0;break}i=Un(re(n[e+40>>2]|0,n[e+36>>2]|0)|0)|0;n[e+4834148>>2]=i;if(!i){io(3,5472,t);vi(1)}else r=0}else r=0;else r=-1}while(0);c=a;return r|0}function Qf(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0;f=c;c=c+16|0;s=f+8|0;a=f;if(e){o=e+7062388|0;if((n[o>>2]|0)!=(i|0)){r=e+7062408|0;t=n[r>>2]|0;if(t){Rl(t);n[r>>2]=0}switch(i|0){case 3:case 2:case 1:{n[r>>2]=Ml(n[e+36>>2]|0,n[e+40>>2]|0,n[e+4>>2]|0,0)|0;break}case 4:{n[e+7062404>>2]=1;n[e+7062400>>2]=1;i=4;break}case 0:{i=0;break}default:{io(3,3985,a);i=0}}n[o>>2]=i;if((n[e>>2]|0)==1){n[s>>2]=n[760+(i<<2)>>2];io(3,4059,s);i=0}else i=0}else i=0}else i=-1;c=f;return i|0}function $f(e){e=e|0;var i=0,r=0;if(!e)i=-1;else{i=e+7062408|0;r=n[i>>2]|0;if(r){Rl(r);n[i>>2]=0}Bn(n[e+4834144>>2]|0);Bn(n[e+4834148>>2]|0);Bn(e);i=0}return i|0}function el(e,i){e=e|0;i=i|0;if((e|0)!=0&(i|0)!=0){n[i>>2]=n[e>>2];e=0}else e=-1;return e|0}function il(e,i){e=e|0;i=i|0;if((e|0)!=0&i>>>0<2){n[e+12>>2]=i;e=0}else e=-1;return e|0}function rl(e,i){e=e|0;i=i|0;if((e|0)!=0&(i|0)!=0){n[i>>2]=n[e+12>>2];e=0}else e=-1;return e|0}function tl(e,i){e=e|0;i=i|0;if((e|0)==0|i>>>0>255)e=-1;else{n[e+16>>2]=i;e=0}return e|0}function al(e,i){e=e|0;i=i|0;if((e|0)!=0&(i|0)!=0){n[i>>2]=n[e+16>>2];e=0}else e=-1;return e|0}function nl(e,i){e=e|0;i=i|0;if((e|0)!=0&(i|0)!=0){n[i>>2]=n[e+7062388>>2];e=0}else e=-1;return e|0}function ol(e,i){e=e|0;i=i|0;if((e|0)!=0&i>>>0<2){n[e+20>>2]=i;e=0}else e=-1;return e|0}function sl(e,i){e=e|0;i=i|0;if(!e)e=-1;else{n[i>>2]=n[e+20>>2];e=0}return e|0}function fl(e,i){e=e|0;i=i|0;if((e|0)!=0&i>>>0<5){n[e+24>>2]=i;e=0}else e=-1;return e|0}function ll(e,i){e=e|0;i=i|0;if(!e)e=-1;else{n[e+7062424>>2]=i;e=0}return e|0}function ul(e,i){e=e|0;i=i|0;if((e|0)!=0&(i|0)!=0){n[i>>2]=n[e+7062424>>2];e=0}else e=-1;return e|0}function cl(e,i){e=e|0;i=i|0;if(!e)e=-1;else{n[i>>2]=n[e+24>>2];e=0}return e|0}function dl(e,i){e=e|0;i=+i;if((e|0)!=0?!(i<=0.0|i>=1.0):0){u[e+7062416>>3]=i;e=0}else e=-1;return e|0}function hl(e,i){e=e|0;i=i|0;if(!e)e=-1;else{u[i>>3]=+u[e+7062416>>3];e=0}return e|0}function bl(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,s=0.0,f=0,l=0,d=0,h=0.0,b=0.0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,P=0,O=0,D=0,N=0,H=0,I=0,L=0,j=0,V=0.0,U=0,B=0,W=0.0,z=0.0;B=c;c=c+80|0;L=B+32|0;P=B+24|0;M=B;y=B+52|0;C=B+40|0;I=B+64|0;U=e+44|0;n[U>>2]=0;N=e+7062388|0;t=n[N>>2]|0;e:do{if((t|0)==4){D=e+7062396|0;r=n[D>>2]|0;do{if((r|0)>0){t=4;r=r+-1|0}else{A=e+16|0;F=n[A>>2]|0;x=e+7062400|0;R=(n[x>>2]|0)+F|0;R=(R|0)>255?255:R;n[y>>2]=R;O=e+7062404|0;T=F-(n[O>>2]|0)|0;T=(T|0)<0?0:T;n[y+4>>2]=T;n[y+8>>2]=F;r=e+36|0;t=e+40|0;a=e+4|0;f=e+12|0;l=e+20|0;d=e+4834144|0;k=e+15416|0;w=e+15408|0;m=e+7062384|0;p=e+24|0;E=e+32|0;v=e+7062416|0;_=e+48|0;g=e+7062424|0;S=0;do{if((Dl(i,n[r>>2]|0,n[t>>2]|0,n[a>>2]|0,n[e>>2]|0,n[f>>2]|0,n[y+(S<<2)>>2]|0,n[l>>2]|0,d,0)|0)<0){r=-1;break e}if((wl(n[r>>2]|0,n[t>>2]|0,d,n[l>>2]|0,1e6,70,1.0,k,w)|0)<0){r=-1;break e}if((vl(i,n[r>>2]|0,n[t>>2]|0,n[a>>2]|0,k,n[w>>2]|0,n[m>>2]|0,n[l>>2]|0,n[p>>2]|0,(n[E>>2]|0)+184|0,+u[v>>3],_,U,n[g>>2]|0)|0)<0){r=-1;break e}n[C+(S<<2)>>2]=n[U>>2];S=S+1|0}while((S|0)<3);if((n[e>>2]|0)==1){j=n[C+4>>2]|0;a=n[C+8>>2]|0;t=n[C>>2]|0;n[M>>2]=T;n[M+4>>2]=j;n[M+8>>2]=F;n[M+12>>2]=a;n[M+16>>2]=R;n[M+20>>2]=t;io(3,4153,M)}else{t=n[C>>2]|0;a=n[C+8>>2]|0}r=n[C+4>>2]|0;if((t|0)>(a|0)|(r|0)>(a|0)){t=(t|0)>=(r|0)?R:T;n[A>>2]=t;r=t-F|0;if((r|0)>0){n[x>>2]=r;r=1}else{n[x>>2]=1;r=0-r|0}n[O>>2]=r;if((n[e>>2]|0)==1){n[P>>2]=t;io(3,4229,P)}t=n[N>>2]|0;r=n[e+7062392>>2]|0;break}r=n[x>>2]|0;t=n[O>>2]|0;do{if((r|0)>=(t|0))if((r|0)>(t|0)){n[O>>2]=t+1;break}else{r=r+1|0;n[x>>2]=r;n[O>>2]=t+1;break}else{r=r+1|0;n[x>>2]=r}}while(0);if((r+F|0)>254){n[x>>2]=1;r=1}if((F|0)<=(r|0))n[O>>2]=1;n[D>>2]=n[e+7062392>>2];j=47;break e}}while(0);n[D>>2]=r;j=30}else j=30}while(0);e:do{if((j|0)==30){i:do{switch(t|0){case 3:{t=e+7062408|0;r=Ol(n[t>>2]|0,i,9,-7)|0;if((r|0)<0)break e;r=n[t>>2]|0;t=e+4834144|0;r=Dl(n[r>>2]|0,n[r+8>>2]|0,n[r+12>>2]|0,5,n[e>>2]|0,n[e+12>>2]|0,0,0,t,n[r+4>>2]|0)|0;if((r|0)<0)break e;r=e+36|0;a=e+40|0;f=e+20|0;break}case 2:case 1:{a=e+7062396|0;r=n[a>>2]|0;if((r|0)>0){n[a>>2]=r+-1;j=44;break i}r=n[e+7062408>>2]|0;if((t|0)==1)r=Fl(r,i,I)|0;else r=Pl(r,i,I)|0;if((r|0)<0)break e;r=e+16|0;if((n[e>>2]|0)==1?(H=o[I>>0]|0,(n[r>>2]|0)!=(H|0)):0){n[L>>2]=(n[N>>2]|0)==1?4281:4288;n[L+4>>2]=H;io(3,4293,L)}n[r>>2]=o[I>>0];n[a>>2]=n[e+7062392>>2];j=44;break}default:j=44}}while(0);if((j|0)==44){r=e+36|0;a=e+40|0;f=e+20|0;t=e+4834144|0;if((Dl(i,n[r>>2]|0,n[a>>2]|0,n[e+4>>2]|0,n[e>>2]|0,n[e+12>>2]|0,n[e+16>>2]|0,n[f>>2]|0,t,0)|0)<0){r=-1;break}}l=e+15416|0;d=e+15408|0;if((wl(n[r>>2]|0,n[a>>2]|0,t,n[f>>2]|0,1e6,70,1.0,l,d)|0)>=0?(vl(i,n[r>>2]|0,n[a>>2]|0,n[e+4>>2]|0,l,n[d>>2]|0,n[e+7062384>>2]|0,n[f>>2]|0,n[e+24>>2]|0,(n[e+32>>2]|0)+184|0,+u[e+7062416>>3],e+48|0,U,n[e+7062424>>2]|0)|0)>=0:0)j=47;else r=-1}}while(0);e:do{if((j|0)==47){E=e+28|0;if((n[E>>2]|0)==1){kl(e);r=0;break}v=e+4818296|0;m=e+24|0;w=n[v>>2]|0;if((w|0)>0){p=0;do{t=n[U>>2]|0;a=e+4818304+(p*264|0)+56|0;f=e+4818304+(p*264|0)+64|0;if((t|0)>0){b=+(n[e+4818304+(p*264|0)>>2]|0);r=-1;l=0;h=.5;while(1){s=+(n[e+48+(l<<8)>>2]|0);W=b/s;if(!(W<.7|W>1.43)?(W=+u[e+48+(l<<8)+56>>3]-+u[a>>3],V=+u[e+48+(l<<8)+64>>3]-+u[f>>3],V=(W*W+V*V)/s,V<h):0){r=l;s=V}else s=h;l=l+1|0;if((l|0)>=(t|0)){k=r;break}else h=s}}else k=-1;i:do{if((k|0)>-1){d=n[m>>2]|0;switch(d|0){case 2:case 1:case 0:break;case 4:case 3:{a=e+48+(k<<8)+40|0;s=+u[e+4818304+(p*264|0)+40>>3];if(!(+u[a>>3]<s)){r=e+48+(k<<8)+48|0;t=e+4818304+(p*264|0)+48|0;if(!(+u[r>>3]<+u[t>>3]))break i}else{t=e+4818304+(p*264|0)+48|0;r=e+48+(k<<8)+48|0}u[a>>3]=s;n[e+48+(k<<8)+8>>2]=n[e+4818304+(p*264|0)+8>>2];u[r>>3]=+u[t>>3];n[e+48+(k<<8)+12>>2]=n[e+4818304+(p*264|0)+12>>2];r=-1;h=1.0e8;a=0;while(1){s=0.0;t=0;do{i=(t+a|0)%4|0;b=+u[e+4818304+(p*264|0)+168+(t<<4)>>3]-+u[e+48+(k<<8)+168+(i<<4)>>3];W=+u[e+4818304+(p*264|0)+168+(t<<4)+8>>3]-+u[e+48+(k<<8)+168+(i<<4)+8>>3];s=s+(b*b+W*W);t=t+1|0}while((t|0)!=4);t=s<h;r=t?a:r;a=a+1|0;if((a|0)==4)break;else h=t?s:h}i=4-r|0;n[e+48+(k<<8)+20>>2]=(i+(n[e+4818304+(p*264|0)+20>>2]|0)|0)%4|0;n[e+48+(k<<8)+24>>2]=(i+(n[e+4818304+(p*264|0)+24>>2]|0)|0)%4|0;break i}default:{r=-1;break e}}r=e+48+(k<<8)+32|0;b=+u[e+4818304+(p*264|0)+32>>3];if(+u[r>>3]<b){u[r>>3]=b;l=n[e+4818304+(p*264|0)+4>>2]|0;n[e+48+(k<<8)+4>>2]=l;a=e+4818304+(p*264|0)+16|0;r=-1;h=1.0e8;f=0;while(1){s=0.0;t=0;do{i=(t+f|0)%4|0;z=+u[e+4818304+(p*264|0)+168+(t<<4)>>3]-+u[e+48+(k<<8)+168+(i<<4)>>3];W=+u[e+4818304+(p*264|0)+168+(t<<4)+8>>3]-+u[e+48+(k<<8)+168+(i<<4)+8>>3];s=s+(z*z+W*W);t=t+1|0}while((t|0)!=4);if(s<h)r=(4-f+(n[a>>2]|0)|0)%4|0;else s=h;f=f+1|0;if((f|0)==4)break;else h=s}n[e+48+(k<<8)+16>>2]=r;if(d>>>0<2){n[e+48+(k<<8)+8>>2]=l;u[e+48+(k<<8)+40>>3]=b;n[e+48+(k<<8)+20>>2]=r;break}else{n[e+48+(k<<8)+12>>2]=l;u[e+48+(k<<8)+48>>3]=b;n[e+48+(k<<8)+24>>2]=r;break}}}}while(0);p=p+1|0}while((p|0)<(w|0))}kl(e);if((n[v>>2]|0)>0){a=0;r=0;do{t=e+4818304+(a*264|0)|0;j=e+4818304+(a*264|0)+256|0;i=(n[j>>2]|0)+1|0;n[j>>2]=i;if((i|0)<4){if((a|0)!=(r|0))Zl(e+4818304+(r*264|0)|0,t|0,264)|0;r=r+1|0}a=a+1|0}while((a|0)<(n[v>>2]|0))}else r=0;n[v>>2]=r;r=n[U>>2]|0;i:do{if((r|0)>0){d=0;do{f=e+48+(d<<8)|0;a=n[e+48+(d<<8)+4>>2]|0;if((a|0)>=0){l=n[v>>2]|0;r:do{if((l|0)>0){t=0;do{if((n[e+4818304+(t*264|0)+4>>2]|0)==(a|0))break r;t=t+1|0}while((t|0)<(l|0))}else t=0}while(0);if((t|0)==(l|0)){if((l|0)==60)break i;n[v>>2]=l+1}Zl(e+4818304+(t*264|0)|0,f|0,256)|0;n[e+4818304+(t*264|0)+256>>2]=1}d=d+1|0;r=n[U>>2]|0}while((d|0)<(r|0))}}while(0);if((n[E>>2]|0)!=2?(n[v>>2]|0)>0:0){l=0;while(1){a=e+4818304+(l*264|0)+56|0;f=e+4818304+(l*264|0)+64|0;i:do{if((r|0)>0){h=+(n[e+4818304+(l*264|0)>>2]|0);t=0;do{s=+(n[e+48+(t<<8)>>2]|0);z=h/s;if(!(z<.7|z>1.43)?(W=+u[e+48+(t<<8)+56>>3]-+u[a>>3],z=+u[e+48+(t<<8)+64>>3]-+u[f>>3],(W*W+z*z)/s<.5):0)break i;t=t+1|0}while((t|0)<(r|0))}else t=0}while(0);if((t|0)==(r|0)){Zl(e+48+(r<<8)|0,e+4818304+(l*264|0)|0,256)|0;r=(n[U>>2]|0)+1|0;n[U>>2]=r}l=l+1|0;if((l|0)>=(n[v>>2]|0)){r=0;break}}}else r=0}}while(0);c=B;return r|0}function kl(e){e=e|0;var i=0,r=0,t=0,a=0;switch(n[e+24>>2]|0){case 1:case 0:{r=n[e+44>>2]|0;if((r|0)>0){t=0;do{i=e+48+(t<<8)+4|0;if((n[i>>2]|0)>-1?+u[e+48+(t<<8)+32>>3]<.5:0){n[e+48+(t<<8)+8>>2]=-1;n[i>>2]=-1;n[e+48+(t<<8)+236>>2]=6}t=t+1|0}while((t|0)<(r|0))}break}case 2:{r=n[e+44>>2]|0;if((r|0)>0){t=0;do{i=e+48+(t<<8)+4|0;if((n[i>>2]|0)>-1?+u[e+48+(t<<8)+32>>3]<.5:0){n[e+48+(t<<8)+12>>2]=-1;n[i>>2]=-1;n[e+48+(t<<8)+236>>2]=6}t=t+1|0}while((t|0)<(r|0))}break}default:{t=n[e+44>>2]|0;if((t|0)>0){a=0;do{i=e+48+(a<<8)+8|0;if((n[i>>2]|0)>-1?+u[e+48+(a<<8)+40>>3]<.5:0){n[i>>2]=-1;r=0}else r=1;i=e+48+(a<<8)+12|0;if(((n[i>>2]|0)>-1?+u[e+48+(a<<8)+48>>3]<.5:0)?(n[i>>2]=-1,(r|0)==0):0)n[e+48+(a<<8)+236>>2]=6;a=a+1|0}while((a|0)<(t|0))}}}return}function wl(e,i,r,t,a,o,s,f,l){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;s=+s;f=f|0;l=l|0;var d=0.0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,P=0,O=0,D=0,N=0,H=0,I=0,L=0.0;I=c;c=c+96|0;F=I+56|0;O=I+48|0;P=I+8|0;D=I;H=(t|0)==1;if(H){e=(e|0)/2|0;i=(i|0)/2|0;a=(a|0)/4|0;o=(o|0)/4|0}n[l>>2]=0;A=r+8|0;C=e+-2|0;M=i+-2|0;R=r+1179664|0;e:do{if((n[A>>2]|0)>0){T=0;while(1){g=r+12+(T<<2)|0;y=n[g>>2]|0;i:do{if(((((!((y|0)<(o|0)|(y|0)>(a|0))?(x=r+131084+(T<<4)|0,(n[x>>2]|0)!=1):0)?(n[r+131084+(T<<4)+4>>2]|0)!=(C|0):0)?(n[r+131084+(T<<4)+8>>2]|0)!=1:0)?(n[r+131084+(T<<4)+12>>2]|0)!=(M|0):0)?(ml(n[r>>2]|0,e,0,R,T+1|0,x,f+((n[l>>2]|0)*80048|0)|0)|0)>=0:0){E=n[g>>2]|0;S=n[l>>2]|0;v=f+(S*80048|0)+28|0;i=n[v>>2]|0;_=f+(S*80048|0)+40028|0;h=n[_>>2]|0;y=f+(S*80048|0)+24|0;b=(n[y>>2]|0)+-1|0;if((b|0)>1){m=0;p=1;t=0;while(1){k=(n[f+(S*80048|0)+28+(p<<2)>>2]|0)-i|0;k=re(k,k)|0;w=(n[f+(S*80048|0)+40028+(p<<2)>>2]|0)-h|0;k=(re(w,w)|0)+k|0;w=(k|0)>(m|0);t=w?p:t;p=p+1|0;if((p|0)>=(b|0))break;else m=w?k:m}}else t=0;d=+(E|0)/.75*.01*s;n[O>>2]=0;n[D>>2]=0;r:do{if((pl(v,_,0,t,d,F,O)|0)>=0?(pl(v,_,t,(n[y>>2]|0)+-1|0,d,P,D)|0)>=0:0){i=n[O>>2]|0;h=n[D>>2]|0;do{if((i|0)==1&(h|0)==1){i=n[P>>2]|0;h=n[F>>2]|0}else{if((i|0)>1&(h|0)==0){i=(t|0)/2|0;n[D>>2]=0;n[O>>2]=0;if((pl(v,_,0,i,d,F,O)|0)<0)break r;if((pl(v,_,i,t,d,P,D)|0)<0)break r;if(!((n[O>>2]|0)==1&(n[D>>2]|0)==1))break r;i=t;h=n[F>>2]|0;t=n[P>>2]|0;break}if(!((i|0)==0&(h|0)>1))break r;i=(t+-1+(n[y>>2]|0)|0)/2|0;n[D>>2]=0;n[O>>2]=0;if((pl(v,_,t,i,d,F,O)|0)<0)break r;if((pl(v,_,i,(n[y>>2]|0)+-1|0,d,P,D)|0)<0)break r;if(!((n[O>>2]|0)==1&(n[D>>2]|0)==1))break r;i=n[P>>2]|0;h=t;t=n[F>>2]|0}}while(0);n[f+(S*80048|0)+80028>>2]=0;n[f+(S*80048|0)+80032>>2]=h;n[f+(S*80048|0)+80036>>2]=t;n[f+(S*80048|0)+80040>>2]=i;n[f+(S*80048|0)+80044>>2]=(n[y>>2]|0)+-1;n[f+((n[l>>2]|0)*80048|0)>>2]=n[g>>2];y=n[l>>2]|0;u[f+(y*80048|0)+8>>3]=+u[r+655376+(T<<4)>>3];u[f+(y*80048|0)+16>>3]=+u[r+655376+(T<<4)+8>>3];y=y+1|0;n[l>>2]=y;if((y|0)==60){t=60;break e}else break i}}while(0)}}while(0);T=T+1|0;if((T|0)>=(n[A>>2]|0)){N=4;break}}}else N=4}while(0);if((N|0)==4)t=n[l>>2]|0;if((t|0)>0){b=0;do{e=b;b=b+1|0;o=f+(e*80048|0)+16|0;h=f+(e*80048|0)|0;if((b|0)<(t|0)){s=+u[f+(e*80048|0)+8>>3];a=b;do{L=s-+u[f+(a*80048|0)+8>>3];d=+u[o>>3]-+u[f+(a*80048|0)+16>>3];d=L*L+d*d;t=n[h>>2]|0;e=f+(a*80048|0)|0;i=n[e>>2]|0;if((t|0)>(i|0)){if(d<+((t|0)/4|0|0))n[e>>2]=0}else if(d<+((i|0)/4|0|0))n[h>>2]=0;a=a+1|0;t=n[l>>2]|0}while((a|0)<(t|0))}}while((b|0)<(t|0))}if((t|0)>0){a=0;do{if(!(n[f+(a*80048|0)>>2]|0)){e=a+1|0;if((e|0)<(t|0)){t=a;i=e;while(1){Zl(f+(t*80048|0)|0,f+(i*80048|0)|0,80048)|0;t=n[l>>2]|0;e=i+1|0;if((e|0)<(t|0)){t=i;i=e}else break}}t=t+-1|0;n[l>>2]=t}a=a+1|0}while((a|0)<(t|0))}if(H&(t|0)>0){i=0;while(1){n[f>>2]=n[f>>2]<<2;t=f+8|0;u[t>>3]=+u[t>>3]*2.0;t=f+16|0;u[t>>3]=+u[t>>3]*2.0;t=f+24|0;if((n[t>>2]|0)>0){e=0;do{H=f+28+(e<<2)|0;n[H>>2]=n[H>>2]<<1;H=f+40028+(e<<2)|0;n[H>>2]=n[H>>2]<<1;e=e+1|0}while((e|0)<(n[t>>2]|0))}i=i+1|0;if((i|0)>=(n[l>>2]|0))break;else f=f+80048|0}}c=I;return 0}function ml(e,i,r,t,o,s,f){e=e|0;i=i|0;r=r|0;t=t|0;o=o|0;s=s|0;f=f|0;var l=0,u=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0;g=c;c=c+80032|0;k=g+16|0;b=g+8|0;u=g;v=g+40024|0;_=g+24|0;E=n[s+8>>2]|0;r=n[s>>2]|0;s=n[s+4>>2]|0;e:do{if((r|0)<=(s|0)){l=r;r=e+((re(E,i)|0)+r<<1)|0;while(1){p=a[r>>1]|0;if(p<<16>>16>0?(n[t+((p<<16>>16)+-1<<2)>>2]|0)==(o|0):0){h=l;break}if((l|0)<(s|0)){l=l+1|0;r=r+2|0}else{S=6;break e}}w=f+24|0;n[w>>2]=1;m=f+28|0;n[m>>2]=h;p=f+40028|0;n[p>>2]=E;t=E;d=h;l=1;r=5;while(1){s=(r+5|0)%8|0;r=0;while(1){o=n[776+(s<<2)>>2]|0;u=n[808+(s<<2)>>2]|0;if((a[e+(u+d+(re(o+t|0,i)|0)<<1)>>1]|0)>0){r=o;o=s;break}r=r+1|0;s=(s+1|0)%8|0;if((r|0)>=8){S=11;break}}if((S|0)==11){S=0;if((r|0)==8){S=13;break}u=n[808+(s<<2)>>2]|0;r=n[776+(s<<2)>>2]|0;o=s}n[f+28+(l<<2)>>2]=u+d;s=n[w>>2]|0;n[f+40028+(s<<2)>>2]=r+(n[f+40028+(s+-1<<2)>>2]|0);r=n[w>>2]|0;s=f+28+(r<<2)|0;if((n[s>>2]|0)==(h|0)?(n[f+40028+(r<<2)>>2]|0)==(E|0):0){t=r;S=16;break}l=r+1|0;n[w>>2]=l;if((l|0)==9999){S=19;break}t=n[f+40028+(r<<2)>>2]|0;d=n[s>>2]|0;r=o}if((S|0)==13){io(3,4347,b);r=-1;break}else if((S|0)==16){if((t|0)>1){u=0;o=1;s=0;while(1){r=(n[f+28+(o<<2)>>2]|0)-h|0;r=re(r,r)|0;l=(n[f+40028+(o<<2)>>2]|0)-E|0;r=(re(l,l)|0)+r|0;l=(r|0)>(u|0);s=l?o:s;o=o+1|0;if((o|0)>=(t|0))break;else u=l?r:u}}else s=0;if((s|0)>0){r=0;do{n[v+(r<<2)>>2]=n[f+28+(r<<2)>>2];n[_+(r<<2)>>2]=n[f+40028+(r<<2)>>2];r=r+1|0}while((r|0)<(s|0))}if((s|0)<(t|0)){r=s;do{E=r-s|0;n[f+28+(E<<2)>>2]=n[f+28+(r<<2)>>2];n[f+40028+(E<<2)>>2]=n[f+40028+(r<<2)>>2];r=r+1|0}while((r|0)<(n[w>>2]|0))}if((s|0)>0){r=0;do{E=r-s|0;n[f+28+((n[w>>2]|0)+E<<2)>>2]=n[v+(r<<2)>>2];n[f+40028+((n[w>>2]|0)+E<<2)>>2]=n[_+(r<<2)>>2];r=r+1|0}while((r|0)<(s|0))}n[f+28+(n[w>>2]<<2)>>2]=n[m>>2];n[f+40028+(n[w>>2]<<2)>>2]=n[p>>2];n[w>>2]=(n[w>>2]|0)+1;r=0;break}else if((S|0)==19){io(3,4354,k);r=-1;break}}else S=6}while(0);if((S|0)==6){io(3,4340,u);r=-1}c=g;return r|0}function pl(e,i,r,t,a,o,s){e=e|0;i=i|0;r=r|0;t=t|0;a=+a;o=o|0;s=s|0;var f=0,l=0.0,u=0.0,c=0,d=0.0,h=0,b=0.0,k=0,w=0,m=0,p=0.0;f=n[i+(t<<2)>>2]|0;w=n[i+(r<<2)>>2]|0;b=+(f-w|0);c=n[e+(r<<2)>>2]|0;m=n[e+(t<<2)>>2]|0;d=+(c-m|0);u=+((re(m,w)|0)-(re(c,f)|0)|0);f=r+1|0;if((f|0)<(t|0)){l=0.0;c=f;do{p=u+(b*+(n[e+(c<<2)>>2]|0)+d*+(n[i+(c<<2)>>2]|0));p=p*p;m=p>l;l=m?p:l;f=m?c:f;c=c+1|0}while((c|0)<(t|0))}else l=0.0;if(l/(b*b+d*d)>a)if(((pl(e,i,r,f,a,o,s)|0)>=0?(h=n[s>>2]|0,(h|0)<=5):0)?(n[o+(h<<2)>>2]=f,n[s>>2]=(n[s>>2]|0)+1,(pl(e,i,f,t,a,o,s)|0)>=0):0)k=7;else f=-1;else k=7;if((k|0)==7)f=0;return f|0}function El(e,i,r,t,a,o,s){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;s=s|0;var f=0,d=0.0,h=0,b=0.0,k=0.0,w=0,m=0,p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0;y=c;c=c+16|0;E=y+4|0;v=y;_=xo(2)|0;g=xo(2)|0;S=oo(2,2)|0;w=0;e:while(1){m=w;w=w+1|0;p=n[t+(w<<2)>>2]|0;f=n[t+(m<<2)>>2]|0;k=+(p+1-f|0)*.05+.5;f=~~(+(f|0)+k);p=~~(+(p|0)-k)-f|0;h=p+1|0;r=oo(h,2)|0;if((p|0)>-1){p=0;do{M=p+f|0;if((Co(a,+(n[e+(M<<2)>>2]|0),+(n[i+(M<<2)>>2]|0),E,v)|0)<0){f=10;break e}M=p<<1;R=n[r>>2]|0;u[R+(M<<3)>>3]=+l[E>>2];u[R+((M|1)<<3)>>3]=+l[v>>2];p=p+1|0}while((p|0)<(h|0))}if((bo(r,S,_,g)|0)<0){f=10;break}R=n[S>>2]|0;b=+u[R+8>>3];u[o+(m*24|0)>>3]=b;k=-+u[R>>3];u[o+(m*24|0)+8>>3]=k;R=n[g>>2]|0;u[o+(m*24|0)+16>>3]=-(b*+u[R>>3]+ +u[R+8>>3]*k);co(r)|0;if((w|0)>=4){f=7;break}}e:do{if((f|0)==7){co(S)|0;Fo(g)|0;Fo(_)|0;w=0;while(1){r=(w+3|0)%4|0;f=o+(r*24|0)|0;d=+u[o+(w*24|0)+8>>3];h=o+(w*24|0)|0;b=+u[o+(r*24|0)+8>>3];k=+u[f>>3]*d-+u[h>>3]*b;if(+W(+k)<.0001){r=-1;break e}R=o+(w*24|0)+16|0;M=o+(r*24|0)+16|0;u[s+(w<<4)>>3]=(b*+u[R>>3]-d*+u[M>>3])/k;u[s+(w<<4)+8>>3]=(+u[h>>3]*+u[M>>3]-+u[f>>3]*+u[R>>3])/k;w=w+1|0;if((w|0)>=4){r=0;break}}}else if((f|0)==10){co(r)|0;co(S)|0;Fo(g)|0;Fo(_)|0;r=-1}}while(0);c=y;return r|0}function vl(e,i,r,t,a,o,s,f,d,h,b,k,w,m){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;s=s|0;f=f|0;d=d|0;h=h|0;b=+b;k=k|0;w=w|0;m=m|0;var p=0,E=0,v=0,_=0,g=0,S=0,y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0;F=c;c=c+16|0;C=F+4|0;x=F;M=d>>>0<2;R=(d|0)==2;if((o|0)>0){A=0;p=0;do{n[k+(p<<8)>>2]=n[a+(A*80048|0)>>2];if((Co(h,+u[a+(A*80048|0)+8>>3],+u[a+(A*80048|0)+16>>3],C,x)|0)>=0?(u[k+(p<<8)+56>>3]=+l[C>>2],u[k+(p<<8)+64>>3]=+l[x>>2],T=k+(p<<8)+168|0,(El(a+(A*80048|0)+28|0,a+(A*80048|0)+40028|0,n[a+(A*80048|0)+24>>2]|0,a+(A*80048|0)+80028|0,h,k+(p<<8)+72|0,T)|0)>=0):0){E=k+(p<<8)+8|0;v=k+(p<<8)+20|0;_=k+(p<<8)+40|0;g=k+(p<<8)+12|0;S=k+(p<<8)+24|0;y=k+(p<<8)+48|0;switch(Vl(s,f,d,e,i,r,t,h,T,b,E,v,_,g,S,y,m,k+(p<<8)+240|0,k+(p<<8)+248|0)|0){case 0:{n[k+(p<<8)+236>>2]=0;break}case-1:{n[k+(p<<8)+236>>2]=2;break}case-2:{n[k+(p<<8)+236>>2]=3;break}case-3:{n[k+(p<<8)+236>>2]=4;break}case-4:{n[k+(p<<8)+236>>2]=5;break}case-5:{n[k+(p<<8)+236>>2]=9;break}case-6:{n[k+(p<<8)+236>>2]=1;break}default:{}}if(!M){if(R){n[k+(p<<8)+4>>2]=n[g>>2];n[k+(p<<8)+16>>2]=n[S>>2];u[k+(p<<8)+32>>3]=+u[y>>3]}}else{n[k+(p<<8)+4>>2]=n[E>>2];n[k+(p<<8)+16>>2]=n[v>>2];u[k+(p<<8)+32>>3]=+u[_>>3]}p=p+1|0}A=A+1|0}while((A|0)<(o|0))}else p=0;n[w>>2]=p;c=F;return 0}function _l(e,i,r,t){e=e|0;i=i|0;r=+r;t=t|0;var a=0,o=0,s=0,f=0,l=0,d=0,h=0.0,b=0,k=0;f=c;c=c+288|0;d=f+200|0;l=f+104|0;a=f+264|0;s=f+8|0;o=f;b=n[i+16>>2]|0;k=(4-b|0)%4|0;u[d>>3]=+u[i+168+(k<<4)>>3];u[d+8>>3]=+u[i+168+(k<<4)+8>>3];k=(5-b|0)%4|0;u[d+16>>3]=+u[i+168+(k<<4)>>3];u[d+24>>3]=+u[i+168+(k<<4)+8>>3];k=(6-b|0)%4|0;u[d+32>>3]=+u[i+168+(k<<4)>>3];u[d+40>>3]=+u[i+168+(k<<4)+8>>3];b=(7-b|0)%4|0;u[d+48>>3]=+u[i+168+(b<<4)>>3];u[d+56>>3]=+u[i+168+(b<<4)+8>>3];h=r*-.5;u[l>>3]=h;r=r*.5;u[l+8>>3]=r;u[l+16>>3]=0.0;u[l+24>>3]=r;u[l+32>>3]=r;u[l+40>>3]=0.0;u[l+48>>3]=r;u[l+56>>3]=h;u[l+64>>3]=0.0;u[l+72>>3]=h;u[l+80>>3]=h;u[l+88>>3]=0.0;n[a>>2]=d;n[a+4>>2]=l;n[a+8>>2]=4;if((Go(n[e>>2]|0,d,l,4,s)|0)<0)r=1.0e8;else{k=(Bo(n[e>>2]|0,a,s,t,o)|0)<0;r=k?1.0e8:+u[o>>3]}c=f;return+r}function gl(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=+t;a=a|0;var o=0,s=0,f=0,l=0,d=0,h=0.0,b=0,k=0;s=c;c=c+192|0;d=s+104|0;l=s+8|0;f=s+168|0;o=s;b=n[i+16>>2]|0;k=(4-b|0)%4|0;u[d>>3]=+u[i+168+(k<<4)>>3];u[d+8>>3]=+u[i+168+(k<<4)+8>>3];k=(5-b|0)%4|0;u[d+16>>3]=+u[i+168+(k<<4)>>3];u[d+24>>3]=+u[i+168+(k<<4)+8>>3];k=(6-b|0)%4|0;u[d+32>>3]=+u[i+168+(k<<4)>>3];u[d+40>>3]=+u[i+168+(k<<4)+8>>3];b=(7-b|0)%4|0;u[d+48>>3]=+u[i+168+(b<<4)>>3];u[d+56>>3]=+u[i+168+(b<<4)+8>>3];h=t*-.5;u[l>>3]=h;t=t*.5;u[l+8>>3]=t;u[l+16>>3]=0.0;u[l+24>>3]=t;u[l+32>>3]=t;u[l+40>>3]=0.0;u[l+48>>3]=t;u[l+56>>3]=h;u[l+64>>3]=0.0;u[l+72>>3]=h;u[l+80>>3]=h;u[l+88>>3]=0.0;n[f>>2]=d;n[f+4>>2]=l;n[f+8>>2]=4;i=(Bo(n[e>>2]|0,f,r,a,o)|0)<0;c=s;return+(i?1.0e8:+u[o>>3])}function Sl(e,i,r,t,a,o){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;var s=0,f=0,l=0,d=0,h=0,b=0,k=0;k=c;c=c+32|0;d=k+20|0;h=k;s=Un(a<<4)|0;n[d>>2]=s;if(!s){io(3,5472,k+8|0);vi(1)}f=Un(a*24|0)|0;l=d+4|0;n[l>>2]=f;if(!f){io(3,5472,k+16|0);vi(1)}if((a|0)>0){b=0;do{u[s+(b<<4)>>3]=+u[r+(b<<4)>>3];u[s+(b<<4)+8>>3]=+u[r+(b<<4)+8>>3];u[f+(b*24|0)>>3]=+u[t+(b*24|0)>>3];u[f+(b*24|0)+8>>3]=+u[t+(b*24|0)+8>>3];u[f+(b*24|0)+16>>3]=+u[t+(b*24|0)+16>>3];b=b+1|0}while((b|0)<(a|0))}n[d+8>>2]=a;if((Bo(n[e>>2]|0,d,i,o,h)|0)<0)u[h>>3]=1.0e8;Bn(n[d>>2]|0);Bn(n[l>>2]|0);c=k;return+ +u[h>>3]}function yl(e,i,r,t,a,o){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;o=o|0;var s=0,f=0,l=0,d=0,h=0,b=0,k=0;k=c;c=c+32|0;d=k+20|0;h=k;s=Un(a<<4)|0;n[d>>2]=s;if(!s){io(3,5472,k+8|0);vi(1)}f=Un(a*24|0)|0;l=d+4|0;n[l>>2]=f;if(!f){io(3,5472,k+16|0);vi(1)}if((a|0)>0){b=0;do{u[s+(b<<4)>>3]=+u[r+(b<<4)>>3];u[s+(b<<4)+8>>3]=+u[r+(b<<4)+8>>3];u[f+(b*24|0)>>3]=+u[t+(b*24|0)>>3];u[f+(b*24|0)+8>>3]=+u[t+(b*24|0)+8>>3];u[f+(b*24|0)+16>>3]=+u[t+(b*24|0)+16>>3];b=b+1|0}while((b|0)<(a|0))}n[d+8>>2]=a;if((zo(n[e>>2]|0,d,i,o,h)|0)<0)u[h>>3]=1.0e8;Bn(n[d>>2]|0);Bn(n[l>>2]|0);c=k;return+ +u[h>>3]}function Ml(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0;a=Un(2080)|0;e:do{if(a){n[a+2068>>2]=r;i:do{if(!t){switch(r|0){case 5:case 12:case 13:case 14:break;default:{o=4;break i}}n[a+2076>>2]=0}else o=4}while(0);do{if((o|0)==4){o=Un(re(i,e)|0)|0;n[a>>2]=o;if(!o){Bn(a);a=0;break e}else{n[a+2076>>2]=1;break}}}while(0);n[a+2072>>2]=t;n[a+4>>2]=0;n[a+8>>2]=e;n[a+12>>2]=i}}while(0);return a|0}function Rl(e){e=e|0;if(e){if(n[e+2076>>2]|0)Bn(n[e>>2]|0);Bn(n[e+4>>2]|0);Bn(e)}return}function Tl(e,i){e=e|0;i=i|0;var r=0,a=0,s=0,f=0,l=0,u=0,d=0;l=c;c=c+16|0;a=l;r=n[e+2068>>2]|0;e:do{switch(r|0){case 5:case 12:case 13:case 14:if(!(n[e+2072>>2]|0)){n[e>>2]=i;r=0;break e}else{Zl(n[e>>2]|0,i|0,re(n[e+12>>2]|0,n[e+8>>2]|0)|0)|0;r=0;break e}default:{if((r&-2|0)==2){r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){t[(n[e>>2]|0)+s>>0]=(((o[i+(f|1)>>0]|0)+(o[i+f>>0]|0)+(o[i+(f|2)>>0]|0)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break e}else f=f+4|0}}if((r&-3|0)==4){r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){t[(n[e>>2]|0)+s>>0]=(((o[i+(f|2)>>0]|0)+(o[i+(f|1)>>0]|0)+(o[i+(f|3)>>0]|0)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break e}else f=f+4|0}}if(r>>>0<2){r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){t[(n[e>>2]|0)+s>>0]=(((o[i+(f+1)>>0]|0)+(o[i+f>>0]|0)+(o[i+(f+2)>>0]|0)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break e}else f=f+3|0}}switch(r|0){case 8:{r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){t[(n[e>>2]|0)+s>>0]=t[i+f>>0]|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break}else f=f+2|0}break}case 7:{r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){t[(n[e>>2]|0)+s>>0]=t[i+(f|1)>>0]|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break}else f=f+2|0}break}case 9:{r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){d=o[i+f>>0]|0;u=o[i+(f|1)>>0]|0;t[(n[e>>2]|0)+s>>0]=(((d&248)+10+(d<<5&224)+(u>>>3&28)+(u<<3&248)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break}else f=f+2|0}break}case 10:{r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){u=o[i+f>>0]|0;d=o[i+(f|1)>>0]|0;t[(n[e>>2]|0)+s>>0]=(((u&248)+12+(u<<5&224)+(d>>>3&24)+(d<<2&248)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break}else f=f+2|0}break}case 11:{r=e+8|0;a=e+12|0;if(!(re(n[a>>2]|0,n[r>>2]|0)|0)){r=0;break e}else{s=0;f=0}while(1){d=o[i+f>>0]|0;t[(n[e>>2]|0)+s>>0]=(((d&240)+24+(d<<4&240)+((o[i+(f|1)>>0]|0)&240)|0)>>>0)/3|0;s=s+1|0;if(s>>>0>=(re(n[a>>2]|0,n[r>>2]|0)|0)>>>0){r=0;break}else f=f+2|0}break}default:{io(3,4361,a);r=-1;break e}}}}}while(0);c=l;return r|0}function Al(e,i){e=e|0;i=i|0;var r=0,t=0;if((e|0)!=0&(i|0)!=0?(Tl(e,i)|0)>=0:0){Gl(e+16|0,0,1024)|0;i=n[e>>2]|0;t=re(n[e+12>>2]|0,n[e+8>>2]|0)|0;r=i+t|0;if((t|0)>0){do{t=e+16+((o[i>>0]|0)<<2)|0;n[t>>2]=(n[t>>2]|0)+1;i=i+1|0}while(i>>>0<r>>>0);i=0}else i=0}else i=-1;return i|0}function Cl(e,i){e=e|0;i=i|0;var r=0;i=Al(e,i)|0;if((i|0)>=0){i=0;r=0;do{i=(n[e+16+(r<<2)>>2]|0)+i|0;n[e+1040+(r<<2)>>2]=i;r=r+1|0}while((r|0)!=256);i=0}return i|0}function xl(e,i,r,a){e=e|0;i=i|0;r=+r;a=a|0;var o=0,s=0,f=0;if(!(r<0.0|r>1.0)){i=Cl(e,i)|0;if((i|0)>=0){f=~~(+(re(n[e+12>>2]|0,n[e+8>>2]|0)|0)*r)>>>0;i=0;while(1){s=i&255;o=n[e+1040+(s<<2)>>2]|0;if(o>>>0<f>>>0)i=i+1<<24>>24;else break}if((o|0)==(f|0))do{i=i+1<<24>>24}while((n[e+1040+((i&255)<<2)>>2]|0)==(f|0));t[a>>0]=((i&255)+s|0)>>>1;i=0}}else i=-1;return i|0}function Fl(e,i,r){e=e|0;i=i|0;r=r|0;return xl(e,i,.5,r)|0}function Pl(e,i,r){e=e|0;i=i|0;r=r|0;var a=0.0,o=0,s=0.0,f=0.0,l=0.0,u=0.0,c=0,d=0.0,h=0.0;i=Al(e,i)|0;if((i|0)>=0){i=1;a=0.0;do{a=a+ +((re(n[e+16+(i<<2)>>2]|0,i)|0)>>>0);i=i+1|0}while((i|0)!=256);u=+(re(n[e+12>>2]|0,n[e+8>>2]|0)|0);c=0;s=0.0;i=0;l=0.0;d=0.0;while(1){o=n[e+16+(c<<2)>>2]|0;d=d+ +(o>>>0);if(d!=0.0){f=u-d;if(f==0.0)break;s=s+ +((re(c,o)|0)>>>0);h=s/d-(a-s)/f;f=h*(d*f*h);if(f>l)i=c&255;else f=l}else f=l;if((c&255)<<24>>24==-1)break;else{c=c+1|0;l=f}}t[r>>0]=i;i=0}return i|0}function Ol(e,i,r,a){e=e|0;i=i|0;r=r|0;a=a|0;var s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0,w=0,m=0,p=0,E=0,v=0;i=Al(e,i)|0;do{if((i|0)>=0){E=e+4|0;if(!(n[E>>2]|0)){i=e+8|0;s=e+12|0;p=Un(re(n[s>>2]|0,n[i>>2]|0)|0)|0;n[E>>2]=p;if(!p){i=-1;break}else p=i}else{p=e+8|0;s=e+12|0}w=r>>1;m=0-w|0;i=n[s>>2]|0;if((i|0)>0){h=(w|0)<(m|0);b=(w|0)<(m|0);k=0;do{i=n[p>>2]|0;if((i|0)>0){d=0;do{if(h){f=0;r=0}else{f=0;c=m;r=0;while(1){l=c+k|0;if(((l|0)>=0?(l|0)<(n[s>>2]|0):0)?(v=re(i,l)|0,!b):0){u=m;while(1){l=u+d|0;if((l|0)>-1&(l|0)<(i|0)){f=f+1|0;r=(o[(n[e>>2]|0)+(v+l)>>0]|0)+r|0}if((u|0)<(w|0))u=u+1|0;else break}}if((c|0)<(w|0))c=c+1|0;else break}}c=(re(i,k)|0)+d|0;t[(n[E>>2]|0)+c>>0]=(r|0)/(f|0)|0;d=d+1|0;i=n[p>>2]|0}while((d|0)<(i|0))}k=k+1|0;i=n[s>>2]|0}while((k|0)<(i|0))}if((a|0)!=0?(re(i,n[p>>2]|0)|0)>0:0){i=0;do{e=(n[E>>2]|0)+i|0;t[e>>0]=(o[e>>0]|0)+a;i=i+1|0}while((i|0)<(re(n[s>>2]|0,n[p>>2]|0)|0));i=0}else i=0}}while(0);return i|0}function Dl(e,i,r,t,a,n,o,s,f,l){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;n=n|0;o=o|0;s=s|0;f=f|0;l=l|0;var u=0;e:do{switch(a|0){case 0:{switch(n|0){case 1:{if(l){u=Vr(e,i,r,l,f)|0;break e}switch(s|0){case 0:{if(t>>>0<2){u=Fr(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=Or(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=Hr(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=Ir(e,i,r,o,f)|0;break e}case 8:{u=jr(e,i,r,o,f)|0;break e}case 7:{u=Lr(e,i,r,o,f)|0;break e}case 9:{u=Pr(e,i,r,o,f)|0;break e}case 10:{u=Nr(e,i,r,o,f)|0;break e}case 11:{u=Dr(e,i,r,o,f)|0;break e}default:vi(0)}break}case 1:{if(t>>>0<2){u=gr(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=yr(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=Tr(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=Ar(e,i,r,o,f)|0;break e}case 8:{u=xr(e,i,r,o,f)|0;break e}case 7:{u=Cr(e,i,r,o,f)|0;break e}case 9:{u=Sr(e,i,r,o,f)|0;break e}case 10:{u=Rr(e,i,r,o,f)|0;break e}case 11:{u=Mr(e,i,r,o,f)|0;break e}default:vi(0)}break}default:vi(0)}break}case 0:{if(l){u=nt(e,i,r,l,f)|0;break e}switch(s|0){case 0:{if(t>>>0<2){u=Jr(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=Qr(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=it(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=rt(e,i,r,o,f)|0;break e}case 8:{u=at(e,i,r,o,f)|0;break e}case 7:{u=tt(e,i,r,o,f)|0;break e}case 9:{u=Zr(e,i,r,o,f)|0;break e}case 10:{u=et(e,i,r,o,f)|0;break e}case 11:{u=$r(e,i,r,o,f)|0;break e}default:vi(0)}break}case 1:{if(t>>>0<2){u=Ur(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=Wr(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=qr(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=Gr(e,i,r,o,f)|0;break e}case 8:{u=Xr(e,i,r,o,f)|0;break e}case 7:{u=Kr(e,i,r,o,f)|0;break e}case 9:{u=Br(e,i,r,o,f)|0;break e}case 10:{u=Yr(e,i,r,o,f)|0;break e}case 11:{u=zr(e,i,r,o,f)|0;break e}default:vi(0)}break}default:vi(0)}break}default:vi(0)}break}case 1:{switch(n|0){case 1:{if(l){u=tr(e,i,r,l,f)|0;break e}switch(s|0){case 0:{if(t>>>0<2){u=Ki(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=Ji(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=$i(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=er(e,i,r,o,f)|0;break e}case 8:{u=rr(e,i,r,o,f)|0;break e}case 7:{u=ir(e,i,r,o,f)|0;break e}case 9:{u=Xi(e,i,r,o,f)|0;break e}case 10:{u=Qi(e,i,r,o,f)|0;break e}case 11:{u=Zi(e,i,r,o,f)|0;break e}default:vi(0)}break}case 1:{if(t>>>0<2){u=ot(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=ft(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=ct(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=Yi(e,i,r,o,f)|0;break e}case 8:{u=Gi(e,i,r,o,f)|0;break e}case 7:{u=qi(e,i,r,o,f)|0;break e}case 9:{u=st(e,i,r,o,f)|0;break e}case 10:{u=ut(e,i,r,o,f)|0;break e}case 11:{u=lt(e,i,r,o,f)|0;break e}default:vi(0)}break}default:vi(0)}break}case 0:{if(l){u=Yf(e,i,r,l,f)|0;break e}switch(s|0){case 0:{if(t>>>0<2){u=Hf(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=Lf(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=Uf(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=Bf(e,i,r,o,f)|0;break e}case 8:{u=zf(e,i,r,o,f)|0;break e}case 7:{u=Wf(e,i,r,o,f)|0;break e}case 9:{u=If(e,i,r,o,f)|0;break e}case 10:{u=Vf(e,i,r,o,f)|0;break e}case 11:{u=jf(e,i,r,o,f)|0;break e}default:vi(0)}break}case 1:{if(t>>>0<2){u=ar(e,i,r,o,f)|0;break e}if((t&-2|0)==2){u=or(e,i,r,o,f)|0;break e}if((t&-3|0)==4){u=lr(e,i,r,o,f)|0;break e}switch(t|0){case 5:case 12:case 13:case 14:{u=ur(e,i,r,o,f)|0;break e}case 8:{u=dr(e,i,r,o,f)|0;break e}case 7:{u=cr(e,i,r,o,f)|0;break e}case 9:{u=nr(e,i,r,o,f)|0;break e}case 10:{u=fr(e,i,r,o,f)|0;break e}case 11:{u=sr(e,i,r,o,f)|0;break e}default:vi(0)}break}default:vi(0)}break}default:vi(0)}break}default:vi(0)}}while(0);return u|0}function Nl(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0?(r=e+7062384|0,(n[r>>2]|0)==0):0){n[r>>2]=i;r=0}else r=-1;return r|0}function Hl(e){e=e|0;var i=0;if((e|0)!=0?(i=e+7062384|0,(n[i>>2]|0)!=0):0){n[i>>2]=0;i=0}else i=-1;return i|0}function Il(){return Ll(16,50)|0}function Ll(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,o=0,s=0,f=0,l=0,u=0,d=0,h=0,b=0,k=0,w=0,m=0;m=c;c=c+64|0;w=m+56|0;k=m+48|0;f=m+40|0;s=m+32|0;o=m+24|0;a=m+16|0;t=m+8|0;r=m;e:do{if(!((e+-16|0)>>>0>48|(i|0)<1)){h=Un(32)|0;if(!h){io(3,5472,r);vi(1)}n[h>>2]=0;n[h+4>>2]=i;n[h+28>>2]=e;d=Un(i<<2)|0;n[h+8>>2]=d;if(!d){io(3,5472,t);vi(1)}r=i<<4;u=Un(r)|0;n[h+12>>2]=u;if(!u){io(3,5472,a);vi(1)}a=Un(r)|0;l=h+20|0;n[l>>2]=a;if(!a){io(3,5472,o);vi(1)}r=i<<5;o=Un(r)|0;n[h+16>>2]=o;if(!o){io(3,5472,s);vi(1)}s=Un(r)|0;n[h+24>>2]=s;if(!s){io(3,5472,f);vi(1)}t=re(e,e)|0;r=t*12|0;t=t<<2;if((i|0)>0){e=0;i:while(1){n[d+(e<<2)>>2]=0;a=e<<2;s=0;while(1){if((s|0)>=4)break;f=Un(r)|0;o=s+a|0;n[u+(o<<2)>>2]=f;if(!f){r=18;break i}f=Un(t)|0;n[(n[l>>2]|0)+(o<<2)>>2]=f;if(!f){r=20;break i}else s=s+1|0}e=e+1|0;if((e|0)>=(i|0)){b=h;break e}}if((r|0)==18){io(3,5472,k);vi(1)}else if((r|0)==20){io(3,5472,w);vi(1)}}else b=h}else b=0}while(0);c=m;return b|0}function jl(e){e=e|0;var i=0,r=0,t=0,a=0,o=0,s=0,f=0;if(!e)i=-1;else{i=e+4|0;r=e+8|0;t=e+12|0;a=e+20|0;if((n[i>>2]|0)>0){o=0;do{if(n[(n[r>>2]|0)+(o<<2)>>2]|0)eo(e,o)|0;s=o<<2;Bn(n[(n[t>>2]|0)+(s<<2)>>2]|0);Bn(n[(n[a>>2]|0)+(s<<2)>>2]|0);f=1+s|0;Bn(n[(n[t>>2]|0)+(f<<2)>>2]|0);Bn(n[(n[a>>2]|0)+(f<<2)>>2]|0);f=2+s|0;Bn(n[(n[t>>2]|0)+(f<<2)>>2]|0);Bn(n[(n[a>>2]|0)+(f<<2)>>2]|0);s=3+s|0;Bn(n[(n[t>>2]|0)+(s<<2)>>2]|0);Bn(n[(n[a>>2]|0)+(s<<2)>>2]|0);o=o+1|0}while((o|0)<(n[i>>2]|0))}Bn(e);i=0}return i|0}function Vl(e,i,r,a,s,f,l,d,h,b,k,w,m,p,E,v,_,g,S){e=e|0;i=i|0;r=r|0;a=a|0;s=s|0;f=f|0;l=l|0;d=d|0;h=h|0;b=+b;k=k|0;w=w|0;m=m|0;p=p|0;E=E|0;v=v|0;_=_|0;g=g|0;S=S|0;var y=0,M=0,R=0,T=0,A=0,C=0,x=0,F=0,P=0,O=0,D=0,N=0,H=0,I=0;I=c;c=c+12448|0;R=I+12440|0;M=I+8|0;N=I;D=I+12312|0;H=I+24|0;do{if((r+-2|0)>>>0<3){if((_|0)!=2830){y=_&255;if((Gn(i,2,y,y*3|0,a,s,f,l,d,h,b,H)|0)<0){n[p>>2]=-1;y=-6;break}y=Kn(H,y,p,E,v,_,g)|0;if(!S)break;n[S>>2]=0;n[S+4>>2]=0;break}if((Gn(i,2,14,42,a,s,f,l,d,h,.875,H)|0)<0){n[p>>2]=-1;y=-6;break}n[M>>2]=0;n[M+4>>2]=182;n[M+8>>2]=195;n[M+12>>2]=13;_=t[H+(n[M>>2]|0)>>0]|0;y=(_&255)>0?_:0;_=(_&255)<255?_:-1;O=t[H+(n[M+4>>2]|0)>>0]|0;y=(O&255)>(y&255)?O:y;_=(O&255)<(_&255)?O:_;O=t[H+(n[M+8>>2]|0)>>0]|0;y=(O&255)>(y&255)?O:y;_=(O&255)<(_&255)?O:_;O=t[H+(n[M+12>>2]|0)>>0]|0;y=((O&255)>(y&255)?O:y)&255;_=((O&255)<(_&255)?O:_)&255;e:do{if((y-_|0)>=30){O=(y+_|0)>>>1;t[R>>0]=(o[H+(n[M>>2]|0)>>0]|0)>>>0<O>>>0&1;t[R+1>>0]=(o[H+(n[M+4>>2]|0)>>0]|0)>>>0<O>>>0&1;t[R+2>>0]=(o[H+(n[M+8>>2]|0)>>0]|0)>>>0<O>>>0&1;t[R+3>>0]=(o[H+(n[M+12>>2]|0)>>0]|0)>>>0<O>>>0&1;_=0;while(1){y=_+1|0;if(((t[R+_>>0]|0)==1?(t[R+((y|0)%4|0)>>0]|0)==1:0)?(t[R+((_+2|0)%4|0)>>0]|0)==0:0){P=_;break}if((y|0)<4)_=y;else{P=y;break}}switch(P|0){case 4:{n[E>>2]=0;u[v>>3]=-1.0;y=-3;_=0;M=0;break e}case 0:{M=119;y=255;_=0;do{C=_+-3|0;T=(_&-2|0)==12;A=_*14|0;R=0;do{if(((R+-3|C)>>>0>=8?(F=R&-2,(R|_)>>>0>=2):0)?!(T&((F|0)==0|(F|0)==12)):0){x=(o[H+(R+A)>>0]|0)-O|0;t[D+M>>0]=x>>>31;x=(x|0)>-1?x:0-x|0;M=M+-1|0;y=(x|0)<(y|0)?x:y}R=R+1|0}while((R|0)!=14);_=_+1|0}while((_|0)!=14);break}case 1:{M=119;y=255;_=0;do{C=_+-3|0;A=_&-2;T=(A|0)==0;A=(A|0)==12;R=13;while(1){if(((R+-3|C)>>>0>=8?(x=(R&-2|0)==12,!(T&x)):0)?!(A&(R>>>0<2|x)):0){F=(o[H+((R*14|0)+_)>>0]|0)-O|0;t[D+M>>0]=F>>>31;F=(F|0)>-1?F:0-F|0;M=M+-1|0;y=(F|0)<(y|0)?F:y}if((R|0)>0)R=R+-1|0;else break}_=_+1|0}while((_|0)!=14);break}case 2:{_=119;y=255;C=13;while(1){T=C+-3|0;A=C>>>0<2|(C&-2|0)==12;R=C*14|0;M=13;while(1){if((M+-3|T)>>>0>=8?!((M|C)>>>0<2|A&(M&-2|0)==12):0){F=(o[H+(M+R)>>0]|0)-O|0;t[D+_>>0]=F>>>31;F=(F|0)>-1?F:0-F|0;_=_+-1|0;y=(F|0)<(y|0)?F:y}if((M|0)>0)M=M+-1|0;else break}if((C|0)>0)C=C+-1|0;else break}break}case 3:{_=119;y=255;C=13;while(1){A=C+-3|0;T=C&-2;R=(T|0)==12;T=(T|0)==0;M=0;do{if(((M+-3|A)>>>0>=8?!(R&M>>>0<2|(M|C)>>>0<2):0)?!(T&(M&-2|0)==12):0){F=(o[H+((M*14|0)+C)>>0]|0)-O|0;t[D+_>>0]=F>>>31;F=(F|0)>-1?F:0-F|0;_=_+-1|0;y=(F|0)<(y|0)?F:y}M=M+1|0}while((M|0)!=14);if((C|0)>0)C=C+-1|0;else break}break}default:y=255}n[E>>2]=P;u[v>>3]=(y|0)>30?1.0:+(y|0)/30.0;y=Zn(2830,0,0,D,N)|0;if((y|0)<0){y=-4;_=0;M=0}else{if(g)n[g>>2]=y;M=N;y=0;_=n[M>>2]|0;M=n[M+4>>2]|0}}else{n[E>>2]=0;u[v>>3]=-1.0;y=-2;_=0;M=0}}while(0);if((y|0)<0){n[p>>2]=-1;break}if((_|0)==-1&(M|0)==-1){n[p>>2]=-1;y=-5;break}n[p>>2]=(_&-32768|0)==0&0==0?_&32767:0;if(!S)y=0;else{y=S;n[y>>2]=_;n[y+4>>2]=M;y=0}}else y=1}while(0);e:do{switch(r|0){case 0:case 1:case 3:case 4:{if(!e){n[k>>2]=-1;_=-1;break e}_=e+28|0;M=n[_>>2]|0;R=M<<2;switch(r|0){case 0:case 3:if((Gn(i,0,M,R,a,s,f,l,d,h,b,H)|0)<0){n[k>>2]=-1;_=-6;break e}else{_=Xn(e,0,H,n[_>>2]|0,k,w,m)|0;break e}default:if((Gn(i,1,M,R,a,s,f,l,d,h,b,H)|0)<0){n[k>>2]=-1;_=-6;break e}else{_=Xn(e,1,H,n[_>>2]|0,k,w,m)|0;break e}}}default:_=1}}while(0);if((y|0)!=1){if((_|0)!=1)y=(_&y|0)<0?_:0}else y=_;c=I;return y|0}function Ul(e){e=e|0;var i=0,r=0,t=0,a=0,o=0,s=0,f=0,l=0;l=c;c=c+16|0;i=l+8|0;s=l+4|0;r=l;n[s>>2]=e;do{if(e>>>0>=212){o=(e>>>0)/210|0;t=o*210|0;n[r>>2]=e-t;i=(Bl(3712,3904,r,i)|0)-3712>>2;a=i;i=(n[3712+(i<<2)>>2]|0)+t|0;e:while(1){t=5;while(1){if(t>>>0>=47){t=211;f=8;break}r=n[3520+(t<<2)>>2]|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=106;break e}if((i|0)==(re(e,r)|0))break;else t=t+1|0}i:do{if((f|0)==8)while(1){f=0;r=(i>>>0)/(t>>>0)|0;if(r>>>0<t>>>0){f=105;break e}if((i|0)==(re(r,t)|0))break i;r=t+10|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+12|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+16|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+18|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+22|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+28|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+30|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+36|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+40|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+42|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+46|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+52|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+58|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+60|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+66|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+70|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+72|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+78|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+82|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+88|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+96|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+100|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+102|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+106|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+108|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+112|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+120|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+126|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+130|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+136|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+138|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+142|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+148|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+150|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+156|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+162|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+166|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+168|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+172|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+178|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+180|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+186|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+190|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+192|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+196|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+198|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break i;r=t+208|0;e=(i>>>0)/(r>>>0)|0;if(e>>>0<r>>>0){f=105;break e}if((i|0)==(re(e,r)|0))break;else{t=t+210|0;f=8}}}while(0);t=a+1|0;i=(t|0)==48;t=i?0:t;i=(i&1)+o|0;a=t;o=i;i=(n[3712+(t<<2)>>2]|0)+(i*210|0)|0}if((f|0)==105){n[s>>2]=i;break}else if((f|0)==106){n[s>>2]=i;break}}else i=n[(Bl(3520,3712,s,i)|0)>>2]|0}while(0);c=l;return i|0}function Bl(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0;a=n[r>>2]|0;t=e;r=i-e>>2;e:while(1){while(1){if(!r)break e;e=(r|0)/2|0;if((n[t+(e<<2)>>2]|0)>>>0<a>>>0)break;else r=e}t=t+(e+1<<2)|0;r=r+-1-e|0}return t|0}function Wl(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0;if(r>>>0>4294967279)fa(e);if(r>>>0<11){t[e>>0]=r<<1;e=e+1|0}else{o=r+16&-16;a=xt(o)|0;n[e+8>>2]=a;n[e>>2]=o|1;n[e+4>>2]=r;e=a}Zl(e|0,i|0,r|0)|0;t[e+r>>0]=0;return}function zl(e){e=e|0;if(t[e>>0]&1)Ft(n[e+8>>2]|0);return}function Yl(){}function ql(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;t=i-t-(r>>>0>e>>>0|0)>>>0;return(P=t,e-r>>>0|0)|0}function Gl(e,i,r){e=e|0;i=i|0;r=r|0;var a=0,o=0,s=0,f=0;a=e+r|0;if((r|0)>=20){i=i&255;s=e&3;f=i|i<<8|i<<16|i<<24;o=a&~3;if(s){s=e+4-s|0;while((e|0)<(s|0)){t[e>>0]=i;e=e+1|0}}while((e|0)<(o|0)){n[e>>2]=f;e=e+4|0}}while((e|0)<(a|0)){t[e>>0]=i;e=e+1|0}return e-r|0}function Kl(e,i,r){e=e|0;i=i|0;r=r|0;if((r|0)<32){P=i<<r|(e&(1<<r)-1<<32-r)>>>32-r;return e<<r}P=e<<r-32;return 0}function Xl(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;r=e+r>>>0;return(P=i+t+(r>>>0<e>>>0|0)>>>0,r|0)|0}function Jl(e,i,r){e=e|0;i=i|0;r=r|0;if((r|0)<32){P=i>>>r;return e>>>r|(i&(1<<r)-1)<<32-r}P=0;return i>>>r-32|0}function Zl(e,i,r){e=e|0;i=i|0;r=r|0;var a=0;if((r|0)>=4096)return Qe(e|0,i|0,r|0)|0;a=e|0;if((e&3)==(i&3)){while(e&3){if(!r)return a|0;t[e>>0]=t[i>>0]|0;e=e+1|0;i=i+1|0;r=r-1|0}while((r|0)>=4){n[e>>2]=n[i>>2];e=e+4|0;i=i+4|0;r=r-4|0}}while((r|0)>0){t[e>>0]=t[i>>0]|0;e=e+1|0;i=i+1|0;r=r-1|0}return a|0}function Ql(e,i,r){e=e|0;i=i|0;r=r|0;if((r|0)<32){P=i>>r;return e>>>r|(i&(1<<r)-1)<<32-r}P=(i|0)<0?-1:0;return i>>r-32|0}function $l(e){e=e|0;var i=0;i=t[k+(e&255)>>0]|0;if((i|0)<8)return i|0;i=t[k+(e>>8&255)>>0]|0;if((i|0)<8)return i+8|0;i=t[k+(e>>16&255)>>0]|0;if((i|0)<8)return i+16|0;return(t[k+(e>>>24)>>0]|0)+24|0}function eu(e,i){e=e|0;i=i|0;var r=0,t=0,a=0,n=0;n=e&65535;a=i&65535;r=re(a,n)|0;t=e>>>16;e=(r>>>16)+(re(a,t)|0)|0;a=i>>>16;i=re(a,n)|0;return(P=(e>>>16)+(re(a,t)|0)+(((e&65535)+i|0)>>>16)|0,e+i<<16|r&65535|0)|0}function iu(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,n=0,o=0,s=0,f=0,l=0;l=i>>31|((i|0)<0?-1:0)<<1;f=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;n=t>>31|((t|0)<0?-1:0)<<1;a=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;s=ql(l^e,f^i,l,f)|0;o=P;e=n^l;i=a^f;return ql((ou(s,o,ql(n^r,a^t,n,a)|0,P,0)|0)^e,P^i,e,i)|0}function ru(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0,s=0,f=0,l=0,u=0;a=c;c=c+16|0;f=a|0;s=i>>31|((i|0)<0?-1:0)<<1;o=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;u=t>>31|((t|0)<0?-1:0)<<1;l=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;e=ql(s^e,o^i,s,o)|0;i=P;ou(e,i,ql(u^r,l^t,u,l)|0,P,f)|0;t=ql(n[f>>2]^s,n[f+4>>2]^o,s,o)|0;r=P;c=a;return(P=r,t)|0}function tu(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,n=0;a=e;n=r;r=eu(a,n)|0;e=P;return(P=(re(i,n)|0)+(re(t,a)|0)+e|e&0,r|0|0)|0}function au(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;return ou(e,i,r,t,0)|0}function nu(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;var a=0,o=0;o=c;c=c+16|0;a=o|0;ou(e,i,r,t,a)|0;c=o;return(P=n[a+4>>2]|0,n[a>>2]|0)|0}function ou(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;var o=0,s=0,f=0,l=0,u=0,c=0,d=0,h=0,b=0,k=0;c=e;l=i;u=l;s=r;h=t;f=h;if(!u){o=(a|0)!=0;if(!f){if(o){n[a>>2]=(c>>>0)%(s>>>0);n[a+4>>2]=0}h=0;a=(c>>>0)/(s>>>0)>>>0;return(P=h,a)|0}else{if(!o){h=0;a=0;return(P=h,a)|0}n[a>>2]=e|0;n[a+4>>2]=i&0;h=0;a=0;return(P=h,a)|0}}o=(f|0)==0;do{if(s){if(!o){o=(ae(f|0)|0)-(ae(u|0)|0)|0;if(o>>>0<=31){d=o+1|0;f=31-o|0;i=o-31>>31;s=d;e=c>>>(d>>>0)&i|u<<f;i=u>>>(d>>>0)&i;o=0;f=c<<f;break}if(!a){h=0;a=0;return(P=h,a)|0}n[a>>2]=e|0;n[a+4>>2]=l|i&0;h=0;a=0;return(P=h,a)|0}o=s-1|0;if(o&s){f=(ae(s|0)|0)+33-(ae(u|0)|0)|0;k=64-f|0;d=32-f|0;l=d>>31;b=f-32|0;i=b>>31;s=f;e=d-1>>31&u>>>(b>>>0)|(u<<d|c>>>(f>>>0))&i;i=i&u>>>(f>>>0);o=c<<k&l;f=(u<<k|c>>>(b>>>0))&l|c<<d&f-33>>31;break}if(a){n[a>>2]=o&c;n[a+4>>2]=0}if((s|0)==1){b=l|i&0;k=e|0|0;return(P=b,k)|0}else{k=$l(s|0)|0;b=u>>>(k>>>0)|0;k=u<<32-k|c>>>(k>>>0)|0;return(P=b,k)|0}}else{if(o){if(a){n[a>>2]=(u>>>0)%(s>>>0);n[a+4>>2]=0}b=0;k=(u>>>0)/(s>>>0)>>>0;return(P=b,k)|0}if(!c){if(a){n[a>>2]=0;n[a+4>>2]=(u>>>0)%(f>>>0)}b=0;k=(u>>>0)/(f>>>0)>>>0;return(P=b,k)|0}o=f-1|0;if(!(o&f)){if(a){n[a>>2]=e|0;n[a+4>>2]=o&u|i&0}b=0;k=u>>>(($l(f|0)|0)>>>0);return(P=b,k)|0}o=(ae(f|0)|0)-(ae(u|0)|0)|0;if(o>>>0<=30){i=o+1|0;f=31-o|0;s=i;e=u<<f|c>>>(i>>>0);i=u>>>(i>>>0);o=0;f=c<<f;break}if(!a){b=0;k=0;return(P=b,k)|0}n[a>>2]=e|0;n[a+4>>2]=l|i&0;b=0;k=0;return(P=b,k)|0}}while(0);if(!s){u=f;l=0;f=0}else{d=r|0|0;c=h|t&0;u=Xl(d|0,c|0,-1,-1)|0;r=P;l=f;f=0;do{t=l;l=o>>>31|l<<1;o=f|o<<1;t=e<<1|t>>>31|0;h=e>>>31|i<<1|0;ql(u,r,t,h)|0;k=P;b=k>>31|((k|0)<0?-1:0)<<1;f=b&1;e=ql(t,h,b&d,(((k|0)<0?-1:0)>>31|((k|0)<0?-1:0)<<1)&c)|0;i=P;s=s-1|0}while((s|0)!=0);u=l;l=0}s=0;if(a){n[a>>2]=e;n[a+4>>2]=i}b=(o|0)>>>31|(u|s)<<1|(s<<1|o>>>31)&0|l;k=(o<<1|0>>>31)&-2|f;return(P=b,k)|0}function su(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;return ju[e&15](i|0,r|0,t|0)|0}function fu(e,i,r,t,a,n){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;n=n|0;Vu[e&3](i|0,r|0,t|0,a|0,n|0)}function lu(e,i,r){e=e|0;i=i|0;r=r|0;return+Uu[e&1](i|0,r|0)}function uu(e,i,r){e=e|0;i=i|0;r=+r;Bu[e&3](i|0,+r)}function cu(e,i){e=e|0;i=i|0;return+Wu[e&3](i|0)}function du(e){e=e|0;return zu[e&1]()|0}function hu(e,i){e=e|0;i=i|0;Yu[e&15](i|0)}function bu(e,i,r){e=e|0;i=i|0;r=r|0;qu[e&7](i|0,r|0)}function ku(e,i){e=e|0;i=i|0;return Gu[e&31](i|0)|0}function wu(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;Ku[e&1](i|0,r|0,t|0)}function mu(e){e=e|0;Xu[e&0]()}function pu(e,i,r,t){e=e|0;i=i|0;r=r|0;t=+t;Ju[e&3](i|0,r|0,+t)}function Eu(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;return Zu[e&1](i|0,r|0,t|0,a|0)|0}function vu(e,i,r,t,a,n,o){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;n=n|0;o=o|0;Qu[e&3](i|0,r|0,t|0,a|0,n|0,o|0)}function _u(e,i,r){e=e|0;i=i|0;r=r|0;return $u[e&15](i|0,r|0)|0}function gu(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;ec[e&3](i|0,r|0,t|0,a|0)}function Su(e,i,r){e=e|0;i=i|0;r=r|0;ne(0);return 0}function yu(e,i,r,t,a){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;ne(1)}function Mu(e,i){e=e|0;i=i|0;ne(2);return 0.0}function Ru(e,i){e=e|0;i=+i;ne(3)}function Tu(e){e=e|0;ne(4);return 0.0}function Au(){ne(5);return 0}function Cu(e){e=e|0;ne(6)}function xu(e,i){e=e|0;i=i|0;ne(7)}function Fu(e){e=e|0;ne(8);return 0}function Pu(e,i,r){e=e|0;i=i|0;r=r|0;ne(9)}function Ou(){ne(10)}function Du(e,i,r){e=e|0;i=i|0;r=+r;ne(11)}function Nu(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;ne(12);return 0}function Hu(e,i,r,t,a,n){e=e|0;i=i|0;r=r|0;t=t|0;a=a|0;n=n|0;ne(13)}function Iu(e,i){e=e|0;i=i|0;ne(14);return 0}function Lu(e,i,r,t){e=e|0;i=i|0;r=r|0;t=t|0;ne(15)}var ju=[Su,Yt,qt,In,Ha,Na,Ia,Ws,Ns,Os,Ds,Us,Af,Tf,Da,On];var Vu=[yu,aa,ta,ea];var Uu=[Mu,_f];var Bu=[Ru,cs,hs,ms];var Wu=[Tu,ds,bs,ps];var zu=[Au,rs];var Yu=[Cu,Pt,Ot,Lt,Ut,jt,Vt,Bt,Wt,zt,is,hf,bf,Cn,xn,Cu];var qu=[xu,Ms,Ss,ks,Es,_s,xs,yf];var Gu=[Fu,Dt,Oa,as,us,ns,js,Vs,Cs,As,Rs,ys,ws,vs,gs,Fs,Sf,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu,Fu];var Ku=[Pu,vf];var Xu=[Ou];var Ju=[Du,gf,Ef,Du];var Zu=[Nu,xf];var Qu=[Hu,sa,oa,na];var $u=[Iu,qo,ss,fs,ls,Hs,Ls,Is,Bs,Ts,Cf,Mf,Iu,Iu,Iu,Iu];var ec=[Lu,Kt,Xt,Zt];return{_i64Subtract:ql,_fflush:za,_i64Add:Xl,_memset:Gl,_malloc:Un,_memcpy:Zl,___getTypeName:vt,_bitshift64Lshr:Jl,_free:Bn,___errno_location:ua,_bitshift64Shl:Kl,__GLOBAL__sub_I_ARToolKitJS_cpp:df,__GLOBAL__sub_I_bind_cpp:gt,runPostSets:Yl,stackAlloc:hr,stackSave:br,stackRestore:kr,establishStackSpace:wr,setThrew:mr,setTempRet0:vr,getTempRet0:_r,dynCall_iiii:su,dynCall_viiiii:fu,dynCall_dii:lu,dynCall_vid:uu,dynCall_di:cu,dynCall_i:du,dynCall_vi:hu,dynCall_vii:bu,dynCall_ii:ku,dynCall_viii:wu,dynCall_v:mu,dynCall_viid:pu,dynCall_iiiii:Eu,dynCall_viiiiii:vu,dynCall_iii:_u,dynCall_viiii:gu}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_i64Subtract=Module._i64Subtract=asm._i64Subtract,__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp,_fflush=Module._fflush=asm._fflush,__GLOBAL__sub_I_ARToolKitJS_cpp=Module.__GLOBAL__sub_I_ARToolKitJS_cpp=asm.__GLOBAL__sub_I_ARToolKitJS_cpp,_i64Add=Module._i64Add=asm._i64Add,_memset=Module._memset=asm._memset,runPostSets=Module.runPostSets=asm.runPostSets,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,___getTypeName=Module.___getTypeName=asm.___getTypeName,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_free=Module._free=asm._free,___errno_location=Module.___errno_location=asm.___errno_location,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii,initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function i(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),i()},1)):i()))}function exit(e,i){if(!i||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),console.log(" "),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e)}dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var i=e.length+1;function r(){for(var e=0;e<3;e++)t.push(0)}var t=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];r();for(var a=0;a<i-1;a+=1)t.push(allocate(intArrayFromString(e[a]),"i8",ALLOC_NORMAL)),r();t.push(0),t=allocate(t,"i32",ALLOC_NORMAL);try{exit(Module._main(i,t,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var i="abort("+e+") at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw abortDecorators&&abortDecorators.forEach(function(r){i=r(i,e)}),i}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run(),function(){"use strict";var e=function(e,r,t){var a=e,n=r;if(this.orientation="landscape",this.listeners={},"number"!=typeof e){var o=e;t=r,a=o.videoWidth||o.width,n=o.videoHeight||o.height,this.image=o}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=n,this.ctx=this.canvas.getContext("2d"),this.videoWidth=a,this.videoHeight=n,"string"==typeof t){var s=this;this.cameraParam=new i(t,function(){s._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=t,this._initialize()};e.prototype.dispose=function(){for(var e in r.teardown(this.id),this)this[e]=null},e.prototype.process=function(e){this.detectMarker(e);var i,t,a=this.getMarkerNum();for(i in this.patternMarkers)(t=this.patternMarkers[i]).inPrevious=t.inCurrent,t.inCurrent=!1;for(i in this.barcodeMarkers)(t=this.barcodeMarkers[i]).inPrevious=t.inCurrent,t.inCurrent=!1;for(var n=0;n<a;n++){var o=this.getMarker(n),s=r.UNKNOWN_MARKER,f=this.trackPatternMarkerId(-1);o.idPatt>-1&&(o.id===o.idPatt||-1===o.idMatrix)?(f=this.trackPatternMarkerId(o.idPatt),s=r.PATTERN_MARKER,o.dir!==o.dirPatt&&this.setMarkerInfoDir(n,o.dirPatt)):o.idMatrix>-1&&(f=this.trackBarcodeMarkerId(o.idMatrix),s=r.BARCODE_MARKER,o.dir!==o.dirMatrix&&this.setMarkerInfoDir(n,o.dirMatrix)),s!==r.UNKNOWN_MARKER&&f.inPrevious?this.getTransMatSquareCont(n,f.markerWidth,f.matrix,f.matrix):this.getTransMatSquare(n,f.markerWidth,f.matrix),f.inCurrent=!0,this.transMatToGLMat(f.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:n,type:s,marker:o,matrix:this.transform_mat}})}var l=this.getMultiMarkerCount();for(n=0;n<l;n++){var u=this.getMultiMarkerPatternCount(n);f=!1;r.getTransMatMultiSquareRobust(this.id,n),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var c=0;c<u;c++){if((d=this.getMultiEachMarker(n,c)).visible>=0){f=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:n,matrix:this.transform_mat}});break}}if(f)for(c=0;c<u;c++){var d=this.getMultiEachMarker(n,c);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:n,markerIndex:c,marker:d,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},e.prototype.trackPatternMarkerId=function(e,i){var r=this.patternMarkers[e];return r||(this.patternMarkers[e]=r={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:i||this.defaultMarkerWidth}),i&&(r.markerWidth=i),r},e.prototype.trackBarcodeMarkerId=function(e,i){var r=this.barcodeMarkers[e];return r||(this.barcodeMarkers[e]=r={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:i||this.defaultMarkerWidth}),i&&(r.markerWidth=i),r},e.prototype.getMultiMarkerCount=function(){return r.getMultiMarkerCount(this.id)},e.prototype.getMultiMarkerPatternCount=function(e){return r.getMultiMarkerNum(this.id,e)},e.prototype.addEventListener=function(e,i){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(i)},e.prototype.removeEventListener=function(e,i){if(this.listeners[e]){var r=this.listeners[e].indexOf(i);r>-1&&this.listeners[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){var i=this.listeners[e.name];if(i)for(var r=0;r<i.length;r++)i[r].call(this,e)},e.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},e.prototype.loadMarker=function(e,i,t){return r.addMarker(this.id,e,i,t)},e.prototype.loadMultiMarker=function(e,i,t){return r.addMultiMarker(this.id,e,i,t)},e.prototype.getTransMatSquare=function(e,i,t){return r.getTransMatSquare(this.id,e,i),t.set(this.marker_transform_mat),t},e.prototype.getTransMatSquareCont=function(e,i,t,a){return this.marker_transform_mat.set(t),r.getTransMatSquareCont(this.id,e,i),a.set(this.marker_transform_mat),a},e.prototype.getTransMatMultiSquare=function(e,i){return r.getTransMatMultiSquare(this.id,e),i.set(this.marker_transform_mat),i},e.prototype.getTransMatMultiSquareRobust=function(e,i){return r.getTransMatMultiSquare(this.id,e),i.set(this.marker_transform_mat),i},e.prototype.transMatToGLMat=function(e,i,r){return i[0]=e[0],i[4]=e[1],i[8]=e[2],i[12]=e[3],i[1]=e[4],i[5]=e[5],i[9]=e[6],i[13]=e[7],i[2]=e[8],i[6]=e[9],i[10]=e[10],i[14]=e[11],i[3]=0,i[7]=0,i[11]=0,i[15]=1,null!=r&&0!==r&&(i[12]*=r,i[13]*=r,i[14]*=r),i},e.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?r.detectMarker(this.id):-99},e.prototype.getMarkerNum=function(){return r.getMarkerNum(this.id)},e.prototype.getMarker=function(e){if(0===r.getMarker(this.id,e))return r.markerInfo},e.prototype.setMarkerInfoVertex=function(e,i){for(var t=0;t<i.length;t++)this.marker_transform_mat[2*t+0]=i[t][0],this.marker_transform_mat[2*t+1]=i[t][1];return r.setMarkerInfoVertex(this.id,e)},e.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.getMultiEachMarker=function(e,i){if(0===r.getMultiEachMarker(this.id,e,i))return r.multiEachMarkerInfo},e.prototype.getTransformationMatrix=function(){return this.transform_mat},e.prototype.getCameraMatrix=function(){return this.camera_mat},e.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},e.prototype.setDebugMode=function(e){return r.setDebugMode(this.id,e)},e.prototype.getDebugMode=function(){return r.getDebugMode(this.id)},e.prototype.getProcessingImage=function(){return r.getProcessingImage(this.id)},e.prototype.setLogLevel=function(e){return r.setLogLevel(e)},e.prototype.getLogLevel=function(){return r.getLogLevel()},e.prototype.setMarkerInfoDir=function(e,i){return r.setMarkerInfoDir(this.id,e,i)},e.prototype.setProjectionNearPlane=function(e){return r.setProjectionNearPlane(this.id,e)},e.prototype.getProjectionNearPlane=function(){return r.getProjectionNearPlane(this.id)},e.prototype.setProjectionFarPlane=function(e){return r.setProjectionFarPlane(this.id,e)},e.prototype.getProjectionFarPlane=function(){return r.getProjectionFarPlane(this.id)},e.prototype.setThresholdMode=function(e){return r.setThresholdMode(this.id,e)},e.prototype.getThresholdMode=function(){return r.getThresholdMode(this.id)},e.prototype.setThreshold=function(e){return r.setThreshold(this.id,e)},e.prototype.getThreshold=function(){return r.getThreshold(this.id)},e.prototype.setPatternDetectionMode=function(e){return r.setPatternDetectionMode(this.id,e)},e.prototype.getPatternDetectionMode=function(){return r.getPatternDetectionMode(this.id)},e.prototype.setMatrixCodeType=function(e){return r.setMatrixCodeType(this.id,e)},e.prototype.getMatrixCodeType=function(){return r.getMatrixCodeType(this.id)},e.prototype.setLabelingMode=function(e){return r.setLabelingMode(this.id,e)},e.prototype.getLabelingMode=function(){return r.getLabelingMode(this.id)},e.prototype.setPattRatio=function(e){return r.setPattRatio(this.id,e)},e.prototype.getPattRatio=function(){return r.getPattRatio(this.id)},e.prototype.setImageProcMode=function(e){return r.setImageProcMode(this.id,e)},e.prototype.getImageProcMode=function(){return r.getImageProcMode(this.id)},e.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),i=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(i,0,0);for(var r=this.getMarkerNum(),t=0;t<r;t++)this._debugMarker(this.getMarker(t))},e.prototype._initialize=function(){this.id=r.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=r.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var i=this;setTimeout(function(){i.onload&&i.onload(),i.dispatchEvent({name:"load",target:i})},1)},e.prototype._copyImageToHeap=function(e){e||(e=this.image),"portrait"===this.orientation?(this.ctx.save(),this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width),this.ctx.restore()):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height);var i=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height).data;return!!this.dataHeap&&(this.dataHeap.set(i),!0)},e.prototype._debugMarker=function(e){var i,r;i=e.vertex;var t=this.ctx;t.strokeStyle="red",t.beginPath(),t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.stroke(),t.beginPath(),t.moveTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.stroke(),t.strokeStyle="green",t.beginPath(),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.stroke(),t.beginPath(),t.moveTo(i[3][0],i[3][1]),t.lineTo(i[0][0],i[0][1]),t.stroke(),r=e.pos,t.beginPath(),t.arc(r[0],r[1],8,0,2*Math.PI),t.fillStyle="red",t.fill()},e.getUserMedia=function(e){var i=e.facingMode||"environment",r=e.onSuccess,t=e.onError||function(e){console.error("ARController.getUserMedia",e)},a=document.createElement("video"),n=function(){0!==this.videoWidth&&r(a)},o=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],f=function(e){o&&(a.play(),a.paused||s.forEach(function(e){window.removeEventListener(e,f,!0)}))};s.forEach(function(e){window.addEventListener(e,f,!0)});var l=function(e){a.addEventListener("loadedmetadata",n,!1),a.src=window.URL.createObjectURL(e),o=!0,f()},u={},c={};e.width&&(c.width=e.width,"object"==typeof e.width?(e.width.max&&(u.maxWidth=e.width.max),e.width.min&&(u.minWidth=e.width.max)):u.maxWidth=e.width),e.height&&(c.height=e.height,"object"==typeof e.height?(e.height.max&&(u.maxHeight=e.height.max),e.height.min&&(u.minHeight=e.height.max)):u.maxHeight=e.height),c.facingMode=i,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var d={audio:!1,video:{mandatory:u}};return navigator.getUserMedia?navigator.getUserMedia(d,l,t):t("navigator.getUserMedia is not supported on your browser"),a},e.getUserMediaARController=function(r){var t={};for(var a in r)t[a]=r[a];var n=r.onSuccess,o=r.cameraParam;t.onSuccess=function(){new i(o,function(){var i=(r.maxARVideoSize||Math.max(s.videoWidth,s.videoHeight))/Math.max(s.videoWidth,s.videoHeight),t=i*s.videoWidth,a=i*s.videoHeight;if(s.videoWidth<s.videoHeight){var o=t;t=a,a=o}var f=new e(t,a,this);f.image=s,s.videoWidth<s.videoHeight?(f.orientation="portrait",f.videoWidth=s.videoHeight,f.videoHeight=s.videoWidth):(f.orientation="landscape",f.videoWidth=s.videoWidth,f.videoHeight=s.videoHeight),n(f,this)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var s=this.getUserMedia(t);return s};var i=function(e,i,r){this.id=-1,this._src="",this.complete=!1,this.onload=i,this.onerror=r,e&&this.load(e)};i.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var i=this;r.loadCamera(e,function(e){i.id=e,i.complete=!0,i.onload()},function(e){i.onerror(e)})}},Object.defineProperty(i.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),i.prototype.dispose=function(){-1!==this.id&&r.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var r={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:function(e,i){var r="/camera_param_"+s++,t=function(){var e=Module._loadCamera(r);i&&i(e)};"object"==typeof e?f(r,e,t):e.indexOf("\n")>-1?function(e,i,r){for(var t=new Uint8Array(i.length),a=0;a<t.length;a++)t[a]=255&i.charCodeAt(a);f(e,t,r)}(r,e,t):l(e,r,t)},addMarker:function(e,i,r){var t="/marker_"+n++;l(i,t,function(){var i=Module._addMarker(e,t);r&&r(i)})},addMultiMarker:function(e,i,r){var t="/multi_marker_"+o++;l(i,t,function(a){var n=function(e){var i=(a=e,String.fromCharCode.apply(String,a)).split("\n"),r=[],t=0;var a;return i.forEach(function(e){if((e=e.trim())&&!e.startsWith("#"))switch(t){case 0:return+e,void(t=1);case 1:e.match(/^\d+$/)||r.push(e);case 2:case 3:case 4:return void t++;case 5:return void(t=1)}}),r}(a);function o(){var i=Module._addMultiMarker(e,t),a=Module.getMultiMarkerNum(e,i);r&&r(i,a)}if(!n.length)return o();var s=i.split("/").slice(0,-1).join("/");(function e(i,r){var t=i.pop();t?l(t[0],t[1],function(){e(i,r)}):r()})(n=n.map(function(e){return"patt.hiro"===e||"patt.kanji"===e||"patt2.hiro"===e||"patt2.kanji"===e?["http://127.0.0.1:8080/data/data/"+e,e]:[s+"/"+e,e]}),o)})}},t=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"];function a(){for(var e in t.forEach(function(e){r[e]=Module[e]}),Module)e.match(/^AR/)&&(r[e]=Module[e])}var n=0;var o=0;var s=0;function f(e,i,r){FS.writeFile(e,i,{encoding:"binary"}),r(i)}function l(e,i,r){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(e){var a=t.response,n=new Uint8Array(a);f(i,n,r)},t.send()}window.artoolkit=r,window.ARController=e,window.ARCameraParam=i,window.Module?a():window.Module={onRuntimeInitialized:function(){a()}}}();var AR=AR||{};AR.Marker=function(e,i){this.id=e,this.corners=i},AR.Detector=function(){this.grey=new CV.Image,this.thres=new CV.Image,this.homography=new CV.Image,this.binary=[],this.contours=[],this.polys=[],this.candidates=[]},AR.Detector.prototype.detect=function(e){return CV.grayscale(e,this.grey),CV.adaptiveThreshold(this.grey,this.thres,2,7),this.contours=CV.findContours(this.thres,this.binary),this.candidates=this.findCandidates(this.contours,.2*e.width,.05,10),this.candidates=this.clockwiseCorners(this.candidates),this.candidates=this.notTooNear(this.candidates,10),this.findMarkers(this.grey,this.candidates,49)},AR.Detector.prototype.findCandidates=function(e,i,r,t){var a,n,o,s=[],f=e.length;for(this.polys=[],o=0;o<f;++o)(a=e[o]).length>=i&&(n=CV.approxPolyDP(a,a.length*r),this.polys.push(n),4===n.length&&CV.isContourConvex(n)&&CV.minEdgeLength(n)>=t&&s.push(n));return s},AR.Detector.prototype.clockwiseCorners=function(e){var i,r,t,a,n,o=e.length;for(n=0;n<o;++n)i=e[n][1].x-e[n][0].x,t=e[n][1].y-e[n][0].y,r=e[n][2].x-e[n][0].x,i*(e[n][2].y-e[n][0].y)-t*r<0&&(a=e[n][1],e[n][1]=e[n][3],e[n][3]=a);return e},AR.Detector.prototype.notTooNear=function(e,i){var r,t,a,n,o,s,f=[],l=e.length;for(n=0;n<l;++n)for(o=n+1;o<l;++o){for(r=0,s=0;s<4;++s)r+=(t=e[n][s].x-e[o][s].x)*t+(a=e[n][s].y-e[o][s].y)*a;r/4<i*i&&(CV.perimeter(e[n])<CV.perimeter(e[o])?e[n].tooNear=!0:e[o].tooNear=!0)}for(n=0;n<l;++n)e[n].tooNear||f.push(e[n]);return f},AR.Detector.prototype.findMarkers=function(e,i,r){var t,a,n,o=[],s=i.length;for(n=0;n<s;++n)t=i[n],CV.warp(e,this.homography,t,r),CV.threshold(this.homography,this.homography,CV.otsu(this.homography)),(a=this.getMarker(this.homography,t))&&o.push(a);return o},AR.Detector.prototype.getMarker=function(e,i){var r,t,a,n,o,s=e.width/7>>>0,f=s*s>>1,l=[],u=[],c=[];for(n=0;n<7;++n)for(a=0===n||6===n?1:6,o=0;o<7;o+=a)if(r={x:o*s,y:n*s,width:s,height:s},CV.countNonZero(e,r)>f)return null;for(n=0;n<5;++n)for(l[n]=[],o=0;o<5;++o)r={x:(o+1)*s,y:(n+1)*s,width:s,height:s},l[n][o]=CV.countNonZero(e,r)>f?1:0;for(u[0]=l,c[0]=this.hammingDistance(u[0]),t={first:c[0],second:0},n=1;n<4;++n)u[n]=this.rotate(u[n-1]),c[n]=this.hammingDistance(u[n]),c[n]<t.first&&(t.first=c[n],t.second=n);return 0!==t.first?null:new AR.Marker(this.mat2id(u[t.second]),this.rotate2(i,4-t.second))},AR.Detector.prototype.hammingDistance=function(e){var i,r,t,a,n,o=[[1,0,0,0,0],[1,0,1,1,1],[0,1,0,0,1],[0,1,1,1,0]],s=0;for(t=0;t<5;++t){for(r=1/0,a=0;a<4;++a){for(i=0,n=0;n<5;++n)i+=e[t][n]===o[a][n]?0:1;i<r&&(r=i)}s+=r}return s},AR.Detector.prototype.mat2id=function(e){var i,r=0;for(i=0;i<5;++i)r<<=1,r|=e[i][1],r<<=1,r|=e[i][3];return r},AR.Detector.prototype.rotate=function(e){var i,r,t=[],a=e.length;for(i=0;i<a;++i)for(t[i]=[],r=0;r<e[i].length;++r)t[i][r]=e[e[i].length-r-1][i];return t},AR.Detector.prototype.rotate2=function(e,i){var r,t=[],a=e.length;for(r=0;r<a;++r)t[r]=e[(i+r)%a];return t};var CV=CV||{};CV.Image=function(e,i,r){this.width=e||0,this.height=i||0,this.data=r||[]},CV.grayscale=function(e,i){for(var r=e.data,t=i.data,a=r.length,n=0,o=0;n<a;n+=4)t[o++]=.299*r[n]+.587*r[n+1]+.114*r[n+2]+.5&255;return i.width=e.width,i.height=e.height,i},CV.threshold=function(e,i,r){var t,a=e.data,n=i.data,o=a.length,s=[];for(t=0;t<256;++t)s[t]=t<=r?0:255;for(t=0;t<o;++t)n[t]=s[a[t]];return i.width=e.width,i.height=e.height,i},CV.adaptiveThreshold=function(e,i,r,t){var a,n=e.data,o=i.data,s=n.length,f=[];for(CV.stackBoxBlur(e,i,r),a=0;a<768;++a)f[a]=a-255<=-t?255:0;for(a=0;a<s;++a)o[a]=f[n[a]-o[a]+255];return i.width=e.width,i.height=e.height,i},CV.otsu=function(e){var i,r,t,a=e.data,n=a.length,o=[],s=0,f=0,l=0,u=0,c=0,d=0;for(t=0;t<256;++t)o[t]=0;for(t=0;t<n;++t)o[a[t]]++;for(t=0;t<256;++t)f+=o[t]*t;for(t=0;t<256;++t)if(0!==(u+=o[t])){if(0===(c=n-u))break;(r=u*c*(i=(l+=o[t]*t)/u-(f-l)/c)*i)>d&&(d=r,s=t)}return s},CV.stackBoxBlurMult=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265],CV.stackBoxBlurShift=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13],CV.BlurStack=function(){this.color=0,this.next=null},CV.stackBoxBlur=function(e,i,r){var t,a,n,o,s,f,l,u,c,d,h=e.data,b=i.data,k=e.height,w=e.width,m=k-1,p=w-1,E=r+r+1,v=r+1,_=CV.stackBoxBlurMult[r],g=CV.stackBoxBlurShift[r];for(t=a=new CV.BlurStack,d=1;d<E;++d)t=t.next=new CV.BlurStack;for(t.next=a,s=0,c=0;c<k;++c){for(f=s,o=v*(n=h[s]),t=a,d=0;d<v;++d)t.color=n,t=t.next;for(d=1;d<v;++d)t.color=h[s+d],o+=t.color,t=t.next;for(t=a,u=0;u<w;++u)b[s++]=o*_>>>g,l=f+((l=u+v)<p?l:p),o-=t.color-h[l],t.color=h[l],t=t.next}for(u=0;u<w;++u){for(f=(s=u)+w,o=v*(n=b[s]),t=a,d=0;d<v;++d)t.color=n,t=t.next;for(d=1;d<v;++d)t.color=b[f],o+=t.color,t=t.next,f+=w;for(t=a,c=0;c<k;++c)b[s]=o*_>>>g,l=u+((l=c+v)<m?l:m)*w,o-=t.color-b[l],t.color=b[l],t=t.next,s+=w}return i},CV.gaussianBlur=function(e,i,r,t){var a=CV.gaussianKernel(t);return i.width=e.width,i.height=e.height,r.width=e.width,r.height=e.height,CV.gaussianBlurFilter(e,r,a,!0),CV.gaussianBlurFilter(r,i,a,!1),i},CV.gaussianBlurFilter=function(e,i,r,t){var a,n,o,s,f,l=e.data,u=i.data,c=e.height,d=e.width,h=0,b=r.length>>1;for(o=0;o<c;++o)for(s=0;s<d;++s){for(n=0,f=-b;f<=b;++f)t?(a=h+f,s+f<0?a=h:s+f>=d&&(a=h)):(a=h+f*d,o+f<0?a=h:o+f>=c&&(a=h)),n+=r[b+f]*l[a];u[h++]=t?n:n+.5&255}return i},CV.gaussianKernel=function(e){var i,r,t,a,n,o,s=[];if(e<=7&&e%2==1)s=[[1],[.25,.5,.25],[.0625,.25,.375,.25,.0625],[.03125,.109375,.21875,.28125,.21875,.109375,.03125]][e>>1];else{for(t=-.5/((r=.8+.3*((i=.5*(e-1))-1))*r),a=0,o=0;o<e;++o)n=o-i,a+=s[o]=Math.exp(t*n*n);for(a=1/a,o=0;o<e;++o)s[o]*=a}return s},CV.findContours=function(e,i){var r,t,a,n,o,s,f,l,u,c=e.width,d=e.height,h=[];for(r=CV.binaryBorder(e,i),t=CV.neighborhoodDeltas(c+2),a=c+3,o=1,l=0;l<d;++l,a+=2)for(u=0;u<c;++u,++a)0!==(n=r[a])&&(s=f=!1,1===n&&0===r[a-1]?s=!0:n>=1&&0===r[a+1]&&(f=!0),(s||f)&&(++o,h.push(CV.borderFollowing(r,a,o,{x:u,y:l},f,t))));return h},CV.borderFollowing=function(e,i,r,t,a,n){var o,s,f,l,u,c=[];c.hole=a,l=u=a?0:4;do{if(0!==e[o=i+n[l=l-1&7]])break}while(l!==u);if(l===u)e[i]=-r,c.push({x:t.x,y:t.y});else for(s=i,4^l;;){u=l;do{f=s+n[++l]}while(0===e[f]);if((l&=7)-1>>>0<u>>>0?e[s]=-r:1===e[s]&&(e[s]=r),c.push({x:t.x,y:t.y}),l,t.x+=CV.neighborhood[l][0],t.y+=CV.neighborhood[l][1],f===i&&s===o)break;s=f,l=l+4&7}return c},CV.neighborhood=[[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[1,1]],CV.neighborhoodDeltas=function(e){for(var i=[],r=CV.neighborhood.length,t=0;t<r;++t)i[t]=CV.neighborhood[t][0]+CV.neighborhood[t][1]*e;return i.concat(i)},CV.approxPolyDP=function(e,i){var r,t,a,n,o,s,f,l,u,c,d,h={start_index:0,end_index:0},b={start_index:0,end_index:0},k=[],w=[],m=e.length;for(i*=i,d=0,u=0;u<3;++u)for(o=0,t=e[d=(d+b.start_index)%m],++d===m&&(d=0),c=1;c<m;++c)r=e[d],++d===m&&(d=0),(n=(f=r.x-t.x)*f+(l=r.y-t.y)*l)>o&&(o=n,b.start_index=c);for(o<=i?k.push({x:t.x,y:t.y}):(h.start_index=d,h.end_index=b.start_index+=h.start_index,b.start_index-=b.start_index>=m?m:0,b.end_index=h.start_index,b.end_index<b.start_index&&(b.end_index+=m),w.push({start_index:b.start_index,end_index:b.end_index}),w.push({start_index:h.start_index,end_index:h.end_index}));0!==w.length;){if(a=e[(h=w.pop()).end_index%m],t=e[d=h.start_index%m],++d===m&&(d=0),h.end_index<=h.start_index+1)s=!0;else{for(o=0,f=a.x-t.x,l=a.y-t.y,u=h.start_index+1;u<h.end_index;++u)r=e[d],++d===m&&(d=0),(n=Math.abs((r.y-t.y)*f-(r.x-t.x)*l))>o&&(o=n,b.start_index=u);s=o*o<=i*(f*f+l*l)}s?k.push({x:t.x,y:t.y}):(b.end_index=h.end_index,h.end_index=b.start_index,w.push({start_index:b.start_index,end_index:b.end_index}),w.push({start_index:h.start_index,end_index:h.end_index}))}return k},CV.warp=function(e,i,r,t){var a,n,o,s,f,l,u,c,d,h,b,k,w,m,p,E,v,_,g,S,y,M,R=e.data,T=i.data,A=e.width,C=e.height,x=0;for(w=(k=CV.getPerspectiveTransform(r,t-1))[8],m=k[2],p=k[5],y=0;y<t;++y)for(E=w+=k[7],v=m+=k[1],_=p+=k[4],M=0;M<t;++M)E+=k[6],n=(a=(g=(v+=k[0])/E)>>>0)===A-1?a:a+1,s=1-(o=g-a),u=1-(l=(S=(_+=k[3])/E)-(f=S>>>0)),c=d=f*A,h=b=(f===C-1?f:f+1)*A,T[x++]=u*(s*R[c+a]+o*R[d+n])+l*(s*R[h+a]+o*R[b+n])&255;return i.width=t,i.height=t,i},CV.getPerspectiveTransform=function(e,i){var r=CV.square2quad(e);return r[0]/=i,r[1]/=i,r[3]/=i,r[4]/=i,r[6]/=i,r[7]/=i,r},CV.square2quad=function(e){var i,r,t,a,n,o,s,f=[];return i=e[0].x-e[1].x+e[2].x-e[3].x,r=e[0].y-e[1].y+e[2].y-e[3].y,0===i&&0===r?(f[0]=e[1].x-e[0].x,f[1]=e[2].x-e[1].x,f[2]=e[0].x,f[3]=e[1].y-e[0].y,f[4]=e[2].y-e[1].y,f[5]=e[0].y,f[6]=0,f[7]=0,f[8]=1):(t=e[1].x-e[2].x,a=e[3].x-e[2].x,n=e[1].y-e[2].y,s=t*(o=e[3].y-e[2].y)-a*n,f[6]=(i*o-a*r)/s,f[7]=(t*r-i*n)/s,f[8]=1,f[0]=e[1].x-e[0].x+f[6]*e[1].x,f[1]=e[3].x-e[0].x+f[7]*e[3].x,f[2]=e[0].x,f[3]=e[1].y-e[0].y+f[6]*e[1].y,f[4]=e[3].y-e[0].y+f[7]*e[3].y,f[5]=e[0].y),f},CV.isContourConvex=function(e){var i,r,t,a,n,o,s,f,l=0,u=!0,c=e.length,d=0,h=0;for(r=e[c-1],n=(i=e[0]).x-r.x,o=i.y-r.y;d<c;++d){if(++h===c&&(h=0),r=i,s=(i=e[h]).x-r.x,3===(l|=(a=(f=i.y-r.y)*n)>(t=s*o)?1:a<t?2:3)){u=!1;break}n=s,o=f}return u},CV.perimeter=function(e){for(var i,r,t=e.length,a=0,n=t-1,o=0;a<t;n=a++)i=e[a].x-e[n].x,r=e[a].y-e[n].y,o+=Math.sqrt(i*i+r*r);return o},CV.minEdgeLength=function(e){for(var i,r,t,a=e.length,n=0,o=a-1,s=1/0;n<a;o=n++)(i=(r=e[n].x-e[o].x)*r+(t=e[n].y-e[o].y)*t)<s&&(s=i);return Math.sqrt(s)},CV.countNonZero=function(e,i){var r,t,a=e.data,n=i.height,o=i.width,s=i.x+i.y*e.width,f=e.width-o,l=0;for(r=0;r<n;++r){for(t=0;t<o;++t)0!==a[s++]&&++l;s+=f}return l},CV.binaryBorder=function(e,i){var r,t,a=e.data,n=e.height,o=e.width,s=0,f=0;for(t=-2;t<o;++t)i[f++]=0;for(r=0;r<n;++r){for(i[f++]=0,t=0;t<o;++t)i[f++]=0===a[s++]?0:1;i[f++]=0}for(t=-2;t<o;++t)i[f++]=0;return i};var POS=POS||{};POS.Posit=function(e,i){this.objectPoints=this.buildModel(e),this.focalLength=i,this.objectVectors=[],this.objectNormal=[],this.objectMatrix=[[],[],[]],this.init()},POS.Posit.prototype.buildModel=function(e){var i=e/2;return[[-i,i,0],[i,i,0],[i,-i,0],[-i,-i,0]]},POS.Posit.prototype.init=function(){var e,i=this.objectPoints.length,r=[],t=[],a=0,n=2;for(e=0;e<i;++e)this.objectVectors[e]=[this.objectPoints[e][0]-this.objectPoints[0][0],this.objectPoints[e][1]-this.objectPoints[0][1],this.objectPoints[e][2]-this.objectPoints[0][2]],r[e]=[this.objectVectors[e][0],this.objectVectors[e][1],this.objectVectors[e][2]];for(;0===a;)t[0]=this.objectVectors[1][1]*this.objectVectors[n][2]-this.objectVectors[1][2]*this.objectVectors[n][1],t[1]=this.objectVectors[1][2]*this.objectVectors[n][0]-this.objectVectors[1][0]*this.objectVectors[n][2],t[2]=this.objectVectors[1][0]*this.objectVectors[n][1]-this.objectVectors[1][1]*this.objectVectors[n][0],a=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),++n;for(e=0;e<3;++e)this.objectNormal[e]=t[e]/a;POS.pseudoInverse(r,i,this.objectMatrix)},POS.Posit.prototype.pose=function(e){var i,r,t,a,n,o,s=[[],[],[]],f=[[],[],[]],l=[],u=[[],[],[]],c=[[],[],[]],d=[],h=[];for(this.pos(e,s,f,l),i=(t=this.isValid(s,l))?this.iterate(e,s,l,u,d):{euclidean:-1,pixels:-1,maximum:-1},r=(a=this.isValid(f,l))?this.iterate(e,f,l,c,h):{euclidean:-1,pixels:-1,maximum:-1},n=0;n<3;++n)for(o=0;o<3;++o)t&&(d[n]-=u[n][o]*this.objectPoints[0][o]),a&&(h[n]-=c[n][o]*this.objectPoints[0][o]);return i.euclidean<r.euclidean?new POS.Pose(i.pixels,u,d,r.pixels,c,h):new POS.Pose(r.pixels,c,h,i.pixels,u,d)},POS.Posit.prototype.pos=function(e,i,r,t){var a,n,o,s,f,l,u,c,d,h,b=this.objectPoints.length,k=[],w=[],m=[],p=[],E=[],v=[],_=[],g=[];for(d=0;d<b;++d)k[d]=[e[d].x-e[0].x,e[d].y-e[0].y];for(d=0;d<3;++d)for(w[d]=0,m[d]=0,h=0;h<b;++h)w[d]+=this.objectMatrix[d][h]*k[h][0],m[d]+=this.objectMatrix[d][h]*k[h][1];for(a=w[0]*w[0]+w[1]*w[1]+w[2]*w[2],s=((n=m[0]*m[0]+m[1]*m[1]+m[2]*m[2])-a)*(n-a)+(o=w[0]*m[0]+w[1]*m[1]+w[2]*m[2])*o*4,u=(f=n-a>=0?(n-a+Math.sqrt(s))/2:(n-a-Math.sqrt(s))/2)>=0?0===(l=Math.sqrt(f))?0:-o/l:0===(l=Math.sqrt(-o*o/f))?Math.sqrt(a-n):-o/l,d=0;d<3;++d)p[d]=w[d]+l*this.objectNormal[d],E[d]=m[d]+u*this.objectNormal[d];for(c=Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2]),d=0;d<3;++d)v[d]=p[d]/c,_[d]=E[d]/c;for(g[0]=v[1]*_[2]-v[2]*_[1],g[1]=v[2]*_[0]-v[0]*_[2],g[2]=v[0]*_[1]-v[1]*_[0],d=0;d<3;++d)i[0][d]=v[d],i[1][d]=_[d],i[2][d]=g[d];for(d=0;d<3;++d)p[d]=w[d]-l*this.objectNormal[d],E[d]=m[d]-u*this.objectNormal[d];for(d=0;d<3;++d)v[d]=p[d]/c,_[d]=E[d]/c;for(g[0]=v[1]*_[2]-v[2]*_[1],g[1]=v[2]*_[0]-v[0]*_[2],g[2]=v[0]*_[1]-v[1]*_[0],d=0;d<3;++d)r[0][d]=v[d],r[1][d]=_[d],r[2][d]=g[d];t[0]=e[0].x/c,t[1]=e[0].y/c,t[2]=this.focalLength/c},POS.Posit.prototype.isValid=function(e,i){for(var r,t=this.objectPoints.length,a=1/0,n=0;n<t;++n)(r=i[2]+(e[2][0]*this.objectVectors[n][0]+e[2][1]*this.objectVectors[n][1]+e[2][2]*this.objectVectors[n][2]))<a&&(a=r);return a>=0},POS.Posit.prototype.iterate=function(e,i,r,t,a){var n,o,s,f,l,u,c,d,h,b=this.objectPoints.length,k=[],w=[],m=[[],[],[]],p=[[],[],[]],E=[],v=[],_=!1,g=0;for(d=0;d<b;++d)k[d]={x:e[d].x,y:e[d].y};for(d=0;d<3;++d){for(h=0;h<3;++h)t[d][h]=i[d][h];a[d]=r[d]}for(d=0;d<b;++d){for(s=0,h=0;h<3;++h)s+=this.objectVectors[d][h]*t[2][h]/a[2];w[d]={x:(1+s)*e[d].x,y:(1+s)*e[d].y}}for(o=0,d=0;d<b;++d)o+=Math.abs(w[d].x-k[d].x),o+=Math.abs(w[d].y-k[d].y);for(d=0;d<3;++d)E[d]=a[d]-(t[d][0]*this.objectPoints[0][0]+t[d][1]*this.objectPoints[0][1]+t[d][2]*this.objectPoints[0][2]);for(f=l=this.error(e,t,E),_=0===l.pixels||o<.01;g++<100&&!_;){for(d=0;d<b;++d)k[d].x=w[d].x,k[d].y=w[d].y;for(this.pos(w,m,p,a),d=0;d<3;++d)E[d]=a[d]-(m[d][0]*this.objectPoints[0][0]+m[d][1]*this.objectPoints[0][1]+m[d][2]*this.objectPoints[0][2]),v[d]=a[d]-(p[d][0]*this.objectPoints[0][0]+p[d][1]*this.objectPoints[0][1]+p[d][2]*this.objectPoints[0][2]);if(l=this.error(e,m,E),u=this.error(e,p,v),l.euclidean>=0&&u.euclidean>=0)if(u.euclidean<l.euclidean)for(f=u,d=0;d<3;++d)for(h=0;h<3;++h)t[d][h]=p[d][h];else for(f=l,d=0;d<3;++d)for(h=0;h<3;++h)t[d][h]=m[d][h];if(l.euclidean<0&&u.euclidean>=0)for(f=u,d=0;d<3;++d)for(h=0;h<3;++h)t[d][h]=p[d][h];if(u.euclidean<0&&l.euclidean>=0)for(f=l,d=0;d<3;++d)for(h=0;h<3;++h)t[d][h]=m[d][h];for(d=0;d<b;++d){for(s=0,h=0;h<3;++h)s+=this.objectVectors[d][h]*t[2][h]/a[2];w[d].x=(1+s)*e[d].x,w[d].y=(1+s)*e[d].y}for(n=o,o=0,d=0;d<b;++d)o+=Math.abs(w[d].x-k[d].x),o+=Math.abs(w[d].y-k[d].y);c=Math.abs(o-n),_=0===f.pixels||c<.01}return f},POS.Posit.prototype.error=function(e,i,r){var t,a,n,o=this.objectPoints.length,s=[],f=[],l=[],u=0,c=0,d=0;if(!this.isValid(i,r))return{euclidean:-1,pixels:-1,maximum:-1};for(t=0;t<o;++t)for(s[t]=[],a=0;a<3;++a)s[t][a]=r[a];for(t=0;t<o;++t)for(a=0;a<3;++a)for(n=0;n<3;++n)s[t][a]+=i[a][n]*this.objectPoints[t][n];for(t=0;t<o;++t)for(f[t]=[],a=0;a<2;++a)f[t][a]=this.focalLength*s[t][a]/s[t][2];for(t=0;t<o;++t)l[t]=[f[t][0]-e[t].x,f[t][1]-e[t].y];for(t=0;t<o;++t)u+=Math.sqrt(l[t][0]*l[t][0]+l[t][1]*l[t][1]),c+=Math.abs(Math.round(f[t][0])-Math.round(e[t].x))+Math.abs(Math.round(f[t][1])-Math.round(e[t].y)),Math.abs(l[t][0])>d&&(d=Math.abs(l[t][0])),Math.abs(l[t][1])>d&&(d=Math.abs(l[t][1]));return{euclidean:u/o,pixels:c,maximum:d}},POS.pseudoInverse=function(e,i,r){var t,a,n,o=[],s=[[],[],[]],f=[[],[],[]],l=0,u=0;for(SVD.svdcmp(e,i,3,o,s),t=0;t<3;++t)o[t]>l&&(l=o[t]);for(l*=.01,t=0;t<3;++t)o[t]<l&&(o[t]=0);for(a=0;a<3;++a)if(0===o[a])for(++u,n=a;n<2;++n){for(t=0;t<i;++t)e[t][n]=e[t][n+1];for(t=0;t<3;++t)s[t][n]=s[t][n+1]}for(a=0;a<2;++a)0===o[a]&&(o[a]=o[a+1]);for(t=0;t<3;++t)for(a=0;a<3-u;++a)f[t][a]=s[t][a]/o[a];for(t=0;t<3;++t)for(a=0;a<i;++a)for(r[t][a]=0,n=0;n<3-u;++n)r[t][a]+=f[t][n]*e[a][n]},POS.Pose=function(e,i,r,t,a,n){this.bestError=e,this.bestRotation=i,this.bestTranslation=r,this.alternativeError=t,this.alternativeRotation=a,this.alternativeTranslation=n};var SVD=SVD||{};SVD.svdcmp=function(e,i,r,t,a){var n,o,s,f,l,u,c,d,h,b,k,w,m,p,E,v=0,_=0,g=0,S=[];for(o=0;o<r;++o){if(c=o+1,S[o]=g*_,_=w=g=0,o<i){for(u=o;u<i;++u)g+=Math.abs(e[u][o]);if(0!==g){for(u=o;u<i;++u)e[u][o]/=g,w+=e[u][o]*e[u][o];for(k=(b=e[o][o])*(_=-SVD.sign(Math.sqrt(w),b))-w,e[o][o]=b-_,f=c;f<r;++f){for(w=0,u=o;u<i;++u)w+=e[u][o]*e[u][f];for(b=w/k,u=o;u<i;++u)e[u][f]+=b*e[u][o]}for(u=o;u<i;++u)e[u][o]*=g}}if(t[o]=g*_,_=w=g=0,o<i&&o!==r-1){for(u=c;u<r;++u)g+=Math.abs(e[o][u]);if(0!==g){for(u=c;u<r;++u)e[o][u]/=g,w+=e[o][u]*e[o][u];for(k=(b=e[o][c])*(_=-SVD.sign(Math.sqrt(w),b))-w,e[o][c]=b-_,u=c;u<r;++u)S[u]=e[o][u]/k;for(f=c;f<i;++f){for(w=0,u=c;u<r;++u)w+=e[f][u]*e[o][u];for(u=c;u<r;++u)e[f][u]+=w*S[u]}for(u=c;u<r;++u)e[o][u]*=g}}v=Math.max(v,Math.abs(t[o])+Math.abs(S[o]))}for(o=r-1;o>=0;--o){if(o<r-1){if(0!==_){for(f=c;f<r;++f)a[f][o]=e[o][f]/e[o][c]/_;for(f=c;f<r;++f){for(w=0,u=c;u<r;++u)w+=e[o][u]*a[u][f];for(u=c;u<r;++u)a[u][f]+=w*a[u][o]}}for(f=c;f<r;++f)a[o][f]=a[f][o]=0}a[o][o]=1,_=S[o],c=o}for(o=Math.min(r,i)-1;o>=0;--o){for(c=o+1,_=t[o],f=c;f<r;++f)e[o][f]=0;if(0!==_){for(_=1/_,f=c;f<r;++f){for(w=0,u=c;u<i;++u)w+=e[u][o]*e[u][f];for(b=w/e[o][o]*_,u=o;u<i;++u)e[u][f]+=b*e[u][o]}for(f=o;f<i;++f)e[f][o]*=_}else for(f=o;f<i;++f)e[f][o]=0;++e[o][o]}for(u=r-1;u>=0;--u)for(s=1;s<=30;++s){for(n=!0,c=u;c>=0;--c){if(d=c-1,Math.abs(S[c])+v===v){n=!1;break}if(Math.abs(t[d])+v===v)break}if(n)for(h=0,w=1,o=c;o<=u&&(b=w*S[o],Math.abs(b)+v!==v);++o)for(_=t[o],k=SVD.pythag(b,_),t[o]=k,h=_*(k=1/k),w=-b*k,f=1;f<=i;++f)p=e[f][d],E=e[f][o],e[f][d]=p*h+E*w,e[f][o]=E*h-p*w;if(E=t[u],c===u){if(E<0)for(t[u]=-E,f=0;f<r;++f)a[f][u]=-a[f][u];break}if(30===s)return!1;for(m=t[c],b=(((p=t[d=u-1])-E)*(p+E)+((_=S[d])-(k=S[u]))*(_+k))/(2*k*p),_=SVD.pythag(b,1),b=((m-E)*(m+E)+k*(p/(b+SVD.sign(_,b))-k))/m,h=w=1,f=c;f<=d;++f){for(_=S[o=f+1],p=t[o],k=w*_,_*=h,E=SVD.pythag(b,k),S[f]=E,b=m*(h=b/E)+_*(w=k/E),_=_*h-m*w,k=p*w,p*=h,l=0;l<r;++l)m=a[l][f],E=a[l][o],a[l][f]=m*h+E*w,a[l][o]=E*h-m*w;for(E=SVD.pythag(b,k),t[f]=E,0!==E&&(h=b*(E=1/E),w=k*E),b=h*_+w*p,m=h*p-w*_,l=0;l<i;++l)p=e[l][f],E=e[l][o],e[l][f]=p*h+E*w,e[l][o]=E*h-p*w}S[c]=0,S[u]=b,t[u]=m}return!0},SVD.pythag=function(e,i){var r,t=Math.abs(e),a=Math.abs(i);return t>a?(r=a/t,t*Math.sqrt(1+r*r)):0===a?0:(r=t/a,a*Math.sqrt(1+r*r))},SVD.sign=function(e,i){return i>=0?Math.abs(e):-Math.abs(e)};var THREEx=THREEx||{};THREEx.ArucoContext=function(e){e=e||{},this.parameters={debug:void 0!==e.debug&&e.debug,canvasWidth:void 0!==e.canvasWidth?e.canvasWidth:640,canvasHeight:void 0!==e.canvasHeight?e.canvasHeight:480},this.canvas=document.createElement("canvas"),this.detector=new AR.Detector,this.debug=null,1==e.debug&&(this.debug=new THREEx.ArucoDebug(this)),this.setSize(this.parameters.canvasWidth,this.parameters.canvasHeight)},THREEx.ArucoContext.prototype.setSize=function(e,i){this.canvas.width=e,this.canvas.height=i,null!==this.debug&&this.debug.setSize(e,i)},THREEx.ArucoContext.prototype.detect=function(e){var i=this.canvas,r=i.getContext("2d");r.drawImage(e,0,0,i.width,i.height);var t=r.getImageData(0,0,i.width,i.height);return this.detector.detect(t)},THREEx.ArucoContext.prototype.updateObject3D=function(e,i,r,t){for(var a=t.corners,n=this.canvas,o=new Array(a.length),s=0;s<a.length;++s){var f=a[s];o[s]={x:f.x-n.width/2,y:-f.y+n.height/2}}var l=i.pose(o),u=l.bestRotation,c=l.bestTranslation;e.position.x=c[0],e.position.y=c[1],e.position.z=-c[2],e.rotation.x=-Math.asin(-u[1][2]),e.rotation.y=-Math.atan2(u[0][2],u[2][2]),e.rotation.z=Math.atan2(u[1][0],u[1][1]),e.scale.x=r,e.scale.y=r,e.scale.z=r};var THREEx=THREEx||{};AR.Detector.prototype.detect=function(e){var i=this.datGUIOptions;return CV.grayscale(e,this.grey),CV.adaptiveThreshold(this.grey,this.thres,i.adaptativeThreshold.kernelSize,i.adaptativeThreshold.threshold),this.contours=CV.findContours(this.thres,this.binary),this.candidates=this.findCandidates(this.contours,e.width*i.candidates.minSize,i.candidates.epsilon,i.candidates.minLength),this.candidates=this.clockwiseCorners(this.candidates),this.candidates=this.notTooNear(this.candidates,i.notTooNear.minDist),this.findMarkers(this.grey,this.candidates,i.findMarkers.warpSize)},AR.Detector.prototype.datGUIOptions={adaptativeThreshold:{kernelSize:2,threshold:7},candidates:{minSize:.2,epsilon:.05,minLength:10},notTooNear:{minDist:10},findMarkers:{warpSize:49}},THREEx.addArucoDatGui=function(e,i){e.detector.datGUIOptions;var r,t={resolution:"640x480"},a=function(){var i=t.resolution.match(/(\d+)x(\d+)/),r=parseInt(i[1]),a=parseInt(i[2]);e.setSize(r,a)};a(),i.add(t,"resolution",["320x240","640x480"]).onChange(a),(r=i.addFolder("Adaptative Threshold")).open(),r.add(e.detector.datGUIOptions.adaptativeThreshold,"kernelSize").min(0).step(1).onChange(a),r.add(e.detector.datGUIOptions.adaptativeThreshold,"threshold").min(0).step(1).onChange(a),(r=i.addFolder("Candidates")).open(),r.add(e.detector.datGUIOptions.candidates,"minSize").min(0).max(1).onChange(a),r.add(e.detector.datGUIOptions.candidates,"epsilon").min(0).onChange(a),r.add(e.detector.datGUIOptions.candidates,"minLength").min(0).step(1).onChange(a),(r=i.addFolder("notTooNear")).open(),r.add(e.detector.datGUIOptions.notTooNear,"minDist").min(0).step(1).onChange(a),(r=i.addFolder("findMarkers")).open(),r.add(e.detector.datGUIOptions.findMarkers,"warpSize").min(0).step(1).onChange(a)};var THREEx=THREEx||{};THREEx.ArucoDebug=function(e){this.arucoContext=e,this.canvasElement=document.createElement("canvas"),this.canvasElement.width=this.arucoContext.canvas.width,this.canvasElement.height=this.arucoContext.canvas.height},THREEx.ArucoDebug.prototype.setSize=function(e,i){this.canvasElement.width!==e&&(this.canvasElement.width=e),this.canvasElement.height!==i&&(this.canvasElement.height=i)},THREEx.ArucoDebug.prototype.clear=function(){var e=this.canvasElement;e.getContext("2d").clearRect(0,0,e.width,e.height)},THREEx.ArucoDebug.prototype.drawContoursContours=function(){var e=this.arucoContext.detector.contours,i=this.canvasElement;this.drawContours(e,0,0,i.width,i.height,function(e){return e?"magenta":"blue"})},THREEx.ArucoDebug.prototype.drawContoursPolys=function(){var e=this.arucoContext.detector.polys,i=this.canvasElement;this.drawContours(e,0,0,i.width,i.height,function(){return"green"})},THREEx.ArucoDebug.prototype.drawContoursCandidates=function(){var e=this.arucoContext.detector.candidates,i=this.canvasElement;this.drawContours(e,0,0,i.width,i.height,function(){return"red"})},THREEx.ArucoDebug.prototype.drawContours=function(e,i,r,t,a,n){var o,s,f,l=e.length,u=this.canvasElement.getContext("2d");for(u.save();l--;){for(s=e[l],u.strokeStyle=n(s.hole),u.beginPath(),o=0;o<s.length;++o)f=s[o],u.moveTo(i+f.x,r+f.y),f=s[(o+1)%s.length],u.lineTo(i+f.x,r+f.y);u.stroke(),u.closePath()}u.restore()},THREEx.ArucoDebug.prototype.drawDetectorGrey=function(){var e=arucoContext.detector.grey;this.drawCVImage(e)},THREEx.ArucoDebug.prototype.drawDetectorThreshold=function(){var e=arucoContext.detector.thres;this.drawCVImage(e)},THREEx.ArucoDebug.prototype.drawCVImage=function(e){this.arucoContext.detector;var i=this.canvasElement,r=i.getContext("2d"),t=r.createImageData(i.width,i.height);this.copyCVImage2ImageData(e,t),r.putImageData(t,0,0)},THREEx.ArucoDebug.prototype.copyCVImage2ImageData=function(e,i){for(var r=e.data.length,t=4*r+3;r--;)i.data[t-=4]=255,i.data[t-1]=i.data[t-2]=i.data[t-3]=e.data[r];return i},THREEx.ArucoDebug.prototype.drawVideo=function(e){var i=this.canvasElement;i.getContext("2d").drawImage(e,0,0,i.width,i.height)},THREEx.ArucoDebug.prototype.drawMarkerIDs=function(e){var i,r,t,a,n,o,s=this.canvasElement.getContext("2d");for(s.save(),s.strokeStyle="blue",s.lineWidth=1,n=0;n!==e.length;++n){for(i=e[n].corners,t=1/0,a=1/0,o=0;o!==i.length;++o)r=i[o],t=Math.min(t,r.x),a=Math.min(a,r.y);s.strokeText(e[n].id,t,a)}s.restore()},THREEx.ArucoDebug.prototype.drawMarkerCorners=function(e){var i,r,t,a,n=this.canvasElement.getContext("2d");for(n.save(),n.lineWidth=3,t=0;t<e.length;++t){for(i=e[t].corners,n.strokeStyle="red",n.beginPath(),a=0;a<i.length;++a)r=i[a],n.moveTo(r.x,r.y),r=i[(a+1)%i.length],n.lineTo(r.x,r.y);n.stroke(),n.closePath(),n.strokeStyle="green",n.strokeRect(i[0].x-2,i[0].y-2,4,4)}n.restore()};var THREEx=THREEx||{};THREEx.ArucoMarkerGenerator=function(){},THREEx.ArucoMarkerGenerator.createSVG=function(e,i){var r=document.createElement("div");return r.innerHTML=new ArucoMarker(e).toSVG(i),r},THREEx.ArucoMarkerGenerator.createImage=function(e,i){var r=this.createCanvas(e,i).toDataURL(),t=document.createElement("img");return t.src=r,t},THREEx.ArucoMarkerGenerator.createCanvas=function(e,i){var r=document.createElement("canvas"),t=r.getContext("2d");r.width=i,r.height=i;var a=new ArucoMarker(e).markerMatrix(),n=.1*r.width,o=(i-2*n)/7;t.fillStyle="white",t.fillRect(0,0,r.width,r.height),t.fillStyle="black",t.fillRect(n,n,r.width-2*n,r.height-2*n);for(var s=0;s<5;s++)for(var f=0;f<5;f++)1===a[f][s]&&(t.fillStyle="white",t.fillRect(n+(f+1)*o,n+(s+1)*o,o+1,o+1));return r};var THREE=THREE||require("three");THREE.WebAR={},THREE.WebAR.MAX_FLOAT32_VALUE=3.4028e38,THREE.WebAR.VRPointCloud=function(e){this._vrDisplay=e,this._numberOfPointsInLastPointCloud=0,this._bufferGeometry=new THREE.BufferGeometry,this._bufferGeometry.frustumCulled=!1;var i=null;e?(this._pointCloud=new VRPointCloud,e.getPointCloud(this._pointCloud,!1,0,!1),i=this._pointCloud.points):i=new Float32Array([-1,1,-2,1,1,-2,1,-1,-2,-1,-1,-2]);for(var r=new Float32Array(i.length),t=new THREE.Color,a=0;a<r.length;a+=3)e&&(i[a]=THREE.WebAR.MAX_FLOAT32_VALUE,i[a+1]=THREE.WebAR.MAX_FLOAT32_VALUE,i[a+2]=THREE.WebAR.MAX_FLOAT32_VALUE),t.setRGB(1,1,1),r[a]=t.r,r[a+1]=t.g,r[a+2]=t.b;return this._positions=new THREE.BufferAttribute(i,3),this._bufferGeometry.addAttribute("position",this._positions),this._colors=new THREE.BufferAttribute(r,3),this._bufferGeometry.addAttribute("color",this._colors),this._bufferGeometry.computeBoundingSphere(),this},THREE.WebAR.VRPointCloud.prototype.getBufferGeometry=function(){return this._bufferGeometry},THREE.WebAR.VRPointCloud.prototype.update=function(e,i,r){this._vrDisplay&&(this._vrDisplay.getPointCloud(this._pointCloud,!e,"number"==typeof i?i:0,!!r),e&&this._pointCloud.numberOfPoints>0&&(this._positions.needsUpdate=!0))},THREE.WebAR.getIndexFromOrientation=function(e){var i=0;switch(e){case 90:i=1;break;case 180:i=2;break;case 270:i=3;break;default:i=0}return i},THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations=function(e){var i=screen.orientation.angle,r=e?e.getSeeThroughCamera():null,t=r?r.orientation:0,a=THREE.WebAR.getIndexFromOrientation(t),n=THREE.WebAR.getIndexFromOrientation(i);return ret=n-a,ret<0&&(ret+=4),ret%4},THREE.WebAR.createVRSeeThroughCameraMesh=function(e,i){var r=new THREE.BufferGeometry;if(e){var t=e.getSeeThroughCamera();if(!t)throw"ERROR: Could not get the see through camera!";(o=t).readyState=2,o.HAVE_CURRENT_DATA=2;var a=t.width/t.textureWidth,n=t.height/t.textureHeight;r.WebAR_textureCoords=[new Float32Array([0,0,0,n,a,0,a,n]),new Float32Array([a,0,0,0,a,n,0,n]),new Float32Array([a,n,a,0,0,n,0,0]),new Float32Array([0,n,a,n,0,0,a,0])]}else{var o;(o=document.createElement("video")).src="string"==typeof i?i:"../../resources/videos/sintel.webm",o.play(),r.WebAR_textureCoords=[new Float32Array([0,0,0,1,1,0,1,1]),new Float32Array([1,0,0,0,1,1,0,1]),new Float32Array([1,1,1,0,0,1,0,0]),new Float32Array([0,1,1,1,0,0,1,0])]}r.addAttribute("position",new THREE.BufferAttribute(new Float32Array([-1,1,0,-1,-1,0,1,1,0,1,-1,0]),3)),r.setIndex(new THREE.BufferAttribute(new Uint16Array([0,1,2,2,1,3]),1)),r.WebAR_textureCoordIndex=THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations(e);var s=r.WebAR_textureCoords[r.WebAR_textureCoordIndex];r.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(s),2)),r.computeBoundingSphere();var f,l=new THREE.VideoTexture(o);if(l.minFilter=THREE.NearestFilter,l.magFilter=THREE.NearestFilter,l.format=THREE.RGBFormat,l.flipY=!1,e){f=new THREE.RawShaderMaterial({uniforms:{map:{type:"t",value:l}},vertexShader:["attribute vec3 position;","attribute vec2 uv;","","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","","varying vec2 vUV;","","void main(void) {","    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","    vUV = uv;","}"].join("\r\n"),fragmentShader:["#extension GL_OES_EGL_image_external : require","precision mediump float;","","varying vec2 vUV;","","uniform samplerExternalOES map;","","void main(void) {","   gl_FragColor = texture2D(map, vUV);","}"].join("\r\n"),side:THREE.DoubleSide})}else f=new THREE.MeshBasicMaterial({color:16777215,side:THREE.DoubleSide,map:l});return new THREE.Mesh(r,f)},THREE.WebAR.updateCameraMeshOrientation=function(e,i){var r=THREE.WebAR.getIndexFromScreenAndSeeThroughCameraOrientations(e);if(r!=i.geometry.WebAR_textureCoordIndex){var t=i.geometry.getAttribute("uv"),a=i.geometry.WebAR_textureCoords[r];i.geometry.WebAR_textureCoordIndex=r;for(var n=0;n<t.length;n++)t.array[n]=a[n];t.needsUpdate=!0}},THREE.WebAR.createVRSeeThroughCamera=function(e,i,r){var t=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,i,r);return e&&THREE.WebAR.resizeVRSeeThroughCamera(e,t),t},THREE.WebAR.resizeVRSeeThroughCamera=function(e,i){if(i.aspect=window.innerWidth/window.innerHeight,e){var r=window.innerWidth>window.innerHeight,t=e.getSeeThroughCamera();if(t){var a=t.width>t.height,n=!(r&&a),o=n?t.height:t.width,s=n?t.width:t.height,f=n?t.focalLengthY:t.focalLengthX,l=n?t.focalLengthX:t.focalLengthY,u=n?t.pointY:t.pointX,c=n?t.pointX:t.pointY,d=i.near/f,h=i.near/l,b=(u-o/2)*d,k=-(c-s/2)*h,w=d*-o/2-b,m=d*o/2-b,p=h*-s/2-k,E=h*s/2-k;i.projectionMatrix.makePerspective(w,m,E,p,i.near,i.far),i.fov=2*THREE.Math.radToDeg(Math.atan(E*i.zoom/i.near))}}else i.updateProjectionMatrix()},THREE.WebAR._worldUp=new THREE.Vector3(0,1,0),THREE.WebAR._normalY=new THREE.Vector3,THREE.WebAR._normalZ=new THREE.Vector3,THREE.WebAR._rotationMatrix=new THREE.Matrix4,THREE.WebAR._planeNormal=new THREE.Vector3,THREE.WebAR.rotateObject3D=function(e,i,r){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)THREE.WebAR._planeNormal.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown normal1 type.";THREE.WebAR._planeNormal.set(e[0],e[1],e[2])}if(i instanceof THREE.Vector3||i instanceof THREE.Vector4)THREE.WebAR._normalZ.set(i.x,i.y,i.z);else{if(!(e instanceof Float32Array))throw"Unknown normal2 type.";THREE.WebAR._normalZ.set(i[0],i[1],i[2])}THREE.WebAR._normalY.crossVectors(THREE.WebAR._planeNormal,THREE.WebAR._normalZ).normalize(),THREE.WebAR._rotationMatrix.elements[0]=THREE.WebAR._planeNormal.x,THREE.WebAR._rotationMatrix.elements[1]=THREE.WebAR._planeNormal.y,THREE.WebAR._rotationMatrix.elements[2]=THREE.WebAR._planeNormal.z,THREE.WebAR._rotationMatrix.elements[4]=THREE.WebAR._normalZ.x,THREE.WebAR._rotationMatrix.elements[5]=THREE.WebAR._normalZ.y,THREE.WebAR._rotationMatrix.elements[6]=THREE.WebAR._normalZ.z,THREE.WebAR._rotationMatrix.elements[8]=THREE.WebAR._normalY.x,THREE.WebAR._rotationMatrix.elements[9]=THREE.WebAR._normalY.y,THREE.WebAR._rotationMatrix.elements[10]=THREE.WebAR._normalY.z,r.quaternion.setFromRotationMatrix(THREE.WebAR._rotationMatrix)},THREE.WebAR.rotateObject3DWithPickingPlane=function(e,i){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)THREE.WebAR._planeNormal.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown plane type.";THREE.WebAR._planeNormal.set(e[0],e[1],e[2])}THREE.WebAR._normalY.set(0,1,0);Math.abs(THREE.WebAR._planeNormal.dot(THREE.WebAR._worldUp))>.5&&THREE.WebAR._normalY.set(0,0,1),THREE.WebAR._normalZ.crossVectors(THREE.WebAR._planeNormal,THREE.WebAR._normalY).normalize(),THREE.WebAR._normalY.crossVectors(THREE.WebAR._normalZ,THREE.WebAR._planeNormal).normalize(),THREE.WebAR._rotationMatrix.elements[0]=THREE.WebAR._planeNormal.x,THREE.WebAR._rotationMatrix.elements[1]=THREE.WebAR._planeNormal.y,THREE.WebAR._rotationMatrix.elements[2]=THREE.WebAR._planeNormal.z,THREE.WebAR._rotationMatrix.elements[4]=THREE.WebAR._normalY.x,THREE.WebAR._rotationMatrix.elements[5]=THREE.WebAR._normalY.y,THREE.WebAR._rotationMatrix.elements[6]=THREE.WebAR._normalY.z,THREE.WebAR._rotationMatrix.elements[8]=THREE.WebAR._normalZ.x,THREE.WebAR._rotationMatrix.elements[9]=THREE.WebAR._normalZ.y,THREE.WebAR._rotationMatrix.elements[10]=THREE.WebAR._normalZ.z,i.quaternion.setFromRotationMatrix(THREE.WebAR._rotationMatrix)},THREE.WebAR.positionObject3DWithPickingPoint=function(e,i){if(e instanceof THREE.Vector3||e instanceof THREE.Vector4)i.position.set(e.x,e.y,e.z);else{if(!(e instanceof Float32Array))throw"Unknown point type.";i.position.set(e[0],e[1],e[2])}},THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud=function(e,i,r){THREE.WebAR.rotateObject3DWithPickingPlane(e.plane,i),THREE.WebAR.positionObject3DWithPickingPoint(e.point,i),i.position.add(THREE.WebAR._planeNormal.multiplyScalar(r))},THREE.WebAR.positionAndRotateObject3D=function(e,i,r,t,a){THREE.WebAR.rotateObject3D(i,r,t),THREE.WebAR.positionObject3DWithPickingPoint(e,t),t.position.add(THREE.WebAR._planeNormal.multiplyScalar(a))},function(e,i){"function"==typeof define&&define.amd?define(["WebAR"],i):"object"==typeof exports?module.exports=i():e.WebAR=i()}(this,function(){return THREE.WebAR});var THREEx=THREEx||{};THREEx.ArBaseControls=function(e){this.id=THREEx.ArBaseControls.id++,this.object3d=e,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1},THREEx.ArBaseControls.id=0,Object.assign(THREEx.ArBaseControls.prototype,THREE.EventDispatcher.prototype),THREEx.ArBaseControls.prototype.update=function(){console.assert(!1,"you need to implement your own update")},THREEx.ArBaseControls.prototype.name=function(){return console.assert(!1,"you need to implement your own .name()"),"Not yet implemented - name()"};var THREEx=THREEx||{};THREEx.ARClickability=function(e){this._sourceElement=e;var i=parseInt(e.style.width),r=parseInt(e.style.height);this._cameraPicking=new THREE.PerspectiveCamera(42,i/r,.1,100),console.warn("THREEx.ARClickability works only in modelViewMatrix"),console.warn("OBSOLETE OBSOLETE! instead use THREEx.HitTestingPlane or THREEx.HitTestingTango")},THREEx.ARClickability.prototype.onResize=function(){var e=this._sourceElement,i=this._cameraPicking,r=parseInt(e.style.width),t=parseInt(e.style.height);i.aspect=r/t,i.updateProjectionMatrix()},THREEx.ARClickability.prototype.computeIntersects=function(e,i){var r=this._sourceElement,t=this._cameraPicking,a=new THREE.Vector3;a.x=e.layerX/parseInt(r.style.width)*2-1,a.y=-e.layerY/parseInt(r.style.height)*2+1;var n=new THREE.Raycaster;return n.setFromCamera(a,t),n.intersectObjects(i)},THREEx.ARClickability.prototype.update=function(){},THREEx.ARClickability.tangoPickingPointCloud=function(e,i,r){var t=e._tangoContext.vrDisplay;if(null===t)return null;var a=t.getPickingPointAndPlaneInPointCloud(i,r);if(null==a)return console.warn("Could not retrieve the correct point and plane."),null;var n=new THREE.Object3D;THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud(a,n,.01),n.rotateZ(-Math.PI/2);var o={};return o.position=n.position,o.quaternion=n.quaternion,o};var THREEx=THREEx||{};THREEx.ArMarkerCloak=function(e){var i=new THREE.PlaneGeometry(1.55,2.1,1,8).translate(0,-.3,0),r=new THREE.ShaderMaterial({vertexShader:THREEx.ArMarkerCloak.vertexShader,fragmentShader:THREEx.ArMarkerCloak.fragmentShader,transparent:!0,uniforms:{texture:{value:e},opacity:{value:.5}},defines:{updateInShaderEnabled:1}}),t=new THREE.Mesh(i,r);t.rotation.x=-Math.PI/2,this.object3d=t;for(var a=[[]],n=0;n<t.geometry.faces.length;n++)a[0][n]=[],a[0][n][0]=new THREE.Vector2,a[0][n][1]=new THREE.Vector2,a[0][n][2]=new THREE.Vector2;for(var o=0;o<t.geometry.parameters.heightSegments/2;o++)a[0][4*o+0][0].set(.175,1.025),a[0][4*o+0][1].set(.175,.875),a[0][4*o+0][2].set(.825,1.025),a[0][4*o+1][0].set(.175,.875),a[0][4*o+1][1].set(.825,.875),a[0][4*o+1][2].set(.825,1.025),a[0][4*o+2][0].set(.175,.875),a[0][4*o+2][1].set(.175,1.025),a[0][4*o+2][2].set(.825,.875),a[0][4*o+3][0].set(.175,1.025),a[0][4*o+3][1].set(.825,1.025),a[0][4*o+3][2].set(.825,.875);t.geometry.faceVertexUvs=a,t.geometry.uvsNeedUpdate=!0;var s=[];s.push(new THREE.Vector3(-.65,1.05,0)),s.push(new THREE.Vector3(.65,1.05,0)),s.push(new THREE.Vector3(-.65,.75,0)),s.push(new THREE.Vector3(.65,.75,0));r=new THREE.MeshNormalMaterial({transparent:!0,opacity:.5,side:THREE.DoubleSide}),i=new THREE.PlaneGeometry(1,1);var f=new THREE.Mesh(i,r);return this.orthoMesh=f,void(this.update=function(e,i){!function(e,i){var r=[];s.forEach(function(t,a){var n=t.clone();n.applyMatrix4(e),n.applyMatrix4(i),n.x/=n.z,n.y/=n.z,r.push(n)});for(var t=0;t<r.length;t++)f.geometry.vertices[t].copy(r[t]);f.geometry.computeBoundingSphere(),f.geometry.verticesNeedUpdate=!0}(e,i)})},THREEx.ArMarkerCloak.markerSpaceShaderFunction="\n        vec2 transformUvToMarkerSpace(vec2 originalUv){\n                vec3 transformedUv;\n                // set transformedUv - from UV coord to clip coord\n                transformedUv.x = originalUv.x * 2.0 - 1.0;\n                transformedUv.y = originalUv.y * 2.0 - 1.0;\n                transformedUv.z = 0.0;\n\n\t\t// apply modelViewMatrix and projectionMatrix\n                transformedUv = (projectionMatrix * modelViewMatrix * vec4( transformedUv, 1.0 ) ).xyz;\n\n\t\t// apply perspective\n\t\ttransformedUv.x /= transformedUv.z;\n\t\ttransformedUv.y /= transformedUv.z;\n\n                // set back from clip coord to Uv coord\n                transformedUv.x = transformedUv.x / 2.0 + 0.5;\n                transformedUv.y = transformedUv.y / 2.0 + 0.5;\n\n                // return the result\n                return transformedUv.xy;\n        }",THREEx.ArMarkerCloak.vertexShader=THREEx.ArMarkerCloak.markerSpaceShaderFunction+"\tvarying vec2 vUv;\n\n\tvoid main(){\n                // pass the UV to the fragment\n                #if (updateInShaderEnabled == 1)\n\t\t        vUv = transformUvToMarkerSpace(uv);\n                #else\n\t\t        vUv = uv;\n                #endif\n\n                // compute gl_Position\n\t\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}",THREEx.ArMarkerCloak.fragmentShader="\n\tvarying vec2 vUv;\n\tuniform sampler2D texture;\n\tuniform float opacity;\n\n\tvoid main(void){\n\t\tvec3 color = texture2D( texture, vUv ).rgb;\n\n\t\tgl_FragColor = vec4( color, opacity);\n\t}";var THREEx=THREEx||{};THREEx.ArMarkerControls=function(e,i,r){var t=this;THREEx.ArBaseControls.call(this,i),this.context=e,this.parameters={size:1,type:"unknown",patternUrl:null,barcodeValue:null,changeMatrixMode:"modelViewMatrix",minConfidence:.6};var a=["pattern","barcode","unknown"];console.assert(-1!==a.indexOf(this.parameters.type),"illegal value",this.parameters.type);a=["modelViewMatrix","cameraTransformMatrix"];console.assert(-1!==a.indexOf(this.parameters.changeMatrixMode),"illegal value",this.parameters.changeMatrixMode),this.object3d=i,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1,function(e){if(void 0===e)return;for(var i in e){var r=e[i];if(void 0!==r){var a=t.parameters[i];void 0!==a?t.parameters[i]=r:console.warn("THREEx.ArMarkerControls: '"+i+"' is not a property of this material.")}else console.warn("THREEx.ArMarkerControls: '"+i+"' parameter is undefined.")}}(r),e.addMarker(this),"artoolkit"===t.context.parameters.trackingBackend?this._initArtoolkit():"aruco"===t.context.parameters.trackingBackend?this._arucoPosit=new POS.Posit(this.parameters.size,t.context.arucoContext.canvas.width):"tango"===t.context.parameters.trackingBackend?this._initTango():console.assert(!1)},THREEx.ArMarkerControls.prototype=Object.create(THREEx.ArBaseControls.prototype),THREEx.ArMarkerControls.prototype.constructor=THREEx.ArMarkerControls,THREEx.ArMarkerControls.prototype.dispose=function(){this.context.removeMarker(this)},THREEx.ArMarkerControls.prototype.updateWithModelViewMatrix=function(e){var i=this.object3d;if(i.visible=!0,"artoolkit"===this.context.parameters.trackingBackend){var r=(new THREE.Matrix4).copy(this.context._artoolkitProjectionAxisTransformMatrix);r.multiply(e),e.copy(r)}else"aruco"===this.context.parameters.trackingBackend||"tango"===this.context.parameters.trackingBackend||console.assert(!1);if("tango"!==this.context.parameters.trackingBackend){var t=(new THREE.Matrix4).makeRotationX(Math.PI/2);e.multiply(t)}"modelViewMatrix"===this.parameters.changeMatrixMode?i.matrix.copy(e):"cameraTransformMatrix"===this.parameters.changeMatrixMode?i.matrix.getInverse(e):console.assert(!1),i.matrix.decompose(i.position,i.quaternion,i.scale),this.dispatchEvent({type:"markerFound"})},THREEx.ArMarkerControls.prototype.name=function(){var e="";(e+=this.parameters.type,"pattern"===this.parameters.type)?e+=" - "+this.parameters.patternUrl.replace(/^.*\//g,""):"barcode"===this.parameters.type?e+=" - "+this.parameters.barcodeValue:console.assert(!1,"no .name() implemented for this marker controls");return e},THREEx.ArMarkerControls.prototype._initArtoolkit=function(){var e=this,i=null,r=setInterval(function(){null!==e.context.arController&&(clearInterval(r),r=null,function(){var r=e.context.arController;console.assert(null!==r),"pattern"===e.parameters.type?r.loadMarker(e.parameters.patternUrl,function(t){i=t,r.trackPatternMarkerId(i,e.parameters.size)}):"barcode"===e.parameters.type?(i=e.parameters.barcodeValue,r.trackBarcodeMarkerId(i,e.parameters.size)):"unknown"===e.parameters.type?i=null:console.log(!1,"invalid marker type",e.parameters.type);r.addEventListener("getMarker",function(r){if(r.data.type===artoolkit.PATTERN_MARKER&&"pattern"===e.parameters.type){if(null===i)return;r.data.marker.idPatt===i&&t(r)}else if(r.data.type===artoolkit.BARCODE_MARKER&&"barcode"===e.parameters.type){if(null===i)return;r.data.marker.idMatrix===i&&t(r)}else r.data.type===artoolkit.UNKNOWN_MARKER&&"unknown"===e.parameters.type&&t(r)})}())},20);return;function t(i){if(!(i.data.type===artoolkit.PATTERN_MARKER&&i.data.marker.cfPatt<e.parameters.minConfidence||i.data.type===artoolkit.BARCODE_MARKER&&i.data.marker.cfMatt<e.parameters.minConfidence)){var r=(new THREE.Matrix4).fromArray(i.data.matrix);e.updateWithModelViewMatrix(r)}}},THREEx.ArMarkerControls.prototype._initAruco=function(){this._arucoPosit=new POS.Posit(this.parameters.size,_this.context.arucoContext.canvas.width)},THREEx.ArMarkerControls.prototype._initTango=function(){console.log("init tango ArMarkerControls")};var THREEx=THREEx||{};THREEx.ArMarkerHelper=function(e){this.object3d=new THREE.Group;var i=new THREE.AxisHelper;this.object3d.add(i);var r=e.id,t=document.createElement("canvas");t.width=64,t.height=64;var a=t.getContext("2d"),n=new THREE.CanvasTexture(t);a.font="48px monospace",a.fillStyle="rgba(192,192,255, 0.5)",a.fillRect(0,0,t.width,t.height),a.fillStyle="darkblue",a.fillText(r,t.width/4,3*t.height/4),n.needsUpdate=!0;var o=new THREE.PlaneGeometry(1,1),s=new THREE.MeshBasicMaterial({map:n,transparent:!0});(i=new THREE.Mesh(o,s)).rotation.x=-Math.PI/2,this.object3d.add(i)};var THREEx=THREEx||{};THREEx.ArSmoothedControls=function(e,i){var r=this;THREEx.ArBaseControls.call(this,e),this.object3d.visible=!1,this._lastLerpStepAt=null,this._visibleStartedAt=null,this._unvisibleStartedAt=null,i=i||{},this.parameters={lerpPosition:.8,lerpQuaternion:.2,lerpScale:.7,lerpStepDelay:1/60,minVisibleDelay:0,minUnvisibleDelay:.2},function(e){if(void 0===e)return;for(var i in e){var t=e[i];if(void 0!==t){var a=r.parameters[i];void 0!==a?r.parameters[i]=t:console.warn("THREEx.ArSmoothedControls: '"+i+"' is not a property of this material.")}else console.warn("THREEx.ArSmoothedControls: '"+i+"' parameter is undefined.")}}(i)},THREEx.ArSmoothedControls.prototype=Object.create(THREEx.ArBaseControls.prototype),THREEx.ArSmoothedControls.prototype.constructor=THREEx.ArSmoothedControls,THREEx.ArSmoothedControls.prototype.update=function(e){var i=this.object3d,r=this.parameters,t=i.visible,a=performance.now()/1e3;(!1===e.visible&&(this._visibleStartedAt=null),!0===e.visible&&(this._unvisibleStartedAt=null),!0===e.visible&&null===this._visibleStartedAt&&(this._visibleStartedAt=a),!1===e.visible&&null===this._unvisibleStartedAt&&(this._unvisibleStartedAt=a),!1===t&&!0===e.visible)&&(a-this._visibleStartedAt>=this.parameters.minVisibleDelay&&(i.visible=!0,s()));!0===t&&!1===e.visible&&(a-this._unvisibleStartedAt>=this.parameters.minUnvisibleDelay&&(i.visible=!1));if(null===this._lastLerpStepAt)f(),this._lastLerpStepAt=a;else for(var n=Math.floor((a-this._lastLerpStepAt)/this.parameters.lerpStepDelay),o=0;o<n;o++)f(),this._lastLerpStepAt+=this.parameters.lerpStepDelay;return this.object3d.updateMatrix(),!1===t&&!0===i.visible&&this.dispatchEvent({type:"becameVisible"}),void(!0===t&&!1===i.visible&&this.dispatchEvent({type:"becameUnVisible"}));function s(){i.position.copy(e.position),i.quaternion.copy(e.quaternion),i.scale.copy(e.scale)}function f(){i.position.lerp(e.position,r.lerpPosition),i.quaternion.slerp(e.quaternion,r.lerpQuaternion),i.scale.lerp(e.scale,r.lerpScale)}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Context=THREEx.ArToolkitContext=function(e){var i=this;i._updatedAt=null,this.parameters={trackingBackend:"artoolkit",debug:!1,detectionMode:"mono",matrixCodeType:"3x3",cameraParametersUrl:ARjs.Context.baseURL+"parameters/camera_para.dat",maxDetectionRate:60,canvasWidth:640,canvasHeight:480,imageSmoothingEnabled:!1},console.assert(-1!==["artoolkit","aruco","tango"].indexOf(this.parameters.trackingBackend),"invalid parameter trackingBackend",this.parameters.trackingBackend),console.assert(-1!==["color","color_and_matrix","mono","mono_and_matrix"].indexOf(this.parameters.detectionMode),"invalid parameter detectionMode",this.parameters.detectionMode),this.arController=null,this.arucoContext=null,i.initialized=!1,this._arMarkersControls=[],function(e){if(void 0===e)return;for(var r in e){var t=e[r];if(void 0!==t){var a=i.parameters[r];void 0!==a?i.parameters[r]=t:console.warn("THREEx.ArToolkitContext: '"+r+"' is not a property of this material.")}else console.warn("THREEx.ArToolkitContext: '"+r+"' parameter is undefined.")}}(e)},Object.assign(ARjs.Context.prototype,THREE.EventDispatcher.prototype),ARjs.Context.baseURL="https://jeromeetienne.github.io/AR.js/three.js/",ARjs.Context.REVISION="1.4.10",ARjs.Context.createDefaultCamera=function(e){if(console.assert(!1,"use ARjs.Utils.createDefaultCamera instead"),"artoolkit"===e)var i=new THREE.Camera;else if("aruco"===e)i=new THREE.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else if("tango"===e)i=new THREE.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else console.assert(!1);return i},ARjs.Context.prototype.init=function(e){var i=this;return void("artoolkit"===this.parameters.trackingBackend?this._initArtoolkit(r):"aruco"===this.parameters.trackingBackend?this._initAruco(r):"tango"===this.parameters.trackingBackend?this._initTango(r):console.assert(!1));function r(){i.dispatchEvent({type:"initialized"}),i.initialized=!0,e&&e()}},ARjs.Context.prototype.update=function(e){if("artoolkit"===this.parameters.trackingBackend&&null===this.arController)return!1;var i=performance.now();return!(null!==this._updatedAt&&i-this._updatedAt<1e3/this.parameters.maxDetectionRate)&&(this._updatedAt=i,this._arMarkersControls.forEach(function(e){e.object3d.visible=!1}),"artoolkit"===this.parameters.trackingBackend?this._updateArtoolkit(e):"aruco"===this.parameters.trackingBackend?this._updateAruco(e):"tango"===this.parameters.trackingBackend?this._updateTango(e):console.assert(!1),this.dispatchEvent({type:"sourceProcessed"}),!0)},ARjs.Context.prototype.addMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls),this._arMarkersControls.push(e)},ARjs.Context.prototype.removeMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls);var i=this.arMarkerControlss.indexOf(artoolkitMarker);console.assert(i!=i),this._arMarkersControls.splice(i,1)},ARjs.Context.prototype._initArtoolkit=function(e){var i=this;this._artoolkitProjectionAxisTransformMatrix=new THREE.Matrix4,this._artoolkitProjectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationY(Math.PI)),this._artoolkitProjectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationZ(Math.PI));var r=new ARCameraParam(i.parameters.cameraParametersUrl,function(){var t=new ARController(i.parameters.canvasWidth,i.parameters.canvasHeight,r);i.arController=t,t.ctx.mozImageSmoothingEnabled=i.parameters.imageSmoothingEnabled,t.ctx.webkitImageSmoothingEnabled=i.parameters.imageSmoothingEnabled,t.ctx.msImageSmoothingEnabled=i.parameters.imageSmoothingEnabled,t.ctx.imageSmoothingEnabled=i.parameters.imageSmoothingEnabled,!0===i.parameters.debug&&(t.debugSetup(),t.canvas.style.position="absolute",t.canvas.style.top="0px",t.canvas.style.opacity="0.6",t.canvas.style.pointerEvents="none",t.canvas.style.zIndex="-1");var a={color:artoolkit.AR_TEMPLATE_MATCHING_COLOR,color_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_COLOR_AND_MATRIX,mono:artoolkit.AR_TEMPLATE_MATCHING_MONO,mono_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX}[i.parameters.detectionMode];console.assert(void 0!==a),t.setPatternDetectionMode(a);var n={"3x3":artoolkit.AR_MATRIX_CODE_3x3,"3x3_HAMMING63":artoolkit.AR_MATRIX_CODE_3x3_HAMMING63,"3x3_PARITY65":artoolkit.AR_MATRIX_CODE_3x3_PARITY65,"4x4":artoolkit.AR_MATRIX_CODE_4x4,"4x4_BCH_13_9_3":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_9_3,"4x4_BCH_13_5_5":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_5_5}[i.parameters.matrixCodeType];console.assert(void 0!==n),t.setMatrixCodeType(n),e()});return this},ARjs.Context.prototype.getProjectionMatrix=function(e){if("aruco"===this.parameters.trackingBackend)console.assert(!1,"dont call this function with aruco");else if("artoolkit"===this.parameters.trackingBackend){console.assert(this.arController,"arController MUST be initialized to call this function");var i=this.arController.getCameraMatrix(),r=(new THREE.Matrix4).fromArray(i)}else console.assert(!1);return r.multiply(this._artoolkitProjectionAxisTransformMatrix),r},ARjs.Context.prototype._updateArtoolkit=function(e){this.arController.process(e)},ARjs.Context.prototype._initAruco=function(e){this.arucoContext=new THREEx.ArucoContext,this.arucoContext.canvas.width=this.parameters.canvasWidth,this.arucoContext.canvas.height=this.parameters.canvasHeight;var i=this.arucoContext.canvas.getContext("2d");i.webkitImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,i.msImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,i.imageSmoothingEnabled=this.parameters.imageSmoothingEnabled,setTimeout(function(){e()},0)},ARjs.Context.prototype._updateAruco=function(e){var i=this,r=this._arMarkersControls;this.arucoContext.detect(e).forEach(function(e){for(var t=null,a=0;a<r.length;a++)if(console.assert("barcode"===r[a].parameters.type),r[a].parameters.barcodeValue===e.id){t=r[a];break}if(null!==t){var n=new THREE.Object3D;i.arucoContext.updateObject3D(n,t._arucoPosit,t.parameters.size,e),n.updateMatrix(),t.updateWithModelViewMatrix(n.matrix)}})},ARjs.Context.prototype._initTango=function(e){var i=this;navigator.getVRDisplays||(navigator.getVRDevices?alert("Your browser supports WebVR but not the latest version. See <a href='http://webvr.info'>webvr.info</a> for more info."):alert("Your browser does not support WebVR. See <a href='http://webvr.info'>webvr.info</a> for assistance.")),this._tangoContext={vrDisplay:null,vrPointCloud:null,frameData:new VRFrameData},navigator.getVRDisplays().then(function(r){0===r.length&&alert("no vrDisplays available");var t=i._tangoContext.vrDisplay=r[0];console.log("vrDisplays.displayName :",t.displayName),"Tango VR Device"===t.displayName&&(i._tangoContext.vrPointCloud=new THREE.WebAR.VRPointCloud(t,!0)),e()})},ARjs.Context.prototype._updateTango=function(e){this._arMarkersControls,this._tangoContext;var i=this._tangoContext.vrDisplay;if(null!==i){if("Tango VR Device"===i.displayName){this._tangoContext.vrPointCloud.update(!0,0,!0)}if(0!==this._arMarkersControls.length){var r=this._arMarkersControls[0],t=this._tangoContext.frameData;if(i.getFrameData(t),null!==t.pose.position&&null!==t.pose.orientation){var a=(new THREE.Vector3).fromArray(t.pose.position),n=(new THREE.Quaternion).fromArray(t.pose.orientation),o=new THREE.Vector3(1,1,1),s=(new THREE.Matrix4).compose(a,n,o),f=new THREE.Matrix4;f.getInverse(s),r.updateWithModelViewMatrix(f)}}}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Profile=THREEx.ArToolkitProfile=function(){this.reset(),this.performance("default")},ARjs.Profile.prototype._guessPerformanceLabel=function(){return!0===!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))?"phone-normal":"desktop-normal"},ARjs.Profile.prototype.reset=function(){return this.sourceParameters={sourceType:"webcam"},this.contextParameters={cameraParametersUrl:THREEx.ArToolkitContext.baseURL+"../data/data/camera_para.dat",detectionMode:"mono"},this.defaultMarkerParameters={type:"pattern",patternUrl:THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro",changeMatrixMode:"modelViewMatrix"},this},ARjs.Profile.prototype.performance=function(e){return"default"===e&&(e=this._guessPerformanceLabel()),"desktop-fast"===e?(this.contextParameters.canvasWidth=1920,this.contextParameters.canvasHeight=1440,this.contextParameters.maxDetectionRate=30):"desktop-normal"===e?(this.contextParameters.canvasWidth=640,this.contextParameters.canvasHeight=480,this.contextParameters.maxDetectionRate=60):"phone-normal"===e?(this.contextParameters.canvasWidth=320,this.contextParameters.canvasHeight=240,this.contextParameters.maxDetectionRate=30):"phone-slow"===e?(this.contextParameters.canvasWidth=240,this.contextParameters.canvasHeight=180,this.contextParameters.maxDetectionRate=30):console.assert(!1,"unknonwn label "+e),this},ARjs.Profile.prototype.defaultMarker=function(e){return"artoolkit"===(e=e||this.contextParameters.trackingBackend)?(this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="pattern",this.defaultMarkerParameters.patternUrl=THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro"):"aruco"===e?(this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="barcode",this.defaultMarkerParameters.barcodeValue=1001):"tango"===e?(this.defaultMarkerParameters.type="barcode",this.defaultMarkerParameters.barcodeValue=1001):console.assert(!1),this},ARjs.Profile.prototype.sourceWebcam=function(){return this.sourceParameters.sourceType="webcam",delete this.sourceParameters.sourceUrl,this},ARjs.Profile.prototype.sourceVideo=function(e){return this.sourceParameters.sourceType="video",this.sourceParameters.sourceUrl=e,this},ARjs.Profile.prototype.sourceImage=function(e){return this.sourceParameters.sourceType="image",this.sourceParameters.sourceUrl=e,this},ARjs.Profile.prototype.trackingBackend=function(e){return console.warn("stop profile.trackingBackend() obsolete function. use .trackingMethod instead"),this.contextParameters.trackingBackend=e,this},ARjs.Profile.prototype.changeMatrixMode=function(e){return this.defaultMarkerParameters.changeMatrixMode=e,this},ARjs.Profile.prototype.trackingMethod=function(e){var i=ARjs.Utils.parseTrackingMethod(e);return this.defaultMarkerParameters.markersAreaEnabled=i.markersAreaEnabled,this.contextParameters.trackingBackend=i.trackingBackend,this},ARjs.Profile.prototype.checkIfValid=function(){return"tango"===this.contextParameters.trackingBackend&&this.sourceImage(THREEx.ArToolkitContext.baseURL+"../data/images/img.jpg"),this};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.Source=THREEx.ArToolkitSource=function(e){var i=this;this.ready=!1,this.domElement=null,this.parameters={sourceType:"webcam",sourceUrl:null,sourceWidth:640,sourceHeight:480,displayWidth:640,displayHeight:480},function(e){if(void 0===e)return;for(var r in e){var t=e[r];if(void 0!==t){var a=i.parameters[r];void 0!==a?i.parameters[r]=t:console.warn("THREEx.ArToolkitSource: '"+r+"' is not a property of this material.")}else console.warn("THREEx.ArToolkitSource: '"+r+"' parameter is undefined.")}}(e)},ARjs.Source.prototype.init=function(e,i){var r=this;if("image"===this.parameters.sourceType)var t=this._initSourceImage(a,i);else if("video"===this.parameters.sourceType)t=this._initSourceVideo(a,i);else if("webcam"===this.parameters.sourceType)t=this._initSourceWebcam(a,i);else console.assert(!1);return this.domElement=t,this.domElement.style.position="absolute",this.domElement.style.top="0px",this.domElement.style.left="0px",this.domElement.style.zIndex="-2",this;function a(){document.body.appendChild(r.domElement),r.ready=!0,e&&e()}},ARjs.Source.prototype._initSourceImage=function(e){var i=document.createElement("img");i.src=this.parameters.sourceUrl,i.width=this.parameters.sourceWidth,i.height=this.parameters.sourceHeight,i.style.width=this.parameters.displayWidth+"px",i.style.height=this.parameters.displayHeight+"px";var r=setInterval(function(){i.naturalWidth&&(e(),clearInterval(r))},20);return i},ARjs.Source.prototype._initSourceVideo=function(e){var i=document.createElement("video");i.src=this.parameters.sourceUrl,i.style.objectFit="initial",i.autoplay=!0,i.webkitPlaysinline=!0,i.controls=!1,i.loop=!0,i.muted=!0,document.body.addEventListener("click",function e(){document.body.removeEventListener("click",e),i.play()}),i.width=this.parameters.sourceWidth,i.height=this.parameters.sourceHeight,i.style.width=this.parameters.displayWidth+"px",i.style.height=this.parameters.displayHeight+"px";var r=setInterval(function(){i.videoWidth&&(e(),clearInterval(r))},20);return i},ARjs.Source.prototype._initSourceWebcam=function(e,i){var r=this;i=i||function(e){alert("Webcam Error\nName: "+e.name+"\nMessage: "+e.message)};var t=document.createElement("video");if(t.setAttribute("autoplay",""),t.setAttribute("muted",""),t.setAttribute("playsinline",""),t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px",void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.enumerateDevices||void 0===navigator.mediaDevices.getUserMedia){if(void 0===navigator.mediaDevices)var a="navigator.mediaDevices";else if(void 0===navigator.mediaDevices.enumerateDevices)a="navigator.mediaDevices.enumerateDevices";else if(void 0===navigator.mediaDevices.getUserMedia)a="navigator.mediaDevices.getUserMedia";else console.assert(!1);return i({name:"",message:"WebRTC issue-! "+a+" not present in your browser"}),null}return navigator.mediaDevices.enumerateDevices().then(function(a){var n={audio:!1,video:{facingMode:"environment",width:{ideal:r.parameters.sourceWidth},height:{ideal:r.parameters.sourceHeight}}};navigator.mediaDevices.getUserMedia(n).then(function(i){t.srcObject=i,document.body.addEventListener("click",function(){t.play()});var r=setInterval(function(){t.videoWidth&&(e(),clearInterval(r))},20)}).catch(function(e){i({name:e.name,message:e.message})})}).catch(function(e){i({message:e.message})}),t},ARjs.Source.prototype.hasMobileTorch=function(){var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream==!1)return!1;void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var i=e.getVideoTracks()[0];return void 0!==i.getCapabilities&&!!i.getCapabilities().torch},ARjs.Source.prototype.toggleMobileTorch=function(){console.assert(!0===this.hasMobileTorch());var e=arToolkitSource.domElement.srcObject;if(e instanceof MediaStream!=!1){void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var i=e.getVideoTracks()[0];i.getCapabilities().torch?(this._currentTorchStatus=!1===this._currentTorchStatus,i.applyConstraints({advanced:[{torch:this._currentTorchStatus}]}).catch(function(e){console.log(e)})):alert("no mobile torch is available on your camera")}else alert("enabling mobile torch is available only on webcam")},ARjs.Source.prototype.onResizeElement=function(e){var i=this,r=window.innerWidth,t=window.innerHeight;if("IMG"===this.domElement.nodeName)var a=this.domElement.naturalWidth,n=this.domElement.naturalHeight;else if("VIDEO"===this.domElement.nodeName)a=this.domElement.videoWidth,n=this.domElement.videoHeight;else console.assert(!1);var o=a/n;if(r/t<o){var s=o*t;this.domElement.style.width=s+"px",this.domElement.style.marginLeft=-(s-r)/2+"px",this.domElement.style.height=t+"px",this.domElement.style.marginTop="0px"}else{var f=1/(o/r);this.domElement.style.height=f+"px",this.domElement.style.marginTop=-(f-t)/2+"px",this.domElement.style.width=r+"px",this.domElement.style.marginLeft="0px"}0!==arguments.length&&console.warn("use bad signature for arToolkitSource.copyElementSizeTo"),void 0===e&&(e=[]),e instanceof Array==!1&&(e=[e]),e.forEach(function(e){i.copyElementSizeTo(e)})},ARjs.Source.prototype.copyElementSizeTo=function(e){e.style.width=this.domElement.style.width,e.style.height=this.domElement.style.height,e.style.marginLeft=this.domElement.style.marginLeft,e.style.marginTop=this.domElement.style.marginTop},ARjs.Source.prototype.copySizeTo=function(){console.warn("obsolete function arToolkitSource.copySizeTo. Use arToolkitSource.copyElementSizeTo"),this.copyElementSizeTo.apply(this,arguments)},ARjs.Source.prototype.onResize=function(e,i,r){if(3!==arguments.length)return console.warn("obsolete function arToolkitSource.onResize. Use arToolkitSource.onResizeElement"),this.onResizeElement.apply(this,arguments);var t=e.parameters.trackingBackend;"artoolkit"===t?(this.onResizeElement(),!1===!!i.domElement.dataset.aframeCanvas&&this.copyElementSizeTo(i.domElement),null!==e.arController&&this.copyElementSizeTo(e.arController.canvas)):"aruco"===t?(this.onResizeElement(),this.copyElementSizeTo(i.domElement),this.copyElementSizeTo(e.arucoContext.canvas)):"tango"===t?i.setSize(window.innerWidth,window.innerHeight):console.assert(!1,"unhandled trackingBackend "+t);if("artoolkit"===t)null!==e.arController&&r.projectionMatrix.copy(e.getProjectionMatrix());else if("aruco"===t)r.aspect=i.domElement.width/i.domElement.height,r.updateProjectionMatrix();else if("tango"===t){var a=e._tangoContext.vrDisplay;a&&"Tango VR Device"===a.displayName&&THREE.WebAR.resizeVRSeeThroughCamera(a,r)}else console.assert(!1,"unhandled trackingBackend "+t)};var THREEx=THREEx||{};THREEx.ArVideoInWebgl=function(e){var i=new THREE.PlaneGeometry(2,2),r=new THREE.MeshBasicMaterial({map:e}),t=new THREE.Mesh(i,r);this.object3d=t,this.update=function(e){e.updateMatrixWorld(!0);var i=new THREE.Vector3(-0,0,-20);i=new THREE.Vector3(-0,0,-20);t.position.copy(i),e.localToWorld(t.position),e.matrixWorld.decompose(e.position,e.quaternion,e.scale),t.quaternion.copy(e.quaternion);var r=2*THREE.Math.radToDeg(Math.atan(1/e.projectionMatrix.elements[5])),a=parseFloat(arToolkitSource.domElement.style.width.replace(/px$/,""),10)/parseFloat(arToolkitSource.domElement.style.height.replace(/px$/,""),10);t.scale.y=Math.tan(THREE.Math.DEG2RAD*r/2)*i.length(),t.scale.x=t.scale.y*a}};var THREEx=THREEx||{};THREEx.HitTestingPlane=function(e){this._sourceElement=e,this._pickingScene=new THREE.Scene;var i=new THREE.PlaneGeometry(20,20,19,19).rotateX(-Math.PI/2),r=new THREE.MeshBasicMaterial({wireframe:!0});this._pickingPlane=new THREE.Mesh(i,r),this._pickingScene.add(this._pickingPlane);var t=parseInt(e.style.width),a=parseInt(e.style.height);this._pickingCamera=new THREE.PerspectiveCamera(42,t/a,.1,30)},THREEx.HitTestingPlane.prototype.update=function(e,i,r){if(this.onResize(),"modelViewMatrix"===r){var t=this._pickingPlane;i.parent.updateMatrixWorld(),t.matrix.copy(i.parent.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale)}else if("cameraTransformMatrix"===r){var a=this._pickingCamera;e.updateMatrixWorld(),a.matrix.copy(e.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}else console.assert(!1)},THREEx.HitTestingPlane.prototype.onResize=function(){var e=this._sourceElement,i=this._pickingCamera,r=parseInt(e.style.width),t=parseInt(e.style.height);i.aspect=r/t,i.updateProjectionMatrix()},THREEx.HitTestingPlane.prototype.test=function(e,i){e=2*(e-.5),i=2*-(i-.5),this._pickingScene.updateMatrixWorld(!0);var r=new THREE.Raycaster,t=new THREE.Vector3(e,i,1);r.setFromCamera(t,this._pickingCamera);var a=r.intersectObjects([this._pickingPlane]);return 0===a.length?null:{position:this._pickingPlane.worldToLocal(a[0].point.clone()),quaternion:new THREE.Quaternion,scale:new THREE.Vector3(1,1,1)}},THREEx.HitTestingPlane.prototype.renderDebug=function(e){e.render(this._pickingScene,this._pickingCamera)};var THREEx=THREEx||{};THREEx.HitTestingTango=function(e){this._arContext=e,this.boundingSphereRadius=.01,this.resultScale=new THREE.Vector3(1,1,1).multiplyScalar(1)},THREEx.HitTestingTango.prototype.update=function(){},THREEx.HitTestingTango.prototype.test=function(e,i){var r=this._arContext._tangoContext.vrDisplay;if(null===r)return null;if("Tango VR Device"!==r.displayName)return null;var t=r.getPickingPointAndPlaneInPointCloud(e,i);if(null==t)return console.warn("Could not retrieve the correct point and plane."),null;var a=new THREE.Object3D;return THREE.WebAR.positionAndRotateObject3DWithPickingPointAndPlaneInPointCloud(t,a,this.boundingSphereRadius),a.rotateZ(-Math.PI/2),{position:a.position,quaternion:a.quaternion,scale:this.resultScale}};var ARjs=ARjs||{};ARjs.Anchor=function(e,i){var r=this,t=e.arContext,a=e.parameters.scene,n=e.parameters.camera;this.arSession=e,this.parameters=i,console.log("ARjs.Anchor -","changeMatrixMode:",this.parameters.changeMatrixMode,"/ markersAreaEnabled:",i.markersAreaEnabled);var o=new THREE.Group;if(a.add(o),"modelViewMatrix"===i.changeMatrixMode)var s=o;else if("cameraTransformMatrix"===i.changeMatrixMode)s=n;else console.assert(!1);if(!1===i.markersAreaEnabled)new THREEx.ArMarkerControls(t,s,i);else{console.assert("artoolkit"===t.parameters.trackingBackend||"aruco"===t.parameters.trackingBackend),null===localStorage.getItem("ARjsMultiMarkerFile")&&ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile(t.parameters.trackingBackend),console.assert(null!==localStorage.getItem("ARjsMultiMarkerFile"));var f=localStorage.getItem("ARjsMultiMarkerFile");if("modelViewMatrix"===i.changeMatrixMode)var l=a;else if("cameraTransformMatrix"===i.changeMatrixMode)l=n;else console.assert(!1);var u=ARjs.MarkersAreaControls.fromJSON(t,l,s,f);u.parameters.changeMatrixMode=i.changeMatrixMode;var c=[];u.subMarkersControls.forEach(function(e){var i=new THREEx.ArMarkerHelper(e);i.object3d.visible=!1,e.object3d.add(i.object3d),c.push(i)}),this.markersArea={},this.markersArea.setSubMarkersVisibility=function(e){c.forEach(function(i){i.object3d.visible=e})}}this.object3d=new THREE.Group;var d=!0;if("tango"===t.parameters.trackingBackend&&(d=!1),!0===d){var h=new THREE.Group;a.add(h);var b=new THREEx.ArSmoothedControls(h);h.add(this.object3d)}else o.add(this.object3d);this.update=function(){"cameraTransformMatrix"===i.changeMatrixMode&&(r.object3d.visible=s.visible),void 0!==b&&(void 0!==u&&u.updateSmoothedControls(b),b.update(o))}},ARjs.Anchor.prototype.applyHitTestResult=function(e){this.object3d.position.copy(e.position),this.object3d.quaternion.copy(e.quaternion),this.object3d.scale.copy(e.scale),this.object3d.updateMatrix()};var ARjs=ARjs||{};ARjs.SessionDebugUI=function(e,i){var r=e.arContext.parameters.trackingBackend;this.domElement=document.createElement("div");var t=document.createElement("span");if(this.domElement.appendChild(t),t.innerHTML="trackingBackend :"+r,"tango"===r&&i){t=document.createElement("button");this.domElement.appendChild(t),t.id="buttonTangoTogglePointCloud",t.innerHTML="toggle-point-cloud",t.href="javascript:void(0)",t.addEventListener("click",function(){var r=e.parameters.scene;i.object3d.parent?r.remove(i.object3d):r.add(i.object3d)})}},ARjs.AnchorDebugUI=function(e){var i=e.arSession.arContext.parameters.trackingBackend;this.domElement=document.createElement("div");var r=document.createElement("span");if(this.domElement.appendChild(r),r.innerHTML="markersAreaEnabled :"+e.parameters.markersAreaEnabled,e.parameters.markersAreaEnabled){r=document.createElement("button");this.domElement.appendChild(r),r.id="buttonToggleMarkerHelpers",r.innerHTML="toggle-marker-helper",r.href="javascript:void(0)";var t=!1;r.addEventListener("click",function(){t=!t,e.markersArea.setSubMarkersVisibility(t)})}if(e.parameters.markersAreaEnabled){r=document.createElement("button");this.domElement.appendChild(r),r.id="buttonMarkersAreaLearner",r.innerHTML="Learn-new-marker-area",r.href="javascript:void(0)",r.addEventListener("click",function(){var e=ARjs.Context.baseURL+"examples/multi-markers/examples/learner.html";ARjs.MarkersAreaUtils.navigateToLearnerPage(e,i)})}if(e.parameters.markersAreaEnabled){r=document.createElement("button");this.domElement.appendChild(r),r.id="buttonMarkersAreaReset",r.innerHTML="Reset-marker-area",r.href="javascript:void(0)",r.addEventListener("click",function(){ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile(i),location.reload()})}};var ARjs=ARjs||{};ARjs.HitTesting=function(e){var i=e.arContext,r=i.parameters.trackingBackend;this.enabled=!0,this._arSession=e,this._hitTestingPlane=null,this._hitTestingTango=null,"tango"===r?this._hitTestingTango=new THREEx.HitTestingTango(i):this._hitTestingPlane=new THREEx.HitTestingPlane(e.arSource.domElement)},ARjs.HitTesting.prototype.update=function(e,i,r){!1!==this.enabled&&(null!==this._hitTestingTango?this._hitTestingTango.update():null!==this._hitTestingPlane?this._hitTestingPlane.update(e,i,r):console.assert(!1))},ARjs.HitTesting.prototype.testDomEvent=function(e){var i=this._arSession.arContext.parameters.trackingBackend,r=this._arSession.arSource;if(!1===this.enabled)return[];if("tango"===i)var t=e.pageX/window.innerWidth,a=e.pageY/window.innerHeight;else t=e.layerX/parseInt(r.domElement.style.width),a=e.layerY/parseInt(r.domElement.style.height);return this.test(t,a)},ARjs.HitTesting.prototype.test=function(e,i){var r=this._arSession.arContext.parameters.trackingBackend,t=[];if(!1===this.enabled)return[];var a=null;if("tango"===r)a=this._hitTestingTango.test(e,i);else a=this._hitTestingPlane.test(e,i);if(null===a)return t;var n=new ARjs.HitTesting.Result(a.position,a.quaternion,a.scale);return t.push(n),t},ARjs.HitTesting.Result=function(e,i,r){this.position=e,this.quaternion=i,this.scale=r};var ARjs=ARjs||{};ARjs.Session=function(e){var i=this;this.parameters={renderer:null,camera:null,scene:null,sourceParameters:{},contextParameters:{}},function(e){if(void 0===e)return;for(var r in e){var t=e[r];if(void 0!==t){var a=i.parameters[r];void 0!==a?i.parameters[r]=t:console.warn("THREEx.Session: '"+r+"' is not a property of this material.")}else console.warn("THREEx.Session: '"+r+"' parameter is undefined.")}}(e),console.assert(this.parameters.renderer instanceof THREE.WebGLRenderer),console.assert(this.parameters.camera instanceof THREE.Camera),console.assert(this.parameters.scene instanceof THREE.Scene),Object.defineProperty(this,"renderer",{get:function(){return console.warn("use .parameters.renderer renderer"),this.parameters.renderer}}),Object.defineProperty(this,"camera",{get:function(){return console.warn("use .parameters.camera instead"),this.parameters.camera}}),Object.defineProperty(this,"scene",{get:function(){return console.warn("use .parameters.scene instead"),this.parameters.scene}}),console.log("AR.js",ARjs.Context.REVISION,"- trackingBackend:",e.contextParameters.trackingBackend);var r=i.arSource=new ARjs.Source(e.sourceParameters);r.init(function(){r.onResize(t,i.parameters.renderer,i.parameters.camera)}),window.addEventListener("resize",function(){r.onResize(t,i.parameters.renderer,i.parameters.camera)});var t=i.arContext=new ARjs.Context(e.contextParameters);i.arContext.init(),t.addEventListener("initialized",function(e){r.onResize(t,i.parameters.renderer,i.parameters.camera)}),this.update=function(){!1!==r.ready&&t.update(r.domElement)}},ARjs.Session.prototype.onResize=function(){this.arSource.onResize(this.arContext,this.parameters.renderer,this.parameters.camera)};var ARjs=ARjs||{};ARjs.TangoPointCloud=function(e){var i=this,r=e.arContext;this.object3d=new THREE.Group,console.warn("Work only on cameraTransformMatrix - fix me - useless limitation"),r.addEventListener("initialized",function(e){var t=r._tangoContext.vrPointCloud.getBufferGeometry(),a=new THREE.PointsMaterial({size:.01,depthWrite:!1}),n=new THREE.Points(t,a);n.frustumCulled=!1,n.renderDepth=0,i.object3d.add(n)})};var ARjs=ARjs||{};ARjs.TangoVideoMesh=function(e){var i=e.arContext,r=e.renderer,t=null,a=null,n=new THREE.Scene,o=new THREE.OrthographicCamera(-1,1,1,-1,0,100);this._sceneOrtho=n,this._cameraOrtho=o,i.addEventListener("initialized",function(e){console.assert("tango"===i.parameters.trackingBackend),a=i._tangoContext.vrDisplay,console.assert(a,"vrDisplay MUST be defined"),"Tango VR Device"===a.displayName&&(t=THREE.WebAR.createVRSeeThroughCameraMesh(a),n.add(t))}),this.update=function(){console.assert("tango"===i.parameters.trackingBackend),null!==t&&THREE.WebAR.updateCameraMeshOrientation(a,t)},this.render=function(){console.assert("tango"===i.parameters.trackingBackend),r.render(n,o),r.clearDepth()}};var ARjs=ARjs||{};ARjs.Utils={},ARjs.Utils.createDefaultCamera=function(e){var i=this.parseTrackingMethod(e).trackingBackend;if("artoolkit"===i)var r=new THREE.Camera;else if("aruco"===i)r=new THREE.PerspectiveCamera(42,window.innerWidth/window.innerHeight,.01,100);else if("tango"===i)r=new THREE.PerspectiveCamera(42,window.innerWidth/window.innerHeight,.01,100);else console.assert(!1,"unknown trackingBackend: "+i);return r},ARjs.Utils.isTango=function(){return null!==navigator.userAgent.match("Chrome/57.0.2987.5")},ARjs.Utils.parseTrackingMethod=function(e){return"best"===e&&(e=ARjs.Utils.isTango()?"tango":"area-artoolkit"),e.startsWith("area-")?{trackingBackend:e.replace("area-",""),markersAreaEnabled:!0}:{trackingBackend:e,markersAreaEnabled:!1}};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaControls=THREEx.ArMultiMarkerControls=function(e,i,r){var t=this;THREEx.ArBaseControls.call(this,i),arguments.length>3&&console.assert("wrong api for",THREEx.ArMultiMarkerControls),this.parameters={subMarkersControls:r.subMarkersControls,subMarkerPoses:r.subMarkerPoses,changeMatrixMode:void 0!==r.changeMatrixMode?r.changeMatrixMode:"modelViewMatrix"},this.object3d.visible=!1,this.subMarkersControls=this.parameters.subMarkersControls,this.subMarkerPoses=this.parameters.subMarkerPoses,e.addEventListener("sourceProcessed",function(){t._onSourceProcessed()})},ARjs.MarkersAreaControls.prototype=Object.create(THREEx.ArBaseControls.prototype),ARjs.MarkersAreaControls.prototype.constructor=ARjs.MarkersAreaControls,ARjs.MarkersAreaControls.prototype._onSourceProcessed=function(){var e=this,i={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}},r=e.parameters.subMarkersControls[0].object3d.quaternion;if(this.parameters.subMarkersControls.forEach(function(t,a){var n=t.object3d;if(!1!==n.visible){var o=n.matrix.clone(),s=e.parameters.subMarkerPoses[a];o.multiply((new THREE.Matrix4).getInverse(s));var f=new THREE.Vector3,l=new THREE.Quaternion,u=new THREE.Vector3;o.decompose(f,l,u),i.count++,ARjs.MarkersAreaControls.averageVector3(i.position.sum,f,i.count,i.position.average),ARjs.MarkersAreaControls.averageQuaternion(i.quaternion.sum,l,r,i.count,i.quaternion.average),ARjs.MarkersAreaControls.averageVector3(i.scale.sum,u,i.count,i.scale.average)}}),i.count>0?e.object3d.visible=!0:e.object3d.visible=!1,i.count>0){var t=new THREE.Matrix4;t.compose(i.position.average,i.quaternion.average,i.scale.average),"modelViewMatrix"===this.parameters.changeMatrixMode?e.object3d.matrix.copy(t):"cameraTransformMatrix"===this.parameters.changeMatrixMode?e.object3d.matrix.getInverse(t):console.assert(!1),e.object3d.matrix.decompose(e.object3d.position,e.object3d.quaternion,e.object3d.scale)}},ARjs.MarkersAreaControls.averageQuaternion=function(e,i,r,t,a){return a=a||new THREE.Quaternion,console.assert(r instanceof THREE.Quaternion==!0),i.dot(r)>0&&(i=new THREE.Quaternion(-i.x,-i.y,-i.z,-i.w)),e.x+=i.x,e.y+=i.y,e.z+=i.z,e.w+=i.w,a.x=e.x/t,a.y=e.y/t,a.z=e.z/t,a.w=e.w/t,a.normalize(),a},ARjs.MarkersAreaControls.averageVector3=function(e,i,r,t){return t=t||new THREE.Vector3,e.x+=i.x,e.y+=i.y,e.z+=i.z,t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,t},ARjs.MarkersAreaControls.computeCenter=function(e){var i=JSON.parse(e),r={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}},t=new THREE.Quaternion;i.subMarkersControls.forEach(function(e){var i=(new THREE.Matrix4).fromArray(e.poseMatrix),a=new THREE.Vector3,n=new THREE.Quaternion,o=new THREE.Vector3;i.decompose(a,n,o),r.count++,ARjs.MarkersAreaControls.averageVector3(r.position.sum,a,r.count,r.position.average),ARjs.MarkersAreaControls.averageQuaternion(r.quaternion.sum,n,t,r.count,r.quaternion.average),ARjs.MarkersAreaControls.averageVector3(r.scale.sum,o,r.count,r.scale.average)});var a=new THREE.Matrix4;return a.compose(r.position.average,r.quaternion.average,r.scale.average),a},ARjs.MarkersAreaControls.computeBoundingBox=function(e){var i=JSON.parse(e),r=new THREE.Box3;return i.subMarkersControls.forEach(function(e){var i=(new THREE.Matrix4).fromArray(e.poseMatrix),t=new THREE.Vector3,a=new THREE.Quaternion,n=new THREE.Vector3;i.decompose(t,a,n),r.expandByPoint(t)}),r},ARjs.MarkersAreaControls.prototype.updateSmoothedControls=function(e,i){void 0===i&&(i=[[.1,.1,.3],[.2,.1,.4],[.2,.2,.5],[.3,.2,.7],[.3,.2,.7]]);var r=0;if(this.parameters.subMarkersControls.forEach(function(e,i){!0===e.object3d.visible&&r++}),void 0!==i[r-1])var t=i[r-1];else t=i[i.length-1];e.parameters.lerpPosition=t[0],e.parameters.lerpQuaternion=t[1],e.parameters.lerpScale=t[2]},ARjs.MarkersAreaControls.fromJSON=function(e,i,r,t,a){var n=JSON.parse(t),o=[],s=[];return a=a||{},n.subMarkersControls.forEach(function(r){var t=new THREE.Object3D;i.add(t);var a=new THREEx.ArMarkerControls(e,t,r.parameters);o.push(a),s.push((new THREE.Matrix4).fromArray(r.poseMatrix))}),a.subMarkersControls=o,a.subMarkerPoses=s,new THREEx.ArMultiMarkerControls(e,r,a)};var ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaLearning=THREEx.ArMultiMakersLearning=function(e,i){var r=this;this._arToolkitContext=e,this.subMarkersControls=i,this.enabled=!0,e.addEventListener("sourceProcessed",function(){r._onSourceProcessed()})},ARjs.MarkersAreaLearning.prototype._onSourceProcessed=function(){var e=this.subMarkersControls[0].object3d.quaternion;if(!1!==this.enabled)for(var i=this.subMarkersControls.filter(function(e){return!0===e.object3d.visible}),r=Object.keys(i).length,t=new THREE.Vector3,a=new THREE.Quaternion,n=new THREE.Vector3,o=new THREE.Matrix4,s=0;s<r;s++)for(var f=i[s],l=0;l<r;l++){var u=i[l];if(s!==l){void 0===f.object3d.userData.seenCouples&&(f.object3d.userData.seenCouples={});var c=f.object3d.userData.seenCouples;void 0===c[u.id]&&(c[u.id]={count:0,position:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)},quaternion:{sum:new THREE.Quaternion(0,0,0,0),average:new THREE.Quaternion(0,0,0,0)},scale:{sum:new THREE.Vector3(0,0,0),average:new THREE.Vector3(0,0,0)}}),o.getInverse(f.object3d.matrix),o.multiply(u.object3d.matrix),o.decompose(t,a,n);var d=c[u.id];d.count++,THREEx.ArMultiMarkerControls.averageVector3(d.position.sum,t,d.count,d.position.average),THREEx.ArMultiMarkerControls.averageQuaternion(d.quaternion.sum,a,e,d.count,d.quaternion.average),THREEx.ArMultiMarkerControls.averageVector3(d.scale.sum,n,d.count,d.scale.average)}}},ARjs.MarkersAreaLearning.prototype.computeResult=function(){var e=this,i=this.subMarkersControls[0];this.deleteResult(),i.object3d.userData.result={averageMatrix:new THREE.Matrix4,confidenceFactor:1};do{var r=!1;this.subMarkersControls.forEach(function(i){var t=i.object3d.userData.result;if(!0!==(void 0!==t&&t.confidenceFactor>=1)){var a=e._getLearnedCoupleStats(i);if(null!==a){var n=e._getSubMarkerControlsByID(a),o=i.object3d.userData.seenCouples[a],s=new THREE.Matrix4;s.compose(o.position.average,o.quaternion.average,o.scale.average);var f=n.object3d.userData.result.averageMatrix,l=(new THREE.Matrix4).getInverse(f).multiply(s);l=(new THREE.Matrix4).getInverse(l),console.assert(void 0===i.object3d.userData.result),i.object3d.userData.result={averageMatrix:l,confidenceFactor:1},r=!0}}})}while(!0===r)},ARjs.MarkersAreaLearning.prototype._getLearnedCoupleStats=function(e){if(void 0===e.object3d.userData.seenCouples)return null;for(var i=e.object3d.userData.seenCouples,r=Object.keys(i).map(Number),t=0;t<r.length;t++){var a=r[t],n=this._getSubMarkerControlsByID(a).object3d.userData.result;if(!1!==(void 0!==n&&n.confidenceFactor>=1))return a}return null},ARjs.MarkersAreaLearning.prototype._getSubMarkerControlsByID=function(e){for(var i=0;i<this.subMarkersControls.length;i++){var r=this.subMarkersControls[i];if(r.id===e)return r}return null},ARjs.MarkersAreaLearning.prototype.toJSON=function(){this.computeResult();var e={meta:{createdBy:"Area Learning - AR.js "+THREEx.ArToolkitContext.REVISION,createdAt:(new Date).toJSON()},trackingBackend:this._arToolkitContext.parameters.trackingBackend,subMarkersControls:[]},i=this.subMarkersControls[0];(new THREE.Matrix4).getInverse(i.object3d.matrix);this.subMarkersControls.forEach(function(i,r){if(void 0!==i.object3d.userData.result){var t=i.object3d.userData.result.averageMatrix;console.assert(t instanceof THREE.Matrix4);var a={parameters:{},poseMatrix:t.toArray()};"pattern"===i.parameters.type?(a.parameters.type=i.parameters.type,a.parameters.patternUrl=i.parameters.patternUrl):"barcode"===i.parameters.type?(a.parameters.type=i.parameters.type,a.parameters.barcodeValue=i.parameters.barcodeValue):console.assert(!1),e.subMarkersControls.push(a)}});var r=JSON.stringify(e,null,"\t");return r},ARjs.MarkersAreaLearning.prototype.resetStats=function(){this.deleteResult(),this.subMarkersControls.forEach(function(e){delete e.object3d.userData.seenCouples})},ARjs.MarkersAreaLearning.prototype.deleteResult=function(){this.subMarkersControls.forEach(function(e){delete e.object3d.userData.result})};var THREEx=THREEx||{},ARjs=ARjs||{},THREEx=THREEx||{};ARjs.MarkersAreaUtils=THREEx.ArMultiMarkerUtils={},ARjs.MarkersAreaUtils.navigateToLearnerPage=function(e,i){var r={backURL:location.href,trackingBackend:i,markersControlsParameters:ARjs.MarkersAreaUtils.createDefaultMarkersControlsParameters(i)};location.href=e+"#"+encodeURIComponent(JSON.stringify(r))},ARjs.MarkersAreaUtils.storeDefaultMultiMarkerFile=function(e){var i=ARjs.MarkersAreaUtils.createDefaultMultiMarkerFile(e);localStorage.setItem("ARjsMultiMarkerFile",JSON.stringify(i))},ARjs.MarkersAreaUtils.createDefaultMultiMarkerFile=function(e){console.assert(e);var i=document.createElement("a");i.href=ARjs.Context.baseURL;var r=i.href,t={meta:{createdBy:"AR.js Default Marker "+ARjs.Context.REVISION,createdAt:(new Date).toJSON()},trackingBackend:e,subMarkersControls:[]};return t.subMarkersControls[0]={parameters:{},poseMatrix:(new THREE.Matrix4).makeTranslation(0,0,0).toArray()},"artoolkit"===e?(t.subMarkersControls[0].parameters.type="pattern",t.subMarkersControls[0].parameters.patternUrl=r+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"):"aruco"===e?(t.subMarkersControls[0].parameters.type="barcode",t.subMarkersControls[0].parameters.barcodeValue=1001):console.assert(!1),t},ARjs.MarkersAreaUtils.createDefaultMarkersControlsParameters=function(e){var i=document.createElement("a");i.href=ARjs.Context.baseURL;var r=i.href;if("artoolkit"===e)var t=[{type:"pattern",patternUrl:r+"examples/marker-training/examples/pattern-files/pattern-hiro.patt"},{type:"pattern",patternUrl:r+"examples/marker-training/examples/pattern-files/pattern-kanji.patt"},{type:"pattern",patternUrl:r+"examples/marker-training/examples/pattern-files/pattern-letterA.patt"},{type:"pattern",patternUrl:r+"examples/marker-training/examples/pattern-files/pattern-letterB.patt"},{type:"pattern",patternUrl:r+"examples/marker-training/examples/pattern-files/pattern-letterC.patt"},{type:"pattern",patternUrl:r+"examples/marker-training/examples/pattern-files/pattern-letterF.patt"}];else if("aruco"===e)t=[{type:"barcode",barcodeValue:1001},{type:"barcode",barcodeValue:1002},{type:"barcode",barcodeValue:1003},{type:"barcode",barcodeValue:1004},{type:"barcode",barcodeValue:1005},{type:"barcode",barcodeValue:1006}];else console.assert(!1);return t};
},{"fs":"+aaM","path":"CjBA","crypto":"3Cgj","three":"dKqR","process":"HLGr","buffer":"eKIq"}],"jFVh":[function(require,module,exports) {
module.exports="rigged-wolf.eabb5f9b.gltf";
},{}],"6i59":[function(require,module,exports) {
module.exports="wolf-albedo.f3a81f8f.png";
},{}],"n4mv":[function(require,module,exports) {
module.exports="wolf-spec.eaf85c78.png";
},{}],"Fyu7":[function(require,module,exports) {
module.exports="wolf-normal.0d8fbf78.png";
},{}],"mpVp":[function(require,module,exports) {
"use strict";var e=require("three"),t=g(e),a=require("three-gltf-loader"),n=h(a),i=require("three-orbit-controls"),r=h(i),o=require("ar.js/three.js/build/ar"),d=g(o),l=require("./rigged-wolf.gltf"),u=h(l),s=require("./img/wolf-albedo.png"),w=h(s),p=require("./img/wolf-spec.png"),c=h(p),f=require("./img/wolf-normal.png"),m=h(f);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var v=function e(t){/in/.test(document.readyState)?setTimeout(e.bind(null,t),9):t()},M=function(e,t){var a=[window.innerWidth,window.innerHeight],n=a[0],i=a[1];t.aspect=n/i,t.updateProjectionMatrix(),e.setSize(n,i)};v(function(){console.log(d.ArToolkitSource);var e=void 0,a=new t.Clock,i=[window.innerWidth,window.innerHeight],o=i[0],l=i[1],s=new t.WebGLRenderer({antialias:!0});s.setPixelRatio(window.devicePixelRatio),s.setSize(o,l),s.shadowMap.enabled=!0,s.shadowMap.type=t.PCFSoftShadowMap,s.gammaOutput=!0,document.body.appendChild(s.domElement);var p=new t.Scene;p.background=new t.Color(11184810);var f=new t.HemisphereLight(16773360,6316134,.5),h=new t.SpotLight(16777215);f.position.set(10,10,10),h.position.set(1e4,1e4,1e4),h.castShadow=!0,h.shadow.bias=1e-4,h.shadow.mapSize.width=2048,h.shadow.mapSize.height=2048,p.add(f),p.add(h);var g=new t.PerspectiveCamera(45,o/l,1,1e3);g.position.z=400;var v=new((0,r.default)(t))(g);window.onresize=function(){return M(s,g)},(new n.default).load(u.default,function(a){var n=a.scene,i=a.animations;n.rotateY(40),p.add(n),n.traverse(function(e){if(e.material&&"envMap"in e.material){console.log(e);var a=(new t.TextureLoader).load(w.default),n=(new t.TextureLoader).load(m.default),i=(new t.TextureLoader).load(c.default);e.material.normalMap=n,e.material.map=a,e.material.lightMap=i,e.material.envMap=null,e.material.needsUpdate=!0}}),i&&i.length&&(e=new t.AnimationMixer(n),i.forEach(function(t){e.clipAction(t).play(),b(s)}))});var S=function(){v.update(),e.update(.75*a.getDelta()),s.render(p,g)},b=function(e){e.setAnimationLoop(S)}});
},{"three":"dKqR","three-gltf-loader":"GstH","three-orbit-controls":"1RYe","ar.js/three.js/build/ar":"NFYL","./rigged-wolf.gltf":"jFVh","./img/wolf-albedo.png":"6i59","./img/wolf-spec.png":"n4mv","./img/wolf-normal.png":"Fyu7"}]},{},["mpVp"], null)
//# sourceMappingURL=script.map